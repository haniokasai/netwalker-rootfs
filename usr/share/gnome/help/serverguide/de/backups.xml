<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../libs/global.ent">
<!-- NAMES --><!ENTITY canonical-name "Canonical Ltd.">
<!ENTITY project-name "Ubuntu Documentation Project">
<!ENTITY ubuntu "<phrase>Ubuntu</phrase>">
<!ENTITY sg-title "Server Guide">
<!-- VERSIONS --><!ENTITY distro-version "Jaunty Jackalope">
<!ENTITY distro-rev "9.04">
<!ENTITY distro-release-date "April 2009">
<!ENTITY distro-short-codename "jaunty">
<!ENTITY distro-apt-cd-name "Ubuntu 9.04_Jaunty_Jackalope">
<!ENTITY linux-kernel-version "2.6.27">
<!ENTITY gcc-version "4.3.1">
<!ENTITY glibc-version "2.8">
<!ENTITY python-version "2.5">
<!ENTITY glossary SYSTEM "../common/C/glossary.xml">
<!-- LEGAL URLs --><!ENTITY legalnotice SYSTEM "../libs/C/legalnotice.xml">
<!ENTITY gpl-url '<ulink url="http://www.gnu.org/licenses/gpl.html">GNU General Public License</ulink>'>
<!ENTITY cc "http://creativecommons.org/">
<!ENTITY cc-attrib '<ulink url="http://creativecommons.org/licenses/by-sa/2.5/">Attribution-ShareAlike 2.5</ulink>'>
<!ENTITY cc-fulldeed-url "http://creativecommons.org/licenses/by-sa/2.5/legalcode/">
<!ENTITY fdl-url '<ulink url="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</ulink>'>
<!ENTITY cc-disclaimer-url "http://creativecommons.org/licenses/disclaimer-popup?lang=en">
<!-- CANONICAL URL RESOURCES --><!ENTITY canonical-url "http://www.canonical.com">
<!-- OTHER UBUNTU RELATED RESOURCES --><!ENTITY upstart-url "http://upstart.ubuntu.com">
<!-- UBUNTU IRC INFORMATION --><!ENTITY irc-network "Freenode">
<!ENTITY irc-server "irc.ubuntu.com">
<!ENTITY ubuntu-irc "irc.ubuntu.com channel #ubuntu">
<!ENTITY kubuntu-irc "irc.ubuntu.com channel #kubuntu">
<!ENTITY xubuntu-irc "irc.ubuntu.com channel #xubuntu">
<!ENTITY edubuntu-irc "irc.ubuntu.com channel #edubuntu">
<!-- UBUNTU URL RESOURCES --><!ENTITY ubuntu-packages "http://packages.ubuntu.com">
<!ENTITY ubuntu-web "http://www.ubuntu.com">
<!ENTITY ubuntu-main "http://www.ubuntu.com">
<!ENTITY ubuntu-download "http://www.ubuntu.com/download">
<!ENTITY ubuntu-forums "http://www.ubuntu.com/community/forums">
<!ENTITY ubuntu-components "http://www.ubuntu.com/ubuntu/components">
<!ENTITY ubuntu-lists "http://lists.ubuntu.com">
<!ENTITY ubuntu-wiki "http://wiki.ubuntu.com">
<!ENTITY ubuntu-bugzilla "https://launchpad.net/distros/ubuntu/+bugs">
<!ENTITY ubuntu-doc-bugs "https://launchpad.net/products/ubuntu-doc/+bugs">
<!ENTITY ubuntu-support "http://www.ubuntu.com/support">
<!ENTITY ubuntu-paidsupport "http://www.ubuntu.com/support/paid">
<!ENTITY ubuntu-freesupport "http://www.ubuntu.com/support/free">
<!ENTITY ubuntu-comments "http://www.ubuntuforums.org/showthread.php?p=21787">
<!ENTITY ubuntu-documentation "http://help.ubuntu.com">
<!ENTITY ubuntu-documentation-repos "https://docteam.ubuntu.com/repos/trunk">
<!ENTITY ubuntu-doc-team "https://wiki.ubuntu.com/DocumentationTeam">
<!ENTITY ubuntu-doc-list "http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc">
<!ENTITY ubuntu-shipit "http://shipit.ubuntu.com">
<!ENTITY ubuntu-launchpad "https://launchpad.ubuntu.com">
<!ENTITY ubuntu-rosetta "https://launchpad.ubuntu.com/rosetta">
<!ENTITY ubuntu-planet "http://planet.ubuntu.com">
<!ENTITY ubuntu-philosophy "http://www.ubuntu.com/ubuntu/philosophy">
<!ENTITY ubuntu-participate "http://www.ubuntu.com/community/participate/">
<!ENTITY ubuntu-marketplace "http://www.ubuntu.com/support/marketplace">
<!ENTITY ubuntu-hwdb "http://hwdb.ubuntu.com">
<!-- UBUNTU WIKI RESOURCES --><!ENTITY wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY restricted-formats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-RestrictedFormats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-XChatHowto "https://help.ubuntu.com/community/XChatHowto">
<!ENTITY wiki-RootSudo "https://help.ubuntu.com/community/RootSudo">
<!ENTITY wiki-HowToGetHelp "https://help.ubuntu.com/community/HowToGetHelp">
<!ENTITY transcode "https://help.ubuntu.com/community/DVDRippingandEncoding">
<!ENTITY wiki-Wine "https://help.ubuntu.com/community/Wine">
<!ENTITY wiki-Cedega "https://help.ubuntu.com/community/Cedega">
<!ENTITY wiki-Nano "https://help.ubuntu.com/community/NanoHowto">
<!ENTITY wiki-locoteams "https://wiki.ubuntu.com/LoCoTeamList">
<!ENTITY wiki-BasicCommands "https://help.ubuntu.com/community/BasicCommands">
<!ENTITY wiki-filepermissions "https://help.ubuntu.com/community/FilePermissions">
<!-- KUBUNTU URL RESOURCES --><!ENTITY kubuntu-web "http://www.kubuntu.org">
<!ENTITY kubuntu-main "http://www.kubuntu.org">
<!ENTITY kubuntu-download "http://releases.ubuntu.com/kubuntu/">
<!ENTITY kubuntu-packages "http://packages.ubuntu.com/edgy/">
<!ENTITY kubuntu-cdpackages-nodefault "http://people.ubuntu.com/~cjwatson/seeds/kubuntu-edgy/ship">
<!ENTITY kubuntu-lists "http://lists.ubuntu.com/archives/kubuntu-users/">
<!ENTITY kubuntu-lists-users "http://lists.ubuntu.com/mailman/listinfo/kubuntu-users/">
<!ENTITY kubuntu-lists-devel "http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel/">
<!ENTITY kubuntu-mirrors "http://distrowatch.com/kubuntu">
<!ENTITY kubuntu-forums "http://kubuntuforums.net">
<!ENTITY kubuntu-wiki "https://wiki.kubuntu.org">
<!ENTITY kubuntu-documentation-site "http://www.kubuntu.org/documentation.php">
<!ENTITY kubuntu-wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY kubuntu-support "http://www.kubuntu.org/support.php">
<!-- XUBUNTU URL RESOURCES --><!ENTITY xubuntu-web "http://www.xubuntu.org">
<!ENTITY xubuntu-main "http://www.xubuntu.org">
<!ENTITY xubuntu-web-help "http://www.xubuntu.org/help">
<!-- DEBIAN RESOURCES --><!ENTITY debian-apt "http://www.debian.org/doc/user-manuals#apt-howto">
<!-- EXTERNAL URL RESOURCES --><!ENTITY linmodem "http://www.linmodems.org/">
<!ENTITY gnome "http://www.gnome.org/">
<!ENTITY linuxorg "http://www.linux.org/">
<!ENTITY ooo "http://www.openoffice.org/">
<!ENTITY kde "http://www.kde.org/">
<!ENTITY lugww "http://lugww.counter.li.org/">
<!ENTITY ubuntu-watch "http://distrowatch.com/ubuntu/">
<!ENTITY realplayer-download "http://www.real.com/linux/">
<!ENTITY nvu-download "http://www.nvu.com/download.html">
<!ENTITY sunjava-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY xorg "http://www.x.org">
<!ENTITY dyndns "http://www.dyndns.org">
<!ENTITY shoutcast "http://www.shoutcast.com/">
<!ENTITY freedomtoaster "http://www.freedomtoaster.org/">
<!ENTITY xfce "http://www.xfce.org/">
<!-- ubuntu-screenshots TODO --><!ENTITY kubuntu-screenshots "http://shots.osdir.com/">
<!ENTITY mozilla "http://www.mozilla.org/">
<!ENTITY mozilla-firefox "http://www.mozilla.org/products/firefox/">
<!ENTITY gnu "http://www.gnu.org/">
<!ENTITY gnu-philosophy "http://www.gnu.org/philosophy/">
<!ENTITY win4lin "http://www.win4lin.com">
<!ENTITY codeweavers "http://www.codeweavers.com">
<!ENTITY kernel "http://www.kernel.org">
<!ENTITY google "http://www.google.com">
<!ENTITY kdelook " http://www.kde-look.org">
<!ENTITY lulu-store "http://www.lulu.com/ubuntu-doc">
<!-- this entity controls the url for addons--><!ENTITY java-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY skype-deb "skype_1.2.0.17-1_i386.deb">
<!ENTITY skype-download "http://www.skype.com/go/getskype-linux-deb">
<!ENTITY scanmodem-gz "scanModem.gz">
<!ENTITY scanmodem-url "http://linmodems.technion.ac.il/packages/scanModem.gz">
<!ENTITY ext2fs-url "http://www.fs-driver.org/index.html">
<!ENTITY mvb-tar "mvb_1.6.tgz">
<!ENTITY mvb-url "http://www.xscd.com/pub/mvb/&mvb-tar;">
<!-- TLDP --><!ENTITY ldp-pre-install-check "http://tldp.org/HOWTO/Pre-Installation-Checklist/">
<!-- LANGUAGES (sorted by two letter code)--><!ENTITY Afar "aa">
<!ENTITY Abkhazian "ab">
<!ENTITY Afrikaans "af">
<!ENTITY Amharic "af">
<!ENTITY Arabic "ar">
<!ENTITY Assamese "as">
<!ENTITY Aymara "ay">
<!ENTITY Azerbaijani "az">
<!ENTITY Bashkir "ba">
<!ENTITY Byelorussian "be">
<!ENTITY Bulgarian "bg">
<!ENTITY Bihari "bh">
<!ENTITY Bislama "bi">
<!ENTITY Bangla "bn">
<!ENTITY Bengali "bn">
<!ENTITY Tibetan "bo">
<!ENTITY Breton "br">
<!ENTITY Catalan "ca">
<!ENTITY Corsican "co">
<!ENTITY Czech "cs">
<!ENTITY Welsh "cy">
<!ENTITY Danish "da">
<!ENTITY German "de">
<!ENTITY Bhutani "dz">
<!ENTITY Greek "el">
<!-- <!ENTITY EnglishAmerican 'en'> --><!ENTITY EnglishAmerican "C">
<!ENTITY Esperanto "eo">
<!ENTITY Spanish "es">
<!ENTITY Estonian "et">
<!ENTITY Basque "eu">
<!ENTITY Persian "fa">
<!ENTITY Finnish "fi">
<!ENTITY Fiji "fj">
<!ENTITY Faeroese "fo">
<!ENTITY French "fr">
<!ENTITY Frisian "fy">
<!ENTITY Irish "ga">
<!ENTITY Gaelic "gd">
<!ENTITY ScotsGaelic "gd">
<!ENTITY Galician "gl">
<!ENTITY Guarani "gn">
<!ENTITY Gujarati "gu">
<!ENTITY Hausa "ha">
<!ENTITY Hindi "hi">
<!ENTITY Croatian "hr">
<!ENTITY Hungarian "hu">
<!ENTITY Armenian "hy">
<!ENTITY Interlingua "ia">
<!ENTITY Interlingue "ie">
<!ENTITY Inupiak "ik">
<!ENTITY Indonesian "in">
<!ENTITY Icelandic "is">
<!ENTITY Italian "it">
<!ENTITY Hebrew "iw">
<!ENTITY Japanese "ja">
<!ENTITY Yiddish "ji">
<!ENTITY Javanese "jw">
<!ENTITY Georgian "ka">
<!ENTITY Kazakh "kk">
<!ENTITY Greenlandic "kl">
<!ENTITY Cambodian "km">
<!ENTITY Kannada "kn">
<!ENTITY Korean "ko">
<!ENTITY Kashmiri "ks">
<!ENTITY Kurdish "ku">
<!ENTITY Kirghiz "ky">
<!ENTITY Latin "la">
<!ENTITY Lingala "ln">
<!ENTITY Laothian "lo">
<!ENTITY Lithuanian "lt">
<!ENTITY Latvian "lv">
<!ENTITY Lettish "lv">
<!ENTITY Malagasy "mg">
<!ENTITY Maori "mi">
<!ENTITY Macedonian "mk">
<!ENTITY Malayalam "ml">
<!ENTITY Mongolian "mn">
<!ENTITY Moldavian "mo">
<!ENTITY Marathi "mr">
<!ENTITY Malay "ms">
<!ENTITY Maltese "mt">
<!ENTITY Burmese "my">
<!ENTITY Nauru "na">
<!ENTITY Nepali "ne">
<!ENTITY Dutch "nl">
<!ENTITY Norwegian "no">
<!ENTITY Occitan "oc">
<!ENTITY Afan "om">
<!ENTITY Oromo "om">
<!ENTITY Oriya "or">
<!ENTITY Punjabi "pa">
<!ENTITY Polish "pl">
<!ENTITY Pushto "ps">
<!ENTITY Pashto "ps">
<!ENTITY Portuguese "pt">
<!ENTITY Quechua "qu">
<!ENTITY Rhaeto-Romance "rm">
<!ENTITY Kirundi "rn">
<!ENTITY Romanian "ro">
<!ENTITY Russian "ru">
<!ENTITY Kinyarwanda "rw">
<!ENTITY Sanskrit "sa">
<!ENTITY Sindhi "sd">
<!ENTITY Sangro "sg">
<!ENTITY Serbo-Croatian "sh">
<!ENTITY Singhalese "si">
<!ENTITY Slovak "sk">
<!ENTITY Slovenian "sl">
<!ENTITY Samoan "sm">
<!ENTITY Shona "sn">
<!ENTITY Somali "so">
<!ENTITY Albanian "sq">
<!ENTITY Serbian "sr">
<!ENTITY Siswati "ss">
<!ENTITY Sesotho "st">
<!ENTITY Sudanese "su">
<!ENTITY Swedish "sv">
<!ENTITY Swahili "sw">
<!ENTITY Tamil "ta">
<!ENTITY Tegulu "te">
<!ENTITY Tajik "tg">
<!ENTITY Thai "th">
<!ENTITY Tigrinya "ti">
<!ENTITY Turkmen "tk">
<!ENTITY Tagalog "tl">
<!ENTITY Setswana "tn">
<!ENTITY Tonga "to">
<!ENTITY Turkish "tr">
<!ENTITY Tsonga "ts">
<!ENTITY Tatar "tt">
<!ENTITY Twi "tw">
<!ENTITY Ukrainian "uk">
<!ENTITY Urdu "ur">
<!ENTITY Uzbek "uz">
<!ENTITY Vietnamese "vi">
<!ENTITY Volapuk "vo">
<!ENTITY Wolof "wo">
<!ENTITY Xhosa "xh">
<!ENTITY Yoruba "yo">
<!ENTITY Chinese "zh">
<!ENTITY Zulu "zu">
<!ENTITY % gnome-menus-C SYSTEM "../../libs/gnome-menus-C.ent">
<!-- MENUS --><!-- Please keep entries alphabetical, it makes them much easier to find & use --><!ENTITY about-me "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>About-me</guimenuitem></menuchoice>">
<!ENTITY accessories "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem></menuchoice>">
<!ENTITY acro-read "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Acrobat Reader</guimenuitem></menuchoice>">
<!ENTITY administration "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem></menuchoice>">
<!ENTITY aisleriot "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>AisleRiot Solitaire</guimenuitem></menuchoice>">
<!ENTITY amule "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY anjuta-ide "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Anjuta IDE</guimenuitem></menuchoice>">
<!ENTITY archive-man "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Archive Manager</guimenuitem></menuchoice>">
<!ENTITY assistive-technology-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Assistive Technology Support</guimenuitem></menuchoice>">
<!ENTITY audacity "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Audacity</guimenuitem></menuchoice>">
<!ENTITY azureus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Azureus</guimenuitem></menuchoice>">
<!ENTITY baobab "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Disk Usage Analyzer</guimenuitem></menuchoice>">
<!ENTITY bittorrent "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Bittorrent</guimenuitem></menuchoice>">
<!ENTITY blender3d "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Blender 3d modeller</guimenuitem></menuchoice>">
<!ENTITY bluefish "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Bluefish Editor</guimenuitem></menuchoice>">
<!ENTITY boot "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Boot</guimenuitem></menuchoice>">
<!ENTITY brasero "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Brasero Disc Burning</guimenuitem></menuchoice>">
<!ENTITY bum "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Boot-up Manager</guimenuitem></menuchoice>">
<!ENTITY bzrgtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Olive bazaar Branch Manager</guimenuitem></menuchoice>">
<!ENTITY calculator "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Calculator</guimenuitem></menuchoice>">
<!ENTITY character-map "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Character Map</guimenuitem></menuchoice>">
<!ENTITY compizconfig "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>CompizConfig Settings Manager</guimenuitem></menuchoice>">
<!ENTITY computer "<menuchoice><guimenu>Places</guimenu><guimenuitem>Computer</guimenuitem></menuchoice>">
<!ENTITY connecttoserver "<menuchoice><guimenu>Places</guimenu><guimenuitem>Connect to Server...</guimenuitem></menuchoice>">
<!ENTITY cowbell "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Cowbell Music Organizer</guimenuitem>	</menuchoice>">
<!ENTITY chromium "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Chromium</guisubmenu></menuchoice>">
<!ENTITY computer-janitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guisubmenu>System Janitor</guisubmenu></menuchoice>">
<!ENTITY desktop-background "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Desktop Background</guimenuitem></menuchoice>">
<!ENTITY desktop-effects "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Appearance</guimenuitem><guimenuitem>Visual Effects</guimenuitem></menuchoice>">
<!ENTITY desktop-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem></menuchoice>">
<!ENTITY devhelp "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Devhelp</guimenuitem></menuchoice>">
<!ENTITY device-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Hardware Information</guimenuitem></menuchoice>">
<!ENTITY dictionary "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Dictionary</guimenuitem></menuchoice>">
<!ENTITY disks "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Disks</guimenuitem></menuchoice>">
<!ENTITY downloader-x "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Downloader for X</guimenuitem></menuchoice>">
<!ENTITY eclipse-ide "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Eclipse IDE</guimenuitem></menuchoice>">
<!ENTITY ekiga "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Internet</guimenuitem><guimenuitem>Ekiga Softphone</guimenuitem></menuchoice>">
<!ENTITY efax-gtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Office</guisubmenu><guimenuitem>Efax-gtk</guimenuitem></menuchoice>">
<!ENTITY etherape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Etherape</guimenuitem></menuchoice>">
<!ENTITY evolution-mail "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Evolution Mail</guimenuitem></menuchoice>">
<!ENTITY file-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>File Management</guimenuitem></menuchoice>">
<!ENTITY firefox "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Internet</guisubmenu><guimenuitem>Firefox Web Browser</guimenuitem></menuchoice>">
<!ENTITY firestarter-firewall-tool "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Firestarter</guimenuitem></menuchoice>">
<!ENTITY five-or-more "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Five or More</guimenuitem></menuchoice>">
<!ENTITY font "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Font</guimenuitem></menuchoice>">
<!ENTITY f-spot "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>F-Spot Photo Manager</guimenuitem></menuchoice>">
<!ENTITY frozen-bubble "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Frozen Bubble</guisubmenu></menuchoice> to play <application>Frozen Bubble</application>">
<!ENTITY gambas "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Gambas</guimenuitem></menuchoice>">
<!ENTITY games "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Games</guimenuitem></menuchoice>">
<!ENTITY gdesklets "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>gDesklets</guimenuitem></menuchoice>">
<!ENTITY gftp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>gFTP</guimenuitem></menuchoice>">
<!ENTITY gimp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>GIMP Image Editor</guimenuitem></menuchoice>">
<!ENTITY gnome-app-install "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Add/Remove...</guimenuitem></menuchoice>">
<!ENTITY gnome-config-editor "<screen><command>gconf-editor</command></screen>">
<!ENTITY gnome-sound-recorder "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Sound Recorder</guimenuitem></menuchoice>">
<!ENTITY gparted "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration </guisubmenu><guimenuitem>Gnome Partition Editor</guimenuitem></menuchoice>">
<!ENTITY graphics "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem></menuchoice>">
<!ENTITY gthumb "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>gThumb Image Viewer</guimenuitem></menuchoice>">
<!ENTITY gtkpod "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>gtkpod</guimenuitem></menuchoice>">
<!ENTITY gnucash "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>GnuCash Finance Management</guimenuitem></menuchoice>">
<!ENTITY gxine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>gxine</guimenuitem></menuchoice>">
<!ENTITY home-folder "<menuchoice><guimenu>Places</guimenu><guimenuitem>Home Folder</guimenuitem></menuchoice>">
<!ENTITY homebank "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>HomeBank</guimenuitem></menuchoice>">
<!ENTITY hubackup "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Backup</guimenuitem></menuchoice>">
<!ENTITY hurestore "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Restore</guimenuitem></menuchoice>">
<!ENTITY inkscape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Inkscape SVG Vector Illustrator</guimenuitem></menuchoice>">
<!ENTITY internet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem></menuchoice>">
<!ENTITY kdevelop "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>KDevelop</guimenuitem></menuchoice>">
<!ENTITY keyboard "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard</guimenuitem></menuchoice>">
<!ENTITY keyboard-shortcuts "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard Shortcuts</guimenuitem></menuchoice>">
<!ENTITY language-support "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Language Support</guimenuitem></menuchoice>">
<!ENTITY liferea "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Liferea Feed Reader</guimenuitem></menuchoice>">
<!ENTITY limewire "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>LimeWire</guimenuitem></menuchoice>">
<!ENTITY lockscreen "<menuchoice><guimenu>System</guimenu><guimenuitem>Lock Screen</guimenuitem></menuchoice>">
<!ENTITY login-screen-setup "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Login Window</guimenuitem></menuchoice>">
<!ENTITY mahjongg "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Mahjongg</guimenuitem></menuchoice>">
<!ENTITY menu-editor "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>Applications Menu Editor</guimenuitem></menuchoice>">
<!ENTITY menus-and-toolbars "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Menus &amp; Toolbars</guimenuitem></menuchoice>">
<!ENTITY monodevelop "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDevelop</guimenuitem></menuchoice>">
<!ENTITY monodoc "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDoc</guimenuitem></menuchoice>">
<!ENTITY mouse "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Mouse</guimenuitem></menuchoice>">
<!ENTITY mtink "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>mtink</guimenuitem></menuchoice>">
<!ENTITY music "<menuchoice><guimenu>Places</guimenu><guimenuitem>Music</guimenuitem></menuchoice>">
<!ENTITY multimedia-systems-selector "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Multimedia Systems Selector</guimenuitem></menuchoice>">
<!ENTITY ndisgtk "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Windows Wireless Drivers</guimenuitem></menuchoice>">
<!ENTITY network-proxy "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Network Proxy</guimenuitem></menuchoice>">
<!ENTITY network-tools "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network Tools</guimenuitem></menuchoice>">
<!ENTITY networking "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY network-servers "<menuchoice><guimenu>Places</guimenu><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY neverball "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverball</guisubmenu></menuchoice>">
<!ENTITY neverputt "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverputt</guisubmenu></menuchoice>">
<!ENTITY nexuiz "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Nexuiz</guisubmenu></menuchoice>">
<!ENTITY open-office "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem></menuchoice>">
<!ENTITY openoffice-base "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Database</guimenuitem></menuchoice>">
<!ENTITY openoffice-draw "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>OpenOffice.org Draw</guimenuitem></menuchoice>">
<!ENTITY openoffice-presentation "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Presentation</guimenuitem></menuchoice>">
<!ENTITY openoffice-spreadsheet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Spreadsheet</guimenuitem></menuchoice>">
<!ENTITY openoffice-writer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Word Processor</guimenuitem></menuchoice>">
<!ENTITY palmos-devices "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>PalmOS Devices</guimenuitem></menuchoice>">
<!ENTITY pan "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pan Newsreader</guimenuitem></menuchoice>">
<!ENTITY photoprint "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>PhotoPrint</guimenuitem></menuchoice>">
<!ENTITY pidgin "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pidgin Internet Messenger</guimenuitem></menuchoice>">
<!ENTITY power-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Power Management</guimenuitem></menuchoice>">
<!ENTITY ppracer "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Planet Penguin Racer</guisubmenu></menuchoice>">
<!ENTITY preferences "<menuchoice><guimenu>System</guimenu><guisubmenu>Preferences</guisubmenu></menuchoice>">
<!ENTITY preferred-applications "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Preferred Applications</guimenuitem></menuchoice>">
<!ENTITY print "<menuchoice><guimenu>File</guimenu><guimenuitem>Print</guimenuitem></menuchoice>">
<!ENTITY printing "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Printing</guimenuitem></menuchoice>">
<!ENTITY qtparted "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem><guimenuitem>QTParted</guimenuitem></menuchoice>">
<!ENTITY remote-desktop "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Remote Desktop</guimenuitem></menuchoice>">
<!ENTITY removable-drives-and-media "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Removable Drives and Media</guimenuitem></menuchoice>">
<!ENTITY realplayer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>RealPlayer 11</guimenuitem></menuchoice>">
<!ENTITY restricted-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Hardware Drivers</guimenuitem></menuchoice>">
<!ENTITY rhythmbox "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Rhythmbox Music Player</guimenuitem></menuchoice>">
<!ENTITY route-planner "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY scorched3d "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guimenuitem>Scorched 3D</guimenuitem></menuchoice>">
<!ENTITY screen-resolution "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screen Resolution</guimenuitem></menuchoice>">
<!ENTITY screensaver "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screensaver</guimenuitem></menuchoice>">
<!ENTITY scribus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>Scribus</guimenuitem></menuchoice>">
<!ENTITY serpentine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Serpentine Audio CD Creator</guimenuitem></menuchoice>">
<!ENTITY services "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Services</guimenuitem></menuchoice>">
<!ENTITY sessions "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sessions</guimenuitem></menuchoice>">
<!ENTITY shared-folders "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Shared Folders</guimenuitem></menuchoice>">
<!ENTITY skype "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Skype</guimenuitem></menuchoice>">
<!ENTITY software-properties "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY software-sources "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY sound "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sound</guimenuitem></menuchoice>">
<!ENTITY soundandvideo "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem></menuchoice>">
<!ENTITY soundjuicer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Audio CD Extractor</guimenuitem></menuchoice>">
<!ENTITY supertux "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>SuperTux</guisubmenu></menuchoice>">
<!ENTITY shutdown "<menuchoice><guimenu>System</guimenu><guimenuitem>Shut Down...</guimenuitem></menuchoice>">
<!ENTITY synaptic "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Synaptic Package Manager</guimenuitem></menuchoice>">
<!ENTITY system-monitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>System Monitor</guimenuitem></menuchoice>">
<!ENTITY systemtools "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem></menuchoice>">
<!ENTITY terminal "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Terminal</guimenuitem></menuchoice>">
<!ENTITY text-editor "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Text Editor</guimenuitem></menuchoice>">
<!ENTITY theme "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Theme</guimenuitem></menuchoice>">
<!ENTITY thunderbird "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Mozilla Thunderbird Mail/News</guimenuitem></menuchoice>">
<!ENTITY time-date "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Time and Date</guimenuitem></menuchoice>">
<!ENTITY totem "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Movie Player</guimenuitem></menuchoice>">
<!ENTITY touchpad "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Touchpad</guimenuitem></menuchoice>">
<!ENTITY tremulous "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Tremulous</guisubmenu></menuchoice>">
<!ENTITY ubuntu-update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Ubuntu Update Manager</guimenuitem></menuchoice>">
<!ENTITY update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Update Manager</guimenuitem></menuchoice>">
<!ENTITY users "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY users-groups "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY windows "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Windows</guimenuitem></menuchoice>">
<!ENTITY wireshark "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Wireshark</guimenuitem></menuchoice>">
<!ENTITY xchat-gnome "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Xchat-GNOME IRC Chat</guimenuitem></menuchoice>">
<!ENTITY xine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>xine</guimenuitem></menuchoice>">
<!ENTITY xmms "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>XMMS</guimenuitem></menuchoice>">
<!ENTITY xsane "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>XSane Image Scanner</guimenuitem></menuchoice>">
<!ENTITY % xinclude SYSTEM "../../libs/xinclude.mod">
<!ELEMENT xi:include (xi:fallback)?>
<!ATTLIST xi:include xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ATTLIST xi:include href CDATA #REQUIRED>
<!ATTLIST xi:include parse (xml | text) "xml">
<!ATTLIST xi:include xpointer CDATA #IMPLIED>
<!ATTLIST xi:include encoding CDATA #IMPLIED>
<!ATTLIST xi:include accept CDATA #IMPLIED>
<!ATTLIST xi:include accept-charset CDATA #IMPLIED>
<!ATTLIST xi:include accept-language CDATA #IMPLIED>
<!ELEMENT xi:fallback ANY>
<!ATTLIST xi:fallback xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ENTITY % local.preface.class "| xi:include">
<!ENTITY % local.part.class "| xi:include">
<!ENTITY % local.chapter.class "| xi:include">
<!ENTITY % local.divcomponent.mix "| xi:include">
<!ENTITY % local.para.char.mix "| xi:include">
<!ENTITY % local.info.class "| xi:include">
<!ENTITY % local.common.attrib "xmlns:xi            CDATA       #FIXED       'http://www.w3.org/2001/XInclude'">
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="backups" status="review">
  <title>Datensicherungen</title>
  <para>Es gibt viele Wege, eine Ubuntu-Installation zu sichern. Der wichtigste Teil von Datensicherungen ist das Aufstellen eines <emphasis>Datensicherungsplans</emphasis>, was wo zu sichern und wie wiederherzustellen ist.</para>
  <para>Die folgenden Abschnitte behandeln verschiedene Wege, diese Aufgaben zu bewältigen.</para>
  <sect1 id="backup-shellscripts" status="review">
    <title>Shell-Skripte</title>
    <para>Einer der einfachsten Wege eine Datensicherung eines Systems anzulegen, ist die Benutzung eines <emphasis>Shell-Skriptes</emphasis>. Ein Skript kann zum Beispiel so eingerichtet werden, dass die zu sichernden Ordner als Argument für den Aufruf des <application>tar</application>-Werkzeugs zur Erstellung einer Archivdatei gespeichert werden können. Die Archivdatei kann dann an eine andere Stelle verschoben oder kopiert werden. Die Archivdatei kann ebenso auf einem entfernten Dateisystem, wie z.B. einer <emphasis>NFS</emphasis>-Freigabe, erstellt werden.</para>
    <para>Das <application>tar</application>-Werkzeug erstellt eine Archivdatei aus vielen Dateien oder Ordnern. <application>tar</application> kann die Dateien auch mit Kompressionswerkzeugen verarbeiten, um die Größe der Archivdatei zu reduzieren.</para>

    <sect2 id="backup-shellscript" status="review">
      <title>Ein einfaches Shell-Skript</title>
      <para>Das folgende Shell-Skript benutzt <application>tar</application> um eine Archivdatei auf einem entfernt eingebundenem NFS-Dateisystem zu erstellen. Der Dateiname der Archivdatei wird von weiteren zusätzlichen Befehlszeilenwerkzeugen bestimmt.</para>
<programlisting>
#!/bin/sh
####################################
#
# Datensicherung auf NFS-Freigabe.
#
####################################

# Was zu sichern ist. 
backup_files="/home /var/spool/mail /etc /root /boot /opt"

# Wo es zu sichern ist.
dest="/mnt/backup"

# Den Dateinamen der Archivdatei festlegen.
day=$(date +%A)
hostname=$(hostname -s)
archive_file="$hostname-$day.tgz"

# Die »Start« Statusmeldung ausgeben.
echo "Sichere $backup_files nach $dest/$archive_file"
date
echo

# Die Dateien mit tar sichern.
tar czf $dest/$archive_file $backup_files

# Die »Ende« Statusmeldung ausgeben.
echo
echo "Datensicherung beendet"
date

# Lange Liste von Dateien in $dest um die Dateigröße zu kontrollieren.
ls -lh $dest
</programlisting>
      <itemizedlist>
        <listitem>           
          <para><emphasis>$backup_files:</emphasis> Eine Variable, welche die Ordner, die Sie sichern wollen, auflistet. Die Liste sollte Ihren Anforderungen angepasst werden.</para>
        </listitem>
        <listitem>           
          <para><emphasis>$day:</emphasis> Eine Variable, welche den Wochtentag (Montag, Dienstag, Mittwoch, etc.) enthält. Dies wird benutzt um täglich eine Archivdatei zu erstellen und einen Datensicherungsverlauf von sieben Tagen zu erhalten. Es gibt andere Wege, dies zu bewerkstelligen, einschließlich der Benutzung des <application>date</application>-Werkzeuges.</para>
        </listitem>
        <listitem>           
          <para><emphasis>$hostname:</emphasis> Eine Variable, welche den <emphasis>kurzen</emphasis> Hostnamen des Systems enthält. Die Verwendung des Hostnamens im Dateinamen des Archivs gibt Ihnen die Möglichkeit, die täglichen Archivdateien verschiedener Systeme in dem gleichem Ordner zu speichern.</para>
        </listitem>
        <listitem>           
          <para><emphasis>$archive_file:</emphasis> Der vollständige Dateiname des Archivs.</para>
        </listitem>
        <listitem>           
          <para><emphasis>$dest:</emphasis> Zielort der Archivdatei. Der Ordner muss erstellt und in unserem Fall <emphasis>eingebunden</emphasis> werden, bevor das Datensicherungsskript ausgeführt wird. Weitere Informationen über die Benutzung von <emphasis>NFS</emphasis> finden Sie unter <xref linkend="network-file-system"/>.</para>
        </listitem>
        <listitem>           
          <para><emphasis>status messages:</emphasis> Optionale Nachrichten, die mit dem <application>echo</application>-Werkzeug auf der Befehlszeile ausgegeben werden.</para>
        </listitem>
        <listitem>           
          <para><emphasis>tar czf $dest/$archive_file $backup_files:</emphasis> Der Befehl <application>tar</application>, welcher benutzt wird um die Archivdatei zu erstellen.</para>
  	  <itemizedlist>
            <listitem>           
              <para><emphasis>c:</emphasis> Erstellt ein Archiv.</para>
            </listitem>
            <listitem>           
              <para><emphasis>z:</emphasis> Komprimiert das Archiv mit dem <application>gzip</application>-Werkzeug.</para>
            </listitem>
            <listitem>           
              <para><emphasis>f:</emphasis> Benutzt eine Archivdatei. Andernfalls würde die Ausgabe von <application>tar</application> an STDOUT gesendet werden.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>           
          <para><emphasis>ls -lh $dest:</emphasis> Die optionale Angabe gibt eine lange Auflistung (<emphasis>-l</emphasis>) in für Menschen lesbarer Form (<emphasis>-h</emphasis>) des Zielordners aus. Das ist praktisch, um schnell die Dateigröße der Archivdatei zu kontrollieren. Dieser Kontrolle sollte eine Überprüfung der Archivdatei nicht ersetzen.</para>
        </listitem>
      </itemizedlist>
      <para>Das ist ein einfaches Beispiel eines Datensicherungs-Shellskripts. Es gibt eine Vielzahl an Einstellungsmöglichkeiten, welche in das Datensicherungsskript eingebaut werden können. Weitere Quellen für tiefere Informationen über Shellskripte finden Sie unter <xref linkend="backup-shellscript-references"/>.</para>
    </sect2>

    <sect2 id="backup-executing-shellscript" status="review">
      <title>Das Skript ausführen</title>
      <sect3 id="backup-script-execute-shell" status="review">
        <title>Das Skript von einer Befehlszeile aus ausführen</title>
        <para>Der einfachste Weg, das obige Datensicherungsskript auszuführen, ist, den Inhalt in eine Datei zu kopieren, zum Beispiel <filename>backup.sh</filename>. Dann geben Sie in eine Befehlszeile ein:</para>
<screen>
<command>sudo bash backup.sh</command>
</screen>
        <para>Das ist ein guter Weg, das Skript zu testen und sicherzustellen, dass alles wie geplant funktioniert.</para>
      </sect3>
      <sect3 id="backup-script-execute-cron" status="review">
        <title>Das Skript mit Cron ausführen.</title>
        <para>Das <application>cron</application>-Werkzeug kann benutzt werden, um das Skript automatisch auszuführen. Der <application>cron</application>-Dienst erlaubt es, Skripte oder Befehle zu festgelegten Zeiten auszuführen.</para>
        <para><application>cron</application> wird durch Einträge in die Datei <filename>crontab</filename> eingerichtet. Die Datei <filename>crontab</filename> ist in Felder aufgeteilt:</para>
<programlisting>
# m h dom mon dow   command
</programlisting>
        <itemizedlist>
          <listitem>
            <para><emphasis>m:</emphasis> Die Minute, in welcher der Befehl ausgeführt wird. Werte zwischen 0 und 59 möglich.</para>
          </listitem>
          <listitem>
            <para><emphasis>h:</emphasis> Die Stunde, zu welcher der Befehl ausgeführt wird. Werte zwischen 0 und 23 möglich.</para>
          </listitem>
          <listitem>
            <para><emphasis>dom:</emphasis> Der Tag im Monat, an welchem der Befehl ausgeführt wird.</para>
          </listitem>
          <listitem>
            <para><emphasis>mon:</emphasis> Der Monat, in welchem der Befehl ausgeführt wird. Werte zwischen 1 und 12 möglich.</para>
          </listitem>
          <listitem>
            <para><emphasis>dow:</emphasis> Der Wochentag, an welchem der Befehl ausgeführt wird. Werte zwischen 0 und 7 möglich, Sonntag entspricht 0 oder 7, beide Werte sind möglich.</para>
          </listitem>
          <listitem>
            <para><emphasis>command:</emphasis> Der Befehl, welcher ausgeführt wird.</para>
          </listitem>
        </itemizedlist>
        <para>Um Einträge in der Datei <filename>crontab</filename> zu ändern oder hinzuzufügen, sollte der Befehl <application>crontab -e</application> benutzt werden. Der Inhalt der Datei <filename>crontab</filename> kann mit dem Befehl <application>crontab -l</application> angezeigt werden.</para>
        <para>Um das obige <application>backup.sh</application> -Skript mit <application>cron</application> auszuführen, geben Sie folgendes in eine Befehlszeile ein:</para>
<screen>
<command>sudo crontab -e</command>
</screen>
        <note>
	  <para>Die Benutzung von <application>sudo</application> in Kombination mit dem Befehl <application>crontab -e</application> bewirkt, dass die crontab des <emphasis>root</emphasis> Benutzers bearbeitet wird. Das ist notwendig, wenn Sie Ordner sichern wollen, auf die nur der root-Benutzer Zugriff hat.</para>
        </note>
        <para>Fügen Sie folgenden Eintrag zur <filename>crontab</filename>-Datei hinzu:</para>
<programlisting>
# m h dom mon dow   command
0 0 * * * bash /usr/local/bin/backup.sh
</programlisting>
        <para>Das <application>backup.sh</application>-Skript wird nun jeden Tag um 12:00 mittags ausgeführt.</para>
        <note>
          <para>Das Skript <application>backup.sh</application> muss nun in den Ordner <filename>/usr/local/bin/</filename> kopiert werden, damit der Befehl korrekt ausgeführt wird. Das Skript kann überall im Dateisystem liegen, Sie müssen nur den Pfad zum Skript anpassen.</para>
        </note>
        <para>Tiefere Informationen über <application>crontab</application>-Einstellungen finden Sie unter <xref linkend="backup-shellscript-references"/>.</para>
      </sect3>
    </sect2>
    <sect2 id="backup-shellscript-archive-testing" status="review">
      <title>Aus dem Archiv wiederherstellen.</title>
      <para>Wenn ein Archiv erstellt wurde, ist es wichtig, das Archiv zu überprüfen. Das Archiv kann geprüft werden, indem die Dateien, die es enthält, aufgelistet werden. Der beste Weg zum Überprüfen ist aber, eine Datei aus dem Archiv <emphasis>wiederherzustellen</emphasis>.</para>
      <itemizedlist>
        <listitem>
          <para>Um eine Liste des Archivinhalts anzuzeigen, geben Sie folgendes in eine Befehlszeile ein:</para>
<screen>
<command>tar -tzvf /mnt/backup/host-Monday.tgz</command>
</screen>
        </listitem>
        <listitem>
          <para>Um eine Datei aus dem Archiv in einen anderen Ordner wiederherzustellen, geben Sie folgendes ein:</para>
<screen>
<command>tar -xzvf /mnt/backup/host-Monday.tgz -C /tmp etc/hosts</command>
</screen>
          <para>Die Option <emphasis>-C</emphasis> des <application>tar</application>-Befehls leitet die entpackte Datei in den angegebenen Ordner um. Das obige Beispiel entpackt die Datei <filename>/etc/hosts</filename> nach <filename>/tmp/etc/hosts</filename>. <application>tar</application> stellt die enthaltene Ordnerstruktur wieder her.</para>
          <para>Beachten Sie, dass das führende <emphasis>"/"</emphasis> bei dem Pfad, in welchen wiederhergestellt werden soll, entfällt.</para>  
        </listitem>
        <listitem>
          <para>Um alle Dateien aus dem Archiv wiederherzustellen, geben Sie folgendes ein:</para>
<screen>
<command>cd /</command>
<command>sudo tar -xzvf /mnt/backup/host-Monday.tgz</command>
</screen>
        </listitem>
      </itemizedlist>
      <note>
        <para>Das überschreibt die momentan auf dem Dateisystem vorhandenen Dateien.</para>
      </note>
    </sect2>
    <sect2 id="backup-shellscript-references" status="review">
      <title>Referenzen</title>
      <itemizedlist>
        <listitem>
          <para>Weitere Informationen über Shell-Skripte finden Sie im <ulink url="http://tldp.org/LDP/abs/html/">Advanced Bash-Scripting Guide</ulink></para>
        </listitem>
        <listitem>
          <para>Das Buch <ulink url="http://safari.samspublishing.com/0672323583">Teach Yourself Shell Programming in 24 Hours</ulink> ist online verfügbar und eine sehr gute Quelle zu Shell-Skripten.</para>
        </listitem>
        <listitem>
          <para>Die <ulink url="https://help.ubuntu.com/community/CronHowto">CronHowto Wiki-Seite</ulink> enthält Details über erweiterte <application>cron</application>-Optionen.</para>
        </listitem>
        <listitem>
          <para>Weitere Informationen über <application>tar</application>-Optionen finden Sie im <ulink url="http://www.gnu.org/software/tar/manual/index.html">GNU tar Manual</ulink>.</para>
        </listitem>
        <listitem>
          <para>Der Wikipedia-Artikel <ulink url="http://en.wikipedia.org/wiki/Backup_rotation_scheme">Backup Rotation Scheme</ulink> (englisch) enthält Informationen über weitere Backup-Rotation-Schemata.</para>
        </listitem>
        <listitem>
        <para>Das Shell-Skript benutzt <application>tar</application> um das Archiv zu erstellen, aber es gibt noch viele weitere Befehlszeilenwerkzeuge die dafür benutzt werden können, wie zum Beispiel:</para>
          <itemizedlist>
            <listitem>
              <para><ulink url="http://www.gnu.org/software/cpio/">cpio</ulink>: Wird benutzt, um Dateien in und von Archiven zu kopieren.</para>
            </listitem>
            <listitem>
              <para><ulink url="http://www.gnu.org/software/coreutils/">dd</ulink>: Teil des Pakets <application>coreutils</application>. Ein low-level-Werkzeug, das Daten von einem Format in ein anderes kopieren kann.</para>
            </listitem>
            <listitem>
              <para><ulink url="http://www.rsnapshot.org/">rsnapshot</ulink>: Ein Dateisystem-Momentaufnahme-Werkzeug das benutzt wird, um Kopien eines gesamten Dateisystems zu erstellen.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </sect2>
  </sect1>
  <sect1 id="backups-shellscripts-rotation" status="review">
    <title>Archiv-Rotation</title>
    <para>Das Shell-Skript im Abschnitt <xref linkend="backup-shellscripts"/> erlaubt nur sieben verschiedene Archive. Für einen Server, dessen Daten sich nicht oft ändern, kann das genug sein. Wenn der Server aber eine große Menge an Daten hat, ist ein robusteres Rotations-Schema hilfreich.</para>
    <sect2 id="backups-nfs-rotation" status="review">
      <title>NFS-Archive rotieren</title>
      <para>In diesem Abschnitt wird das Shell-Skript leicht verändert, um ein Großvater-Vater-Sohn-Rotations-Schema (monatlich-wöchentlich-täglich) einzubauen:</para>
      <itemizedlist>
        <listitem>
          <para>Die Rotation führt eine <emphasis>tägliche</emphasis> Datensicherung von Sonntag bis Freitag durch.</para>
        </listitem>
        <listitem>
          <para>Am Samstag wird eine <emphasis>wöchentliche</emphasis> Datensicherung durchgeführt, welche vier wöchentliche Datensicherungen pro Monat erstellt.</para>
        </listitem>
        <listitem>
          <para>Die <emphasis>monatliche</emphasis> Datensicherung wird am Ersten des Monats erstellt und lässt zwei monatliche Datensicherungen rotieren, abhängig davon ob der Monat gerade oder ungerade ist.</para>
        </listitem>
      </itemizedlist>
      <para>Hier das neue Skript:</para>
<programlisting>
#!/bin/bash
####################################
#
# Datensicherung auf NFS-Freigabe mit
# Großvater-Vater-Sohn-Rotation.
#
####################################

# Was gesichert wird. 
backup_files="/home /var/spool/mail /etc /root /boot /opt"

# Wo es gesichert wird.
dest="/mnt/backup"

# Variablen für den Archivdateinamen einrichten.
day=$(date +%A)
hostname=$(hostname -s)

# Finde heraus, welche Woche des Monats 1-4 es ist.
day_num=$(date +%d)
if (( $day_num &lt;= 7 )); then
        week_file="$hostname-week1.tgz"
elif (( $day_num &gt; 7 &amp;&amp; $day_num &lt;= 14 )); then
        week_file="$hostname-week2.tgz"
elif (( $day_num &gt; 14 &amp;&amp; $day_num &lt;= 21 )); then
        week_file="$hostname-week3.tgz"
elif (( $day_num &gt; 21 &amp;&amp; $day_num &lt; 32 )); then
        week_file="$hostname-week4.tgz"
fi

# Finde heraus, ober der Monat gerade oder ungerade ist.
month_num=$(date +%m)
month=$(expr $month_num % 2)
if [ $month -eq 0 ]; then
        month_file="$hostname-month2.tgz"
else
        month_file="$hostname-month1.tgz"
fi

# Archivdateinamen erstellen.
if [ $day_num == 1 ]; then
	archive_file=$month_file
elif [ $day != "Saturday" ]; then
        archive_file="$hostname-$day.tgz"
else 
	archive_file=$week_file
fi

# Die Start-Statusmeldung ausgeben.
echo "Sichere $backup_files nach $dest/$archive_file"
date
echo

# Die Dateien mit tar sichern.
tar czf $dest/$archive_file $backup_files

# Die Ende-Statusmeldung ausgeben.
echo
echo "Datensicherung erfolgreich"
date

#Lange Liste der Dateien in $dest um Dateigröße zu kontrollieren.
ls -lh $dest/
</programlisting>
      <para>Das Skript kann auf die gleiche Art wie das in <xref linkend="backup-executing-shellscript"/> ausgeführt werden.</para>
      <para>Es ist eine gute Angewohnheit, für den Fall der Fälle Datensicherungsmedien getrennt aufbewahrt zu haben. In dem Shell-Skrip-Beispiel kann das Datensicherungsmedium ein anderer Server sein, der eine NFS-Freigabe zur Verfügung stellt. In den meisten Fällen ist es unpraktisch, den NFS-Server zu einem anderen Ort zu bewegen. Je nachdem, wie schnell Ihre Verbindung ist, könnte es eine Möglichkeit sein, die Archivdateien über eine WAN-Verbindung auf den Server an einem anderen Ort zu kopieren.</para>
      <para>Eine andere Möglichkeit wäre es, die Archivdateien auf eine externe Festplatte zu kopieren, welche dann zur Seite gelegt werden kann. Da der Preis externer Festplatten immer weiter fällt, kann es wirtschaftlich sinnvoll sein, zwei Laufwerke für jeden Archiv-Level zu haben. Das würde es ihnen erlauben, eine externe Festplatte an ihrem Datensicherungsserver zu haben und eine woanders.</para>
    </sect2>
    <sect2 id="backup-shellscript-tapedrive" status="review">
      <title>Bandlaufwerke</title>
      <para>Ein an einen Server angeschlossenes Bandlaufwerk kann an Stelle einer NFS-Freigabe benutzt werden. Die Benutzung eines Bandlaufwerks erleichtert die Archivrotation und sichert die getrennte Haltung der Datensicherungsmedien.</para>
      <para>Wenn ein Bandlaufwerk benutzt wird, ist die Angabe der Dateinamen im Skript nicht mehr nötig, weil die Daten direkt zu dem Bandlaufwerk gesendet werden. Dafür werden einige Befehle benötigt, um das Band zu beeinflussen. Dies wird durch die Benutzung von <application>mt</application>, einem Kontrollwerkzeug für magnetische Bänder bewerkstelligt, welches Teil des Pakets <application>cpio</application> ist.</para>
      <para>Hier das für die Benutzung von Bandlaufwerken veränderte Shell-Skript:</para>
<programlisting>
#!/bin/bash
####################################
#
# Skript für Datensicherung auf ein Bandlaufwerk.
#
####################################

# Was wird gesichert. 
backup_files="/home /var/spool/mail /etc /root /boot /opt"

# Wohin wird gesichert.
dest="/dev/st0"

# Gebe Start-Statusmeldung aus.
echo "Sichere $backup_files nach $dest"
date
echo

# Stelle sicher, dass das Band zurückgespult ist.
mt -f $dest rewind

# Sichere die Dateien mit tar.
tar czf $dest $backup_files

# Spule das Band zurück und werfe es aus.
mt -f $dest rewoffl

# Gebe Ende-Statusmeldung aus.
echo
echo "Datensicherung erfolgreich"
date
</programlisting>
      <note>
        <para>Der standardmäßige Gerätename eines SCSI-Bandlaufwerkes ist <filename>/dev/st0</filename>. Benutzen Sie den auf Ihrem System gültigen Gerätenamen.</para>
      </note>
      <para>Das Wiederherstellen von einem Bandlaufwerk ist im Grunde genommen das Gleiche, wie das Wiederherstellen aus einer Datei. Spulen Sie das Band einfach zurück und benutzen Sie den Gerätepfad anstelle des Dateipfad. Ein Beispiel, um die Datei <filename>/etc/hosts</filename> nach <filename>/tmp/etc/hosts</filename> wiederherzustellen:</para>
<screen>
<command>mt -f /dev/st0 rewind</command>
<command>tar -xzf /dev/st0 -C /tmp etc/hosts</command>
</screen>
    </sect2>
  </sect1>
  <sect1 id="bacula" status="review">
    <title>Bacula</title>
    <para><application>Bacula</application> ist ein Datensicherungsprogramm welches es Ihnen ermöglicht, Daten über Ihr Netzwerk zu sichern, wiederherzustellen und zu überprüfen. Es gibt Bacula-Clients für Linux, Windows und Mac OS X, wodurch es zu einer plattformübergreifenden, netzwerkweiten Lösung wird.</para> 
    <sect2 id="bacula-overview" status="review">
      <title>Überblick</title>
      <para><application>Bacula</application> ist aus verschiedenen Komponenten und Diensten aufgebaut, welche benutzt werden, um zu verwalten, welche Dateien wohin gesichert werden sollen:</para>
      <itemizedlist>
        <listitem>
          <para><application>Bacula Director:</application> Ein Dienst der alle Datensicherungs-, -wiederherstellungs-, -überprüfungs- und -archivierungs-Operationen kontrolliert.</para>
        </listitem>
        <listitem>
          <para><application>Bacula Console:</application> Eine Anwendung die die Kommunikation mit dem Director erlaubt. Es gibt drei Versionen von Console:</para>
	  <itemizedlist>
            <listitem><para>Die textbasierte Befehlszeilenversion</para></listitem>
            <listitem><para>Die Gnome-basierte GTK+ Graphical User Interface (GUI) Schnittstelle</para></listitem>
            <listitem><para>Die wxWidgets GUI Schnittstelle</para></listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para><application>Bacula File:</application> Auch als das <application>Bacula Client</application>-Programm bekannt. Diese Anwendung wird auf den Maschinen installiert, von welchen gesichert werden soll und ist für die Bereitstellung der von dem Director angeforderten Daten verantwortlich.</para>
        </listitem>
        <listitem>
          <para><application>Bacula Storage:</application> Das Programm, welches die Sicherung und Wiederherstellung der Daten auf das physische Medium durchführt.</para>
        </listitem>
        <listitem>
          <para><application>Bacula Catalog:</application> Dieser ist verantwortlich für die Bereitstellung der Datei-Indexe und Datenträger-Datenbanken für alle gesicherten Dateien, wodurch schnelles Auffinden und Wiederherstellen archivierter Dateien ermöglicht wird.</para>
        </listitem>
        <listitem>
          <para><application>Bacula Monitor:</application> Erlaubt die Überwachung des Directors, der Datei-Dienste und Sicherungs-Dienste. Momentan ist der Monitor nur als GKT+-GUI-Anwendung verfügbar.</para>
        </listitem>
      </itemizedlist>
      <para>Diese Dienste und Anwendungen können auf verschiedenen Servern und Clients betrieben werden, oder Sie können auf einer Maschine installiert werden, wenn nur eine einzige Platte oder ein einziges Laufwerk gesichert werden soll.</para>
    </sect2>
    <sect2 id="bacula-installation" status="review">
      <title>Installation</title>
      <para>Es gibt mehrere Pakete, welche die verschiedenen <application>Bacula</application>-Komponenten beinhalten. Um Bacula zu installieren, geben Sie folgendes in eine Befehlszeile ein:</para>
<screen>
<command>sudo apt-get install bacula</command>
</screen>
      <para>Die Standardinstallation des <application>bacula</application>-Pakets benutzt eine <application>MySQL</application>-Datenbank für den Katalog. Wenn Sie SQLite oder PostgreSQL für den Katalog benutzen wollen, installieren Sie <application>bacula-director-sqlite3</application> oder <application>bacula-director-pgsql</application>.</para>
      <para>Während des Installationsprozesses werden Sie angefragt, die Berechtigungen für den Datenbank-<emphasis>Administrator</emphasis> und den <emphasis>Besitzer</emphasis> der Datenbank <emphasis>bacula</emphasis> bereitzustellen. Der Datenbank-Administrator benötigt die entsprechenden Rechte, um eine Datenbank zu erstellen. Weitere Informationen finden Sie unter <xref linkend="mysql"/>.</para>
    </sect2>
    <sect2 id="bacula-configuration" status="review">
      <title>Konfiguration</title>
      <para>Die <application>Bacula</application>-Konfigurationsdateien  werden auf der Grundlage von <emphasis>Quellen</emphasis> einschließlich <emphasis>Anweisungen</emphasis> umrandet von <quote>{}</quote>-Klammern. Jede Bacula-Komponente hat ihre eigene Datei in dem Ordner <filename role="directory">/etc/bacula</filename>.</para>
      <para>Die verschiedenen <application>Bacula</application>-Komponenten müssen sich gegenüber einander berechtigen. Das wird durch die <emphasis>password</emphasis>-Anweisung bewerkstelligt. Zum Beispiel muss das <emphasis>Storage</emphasis>-Quellenpasswort in der Datei <filename>/etc/bacula/bacula-dir.conf</filename> dem <emphasis>Director</emphasis>-Quellenpasswort in <filename>/etc/bacula/bacula-sd.conf</filename> entsprechen.</para>
      <para>Standardmäßig ist der Datensicherungsauftrag namens <emphasis>Client1</emphasis> so eingerichtet, dass er den <emphasis>Bacula</emphasis>-Katalog archiviert. Wenn Sie vorhaben, den Server für die Datensicherung mehrerer Clients zu benutzen, sollten Sie den Namen des Auftrages auf einen aussagekräftigeren ändern. Um den Namen zu ändern, bearbeiten Sie die Datei <filename>/etc/bacula/bacula-dir.conf</filename>:</para>
<programlisting>
#
# Legt den nächtlichen Hauptdatensicherungsauftrag fest
#   standardmäßig sichert der Auftrag auf das Laufwerk in 
Job {
  Name = "BackupServer"
  JobDefs = "DefaultJob"
  Write Bootstrap = "/var/lib/bacula/Client1.bsr"
}
</programlisting>
      <note>
        <para>Das obige Beispiel ändert den Namen des Auftrags zu <emphasis>BackupServer</emphasis>, entsprechend dem Hostname der Maschine. Ersetzen Sie <quote>BackupServer</quote> mit Ihrem entsprechendem Hostnamen, oder einem anderem aussagekräftigem Namen.</para>
      </note>
      <para>Die <emphasis>Console</emphasis> kann benutzt werden, um den <emphasis>Director</emphasis> nach Aufträgen zu befragen, aber damit Console von einem <emphasis>nicht-root</emphasis>-Benutzer benutzt werden kann, muss der Benutzer in der Gruppe <emphasis>bacula</emphasis> sein. Um den Benutzer der Gruppe bacula hinzuzufügen, geben Sie folgendes in ein Terminal ein:</para>
<screen>
<command>sudo adduser $benutzername bacula</command>
</screen>
      <note>
        <para>Ersetzen Sie <emphasis>$benutzername</emphasis> mit dem entsprechendem Benutzernamen. Wenn Sie den aktuellen Benutzer der Gruppe hinzugefügt haben, sollten Sie sich aus- und wieder einloggen, damit die neuen Rechte gültig sind.</para>
      </note>
    </sect2>
    <sect2 id="bacula-localhost-backup" status="review">
      <title>Localhost-Datensicherung</title>
      <para>Dieser Abschnitt beschreibt, wie bestimmte Ordner auf einem einzigen Host auf ein lokales Bandlaufwerk gesichert werden.</para>
      <itemizedlist>
        <listitem>
          <para>Zuerst muss das <emphasis>Storage</emphasis>-Gerät eingerichtet werden. Bearbeiten Sie die Datei <filename>/etc/bacula/bacula-sd.conf</filename> indem Sie folgendes hinzufügen:</para>
<programlisting>
Device {
  Name = "Bandlaufwerk"
  Device Type = tape
  Media Type = DDS-4
  Archive Device = /dev/st0
  Hardware end of medium = No;
  AutomaticMount = yes;               # Lese das Gerät, sobald es geöffnet wird
  AlwaysOpen = Yes;
  RemovableMedia = yes;
  RandomAccess = no;
  Alert Command = "sh -c 'tapeinfo -f %c | grep TapeAlert'"
}
</programlisting>
          <para>Das Beispiel ist für ein <emphasis>DDS-4</emphasis>-Bandlaufwerk. Passen Sie den Media Type und das Archive Device entsprechend Ihrer Hardware an.</para>
          <para>Sie können ebenso die Kommentarzeichen eines anderen Beispiels in der Datei entfernen.</para>
        </listitem>
        <listitem>
          <para>Nachdem Sie die Datei <filename>/etc/bacula/bacula-sd.conf</filename> bearbeitet haben, muss der <application>Storage</application>-Dienst neu gestartet werden:</para>
<screen>
<command>sudo /etc/init.d/bacula-sd restart</command>
</screen>
        </listitem>
        <listitem>
          <para>Fügen Sie jetzt eine <application>Storage</application>-Quelle in der Datei <filename>/etc/bacula/bacula-dir.conf</filename> hinzu, damit das neue Gerät verwendet werden kann:</para>
<programlisting>
# Definition eines »Bandlaufwerk«- Speichergerätes
Storage {
  Name = Bandlaufwerk
  # Hier nicht "localhost" verwenden    
  Address = backupserver # Anm. Hier voll qualifizierten Namen verwenden
  SDPort = 9103
  Password = "Cv70F6pf1t6pBopT4vQOnigDrR0v3LT3Cgkiyj"
  Device = "Bandlaufwerk"
  Media Type = Band
}
</programlisting>
          <para>Die <emphasis>Adress</emphasis>-Anweisung muss der voll qualifizierte Domänen-Name (FQDN Fully Qualified Domain Name) des Servers sein. Ändern Sie den <emphasis>Datensicherungsserver</emphasis> auf den aktuellen Host-Namen.</para>
          <para>Stellen Sie zudem sicher, dass die <emphasis>Password</emphasis>-Anweisung der Passwortzeile in der Datei <filename>/etc/bacula/bacula-sd.conf</filename> entspricht.</para>
        </listitem>
        <listitem>
          <para>Erstellen Sie ein neues <emphasis>FileSet</emphasis>, welches festlegt, welche Ordner gesichert werden sollen, indem Sie folgendes hinzufügen:</para>
<programlisting>
# Localhost-Datensicherungs-FileSet.
FileSet {
  Name = "Localhost-Dateien"
  Include {
    Options {
      signature = MD5
      compression=GZIP
    }
    File = /etc
    File = /home
  }
}
</programlisting>
          <para>Dieses <emphasis>FileSet</emphasis> sichert die Ordner <filename role="directory">/etc</filename> und <filename role="directory">/home</filename>. Die <emphasis>Options</emphasis>-Quellenanweisung richtet das FileSet so ein, dass es für jede gesicherte Datei eine MD5-Signatur erstellt und die Dateien mit GZIP komprimiert.</para>
        </listitem>
        <listitem>
          <para>Anschließend, erstellen Sie einen neuen <emphasis>Ablaufplan</emphasis> für den Datensicherungsauftrag:</para>
<programlisting>
# Localhost-Datensicherungsablaufplan -- täglich.
Schedule {
  Name = "LocalhostTäglich"
  Run = Full daily at 00:01
}
</programlisting>
          <para>Der Auftrag wird täglich um 00:01 oder 12:01 mittags ausgeführt. Es sind noch viele weitere Ablaufplanoptionen verfügbar.</para>
        </listitem>
        <listitem>
          <para>Erstellen Sie abschließend den <emphasis>Auftrag</emphasis>:</para>
<programlisting>
# Localhost-Datensicherung.
Job {
  Name = "Localhost-Datensicherung"
  JobDefs = "Standard-Auftrag"
  Enabled = yes
  Level = Full
  FileSet = "Localhost-Dateien"
  Schedule = "LocalhostTäglich"
  Storage = TapeDrive
  Write Bootstrap = "/var/lib/bacula/LocalhostBackup.bsr"
}  
</programlisting>
          <para>Der Auftrag führt jeden Tag eine <emphasis>volle</emphasis> Datensicherung aufs Bandlaufwerk durch.</para>
        </listitem>
        <listitem>
          <para>Jedes Band benötigt ein <emphasis>Label</emphasis>. Wenn das aktuelle Band kein Label hat, sendet <application>Bacula</application> Ihnen eine E-Mail, um Ihnen das mitzuteilen. Um ein Band über die <application>Console</application> zu labeln, geben Sie folgenden Befehl in eine Befehlszeile ein:</para>
<screen>
<command>bconsole</command>
</screen>
        </listitem>
        <listitem>
          <para>Geben Sie in der Bacula-Console folgendes ein:</para>
<screen>
<command>label</command>
</screen>
        </listitem>
        <listitem>
          <para>Sie werden dann nach der <emphasis>Storage</emphasis>-Quelle gefragt:</para>
<screen>
<computeroutput>
Automatisch gewählter Katalog: MyCatalog
Benutze Katalog "MyCatalog"
Die festgelegten Storage-Quellen sind:
     1: Datei
     2: Bandlaufwerk
Wählen Sie die Storage-Quelle (1-2):<userinput>2</userinput>
</computeroutput>
</screen>
        </listitem>
        <listitem>
          <para>Geben Sie den neuen <emphasis>Laufwerks</emphasis>namen ein:</para>
<screen>
<computeroutput>
Geben Sie den neuen Laufwerksnamen ein:: <userinput>Sonntag</userinput>
Festgelegte Pools:
     1: Vorgabe
     2: Scratch</computeroutput>
</screen>
          <para>Ersetzen Sie <emphasis>Sonntag</emphasis> mit dem entsprechendem Label.</para>
        </listitem>
        <listitem>
          <para>Wählen Sie jetzt den <emphasis>Pool</emphasis> aus:</para>
<screen>
<computeroutput>
Wählen Sie den Pool aus (1-2): <userinput>1</userinput>
Verbinde zu dem Storage-Dienst Bandlaufwerk auf Datensicherungsserver:9103 ...
Sende Label für Laufwerk "Sonntag" Slot 0 ...
</computeroutput>
</screen>
        </listitem>
      </itemizedlist>
      <para>Herzlichen Glückwunsch, Sie haben gerade eben <emphasis>Bacula</emphasis> so eingerichtet, dass es den Localhost auf ein eingelegtes Bandlaufwerk sichert.</para>
    </sect2>
    <sect2 id="bacula-resources" status="review">
      <title>Quellen</title>
      <itemizedlist>
        <listitem>
          <para>Weitere <emphasis>Bacula</emphasis>-Konfigurationsoptionen finden Sie in dem <ulink url="http://www.bacula.org/en/rel-manual/index.html">Bacula User's Manual</ulink></para>
        </listitem>
        <listitem>
          <para>Die <ulink url="http://www.bacula.org/">Bacula-Homepage</ulink> enthält die neuesten Bacula Nachrichten und Entwicklungen.</para>
        </listitem>
      </itemizedlist>
    </sect2> 
  </sect1>
</chapter>
