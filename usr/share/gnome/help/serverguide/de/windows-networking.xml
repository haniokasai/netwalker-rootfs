<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../libs/global.ent">
<!-- NAMES --><!ENTITY canonical-name "Canonical Ltd.">
<!ENTITY project-name "Ubuntu Documentation Project">
<!ENTITY ubuntu "<phrase>Ubuntu</phrase>">
<!ENTITY sg-title "Server Guide">
<!-- VERSIONS --><!ENTITY distro-version "Jaunty Jackalope">
<!ENTITY distro-rev "9.04">
<!ENTITY distro-release-date "April 2009">
<!ENTITY distro-short-codename "jaunty">
<!ENTITY distro-apt-cd-name "Ubuntu 9.04_Jaunty_Jackalope">
<!ENTITY linux-kernel-version "2.6.27">
<!ENTITY gcc-version "4.3.1">
<!ENTITY glibc-version "2.8">
<!ENTITY python-version "2.5">
<!ENTITY glossary SYSTEM "../common/C/glossary.xml">
<!-- LEGAL URLs --><!ENTITY legalnotice SYSTEM "../libs/C/legalnotice.xml">
<!ENTITY gpl-url '<ulink url="http://www.gnu.org/licenses/gpl.html">GNU General Public License</ulink>'>
<!ENTITY cc "http://creativecommons.org/">
<!ENTITY cc-attrib '<ulink url="http://creativecommons.org/licenses/by-sa/2.5/">Attribution-ShareAlike 2.5</ulink>'>
<!ENTITY cc-fulldeed-url "http://creativecommons.org/licenses/by-sa/2.5/legalcode/">
<!ENTITY fdl-url '<ulink url="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</ulink>'>
<!ENTITY cc-disclaimer-url "http://creativecommons.org/licenses/disclaimer-popup?lang=en">
<!-- CANONICAL URL RESOURCES --><!ENTITY canonical-url "http://www.canonical.com">
<!-- OTHER UBUNTU RELATED RESOURCES --><!ENTITY upstart-url "http://upstart.ubuntu.com">
<!-- UBUNTU IRC INFORMATION --><!ENTITY irc-network "Freenode">
<!ENTITY irc-server "irc.ubuntu.com">
<!ENTITY ubuntu-irc "irc.ubuntu.com channel #ubuntu">
<!ENTITY kubuntu-irc "irc.ubuntu.com channel #kubuntu">
<!ENTITY xubuntu-irc "irc.ubuntu.com channel #xubuntu">
<!ENTITY edubuntu-irc "irc.ubuntu.com channel #edubuntu">
<!-- UBUNTU URL RESOURCES --><!ENTITY ubuntu-packages "http://packages.ubuntu.com">
<!ENTITY ubuntu-web "http://www.ubuntu.com">
<!ENTITY ubuntu-main "http://www.ubuntu.com">
<!ENTITY ubuntu-download "http://www.ubuntu.com/download">
<!ENTITY ubuntu-forums "http://www.ubuntu.com/community/forums">
<!ENTITY ubuntu-components "http://www.ubuntu.com/ubuntu/components">
<!ENTITY ubuntu-lists "http://lists.ubuntu.com">
<!ENTITY ubuntu-wiki "http://wiki.ubuntu.com">
<!ENTITY ubuntu-bugzilla "https://launchpad.net/distros/ubuntu/+bugs">
<!ENTITY ubuntu-doc-bugs "https://launchpad.net/products/ubuntu-doc/+bugs">
<!ENTITY ubuntu-support "http://www.ubuntu.com/support">
<!ENTITY ubuntu-paidsupport "http://www.ubuntu.com/support/paid">
<!ENTITY ubuntu-freesupport "http://www.ubuntu.com/support/free">
<!ENTITY ubuntu-comments "http://www.ubuntuforums.org/showthread.php?p=21787">
<!ENTITY ubuntu-documentation "http://help.ubuntu.com">
<!ENTITY ubuntu-documentation-repos "https://docteam.ubuntu.com/repos/trunk">
<!ENTITY ubuntu-doc-team "https://wiki.ubuntu.com/DocumentationTeam">
<!ENTITY ubuntu-doc-list "http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc">
<!ENTITY ubuntu-shipit "http://shipit.ubuntu.com">
<!ENTITY ubuntu-launchpad "https://launchpad.ubuntu.com">
<!ENTITY ubuntu-rosetta "https://launchpad.ubuntu.com/rosetta">
<!ENTITY ubuntu-planet "http://planet.ubuntu.com">
<!ENTITY ubuntu-philosophy "http://www.ubuntu.com/ubuntu/philosophy">
<!ENTITY ubuntu-participate "http://www.ubuntu.com/community/participate/">
<!ENTITY ubuntu-marketplace "http://www.ubuntu.com/support/marketplace">
<!ENTITY ubuntu-hwdb "http://hwdb.ubuntu.com">
<!-- UBUNTU WIKI RESOURCES --><!ENTITY wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY restricted-formats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-RestrictedFormats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-XChatHowto "https://help.ubuntu.com/community/XChatHowto">
<!ENTITY wiki-RootSudo "https://help.ubuntu.com/community/RootSudo">
<!ENTITY wiki-HowToGetHelp "https://help.ubuntu.com/community/HowToGetHelp">
<!ENTITY transcode "https://help.ubuntu.com/community/DVDRippingandEncoding">
<!ENTITY wiki-Wine "https://help.ubuntu.com/community/Wine">
<!ENTITY wiki-Cedega "https://help.ubuntu.com/community/Cedega">
<!ENTITY wiki-Nano "https://help.ubuntu.com/community/NanoHowto">
<!ENTITY wiki-locoteams "https://wiki.ubuntu.com/LoCoTeamList">
<!ENTITY wiki-BasicCommands "https://help.ubuntu.com/community/BasicCommands">
<!ENTITY wiki-filepermissions "https://help.ubuntu.com/community/FilePermissions">
<!-- KUBUNTU URL RESOURCES --><!ENTITY kubuntu-web "http://www.kubuntu.org">
<!ENTITY kubuntu-main "http://www.kubuntu.org">
<!ENTITY kubuntu-download "http://releases.ubuntu.com/kubuntu/">
<!ENTITY kubuntu-packages "http://packages.ubuntu.com/edgy/">
<!ENTITY kubuntu-cdpackages-nodefault "http://people.ubuntu.com/~cjwatson/seeds/kubuntu-edgy/ship">
<!ENTITY kubuntu-lists "http://lists.ubuntu.com/archives/kubuntu-users/">
<!ENTITY kubuntu-lists-users "http://lists.ubuntu.com/mailman/listinfo/kubuntu-users/">
<!ENTITY kubuntu-lists-devel "http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel/">
<!ENTITY kubuntu-mirrors "http://distrowatch.com/kubuntu">
<!ENTITY kubuntu-forums "http://kubuntuforums.net">
<!ENTITY kubuntu-wiki "https://wiki.kubuntu.org">
<!ENTITY kubuntu-documentation-site "http://www.kubuntu.org/documentation.php">
<!ENTITY kubuntu-wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY kubuntu-support "http://www.kubuntu.org/support.php">
<!-- XUBUNTU URL RESOURCES --><!ENTITY xubuntu-web "http://www.xubuntu.org">
<!ENTITY xubuntu-main "http://www.xubuntu.org">
<!ENTITY xubuntu-web-help "http://www.xubuntu.org/help">
<!-- DEBIAN RESOURCES --><!ENTITY debian-apt "http://www.debian.org/doc/user-manuals#apt-howto">
<!-- EXTERNAL URL RESOURCES --><!ENTITY linmodem "http://www.linmodems.org/">
<!ENTITY gnome "http://www.gnome.org/">
<!ENTITY linuxorg "http://www.linux.org/">
<!ENTITY ooo "http://www.openoffice.org/">
<!ENTITY kde "http://www.kde.org/">
<!ENTITY lugww "http://lugww.counter.li.org/">
<!ENTITY ubuntu-watch "http://distrowatch.com/ubuntu/">
<!ENTITY realplayer-download "http://www.real.com/linux/">
<!ENTITY nvu-download "http://www.nvu.com/download.html">
<!ENTITY sunjava-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY xorg "http://www.x.org">
<!ENTITY dyndns "http://www.dyndns.org">
<!ENTITY shoutcast "http://www.shoutcast.com/">
<!ENTITY freedomtoaster "http://www.freedomtoaster.org/">
<!ENTITY xfce "http://www.xfce.org/">
<!-- ubuntu-screenshots TODO --><!ENTITY kubuntu-screenshots "http://shots.osdir.com/">
<!ENTITY mozilla "http://www.mozilla.org/">
<!ENTITY mozilla-firefox "http://www.mozilla.org/products/firefox/">
<!ENTITY gnu "http://www.gnu.org/">
<!ENTITY gnu-philosophy "http://www.gnu.org/philosophy/">
<!ENTITY win4lin "http://www.win4lin.com">
<!ENTITY codeweavers "http://www.codeweavers.com">
<!ENTITY kernel "http://www.kernel.org">
<!ENTITY google "http://www.google.com">
<!ENTITY kdelook " http://www.kde-look.org">
<!ENTITY lulu-store "http://www.lulu.com/ubuntu-doc">
<!-- this entity controls the url for addons--><!ENTITY java-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY skype-deb "skype_1.2.0.17-1_i386.deb">
<!ENTITY skype-download "http://www.skype.com/go/getskype-linux-deb">
<!ENTITY scanmodem-gz "scanModem.gz">
<!ENTITY scanmodem-url "http://linmodems.technion.ac.il/packages/scanModem.gz">
<!ENTITY ext2fs-url "http://www.fs-driver.org/index.html">
<!ENTITY mvb-tar "mvb_1.6.tgz">
<!ENTITY mvb-url "http://www.xscd.com/pub/mvb/&mvb-tar;">
<!-- TLDP --><!ENTITY ldp-pre-install-check "http://tldp.org/HOWTO/Pre-Installation-Checklist/">
<!-- LANGUAGES (sorted by two letter code)--><!ENTITY Afar "aa">
<!ENTITY Abkhazian "ab">
<!ENTITY Afrikaans "af">
<!ENTITY Amharic "af">
<!ENTITY Arabic "ar">
<!ENTITY Assamese "as">
<!ENTITY Aymara "ay">
<!ENTITY Azerbaijani "az">
<!ENTITY Bashkir "ba">
<!ENTITY Byelorussian "be">
<!ENTITY Bulgarian "bg">
<!ENTITY Bihari "bh">
<!ENTITY Bislama "bi">
<!ENTITY Bangla "bn">
<!ENTITY Bengali "bn">
<!ENTITY Tibetan "bo">
<!ENTITY Breton "br">
<!ENTITY Catalan "ca">
<!ENTITY Corsican "co">
<!ENTITY Czech "cs">
<!ENTITY Welsh "cy">
<!ENTITY Danish "da">
<!ENTITY German "de">
<!ENTITY Bhutani "dz">
<!ENTITY Greek "el">
<!-- <!ENTITY EnglishAmerican 'en'> --><!ENTITY EnglishAmerican "C">
<!ENTITY Esperanto "eo">
<!ENTITY Spanish "es">
<!ENTITY Estonian "et">
<!ENTITY Basque "eu">
<!ENTITY Persian "fa">
<!ENTITY Finnish "fi">
<!ENTITY Fiji "fj">
<!ENTITY Faeroese "fo">
<!ENTITY French "fr">
<!ENTITY Frisian "fy">
<!ENTITY Irish "ga">
<!ENTITY Gaelic "gd">
<!ENTITY ScotsGaelic "gd">
<!ENTITY Galician "gl">
<!ENTITY Guarani "gn">
<!ENTITY Gujarati "gu">
<!ENTITY Hausa "ha">
<!ENTITY Hindi "hi">
<!ENTITY Croatian "hr">
<!ENTITY Hungarian "hu">
<!ENTITY Armenian "hy">
<!ENTITY Interlingua "ia">
<!ENTITY Interlingue "ie">
<!ENTITY Inupiak "ik">
<!ENTITY Indonesian "in">
<!ENTITY Icelandic "is">
<!ENTITY Italian "it">
<!ENTITY Hebrew "iw">
<!ENTITY Japanese "ja">
<!ENTITY Yiddish "ji">
<!ENTITY Javanese "jw">
<!ENTITY Georgian "ka">
<!ENTITY Kazakh "kk">
<!ENTITY Greenlandic "kl">
<!ENTITY Cambodian "km">
<!ENTITY Kannada "kn">
<!ENTITY Korean "ko">
<!ENTITY Kashmiri "ks">
<!ENTITY Kurdish "ku">
<!ENTITY Kirghiz "ky">
<!ENTITY Latin "la">
<!ENTITY Lingala "ln">
<!ENTITY Laothian "lo">
<!ENTITY Lithuanian "lt">
<!ENTITY Latvian "lv">
<!ENTITY Lettish "lv">
<!ENTITY Malagasy "mg">
<!ENTITY Maori "mi">
<!ENTITY Macedonian "mk">
<!ENTITY Malayalam "ml">
<!ENTITY Mongolian "mn">
<!ENTITY Moldavian "mo">
<!ENTITY Marathi "mr">
<!ENTITY Malay "ms">
<!ENTITY Maltese "mt">
<!ENTITY Burmese "my">
<!ENTITY Nauru "na">
<!ENTITY Nepali "ne">
<!ENTITY Dutch "nl">
<!ENTITY Norwegian "no">
<!ENTITY Occitan "oc">
<!ENTITY Afan "om">
<!ENTITY Oromo "om">
<!ENTITY Oriya "or">
<!ENTITY Punjabi "pa">
<!ENTITY Polish "pl">
<!ENTITY Pushto "ps">
<!ENTITY Pashto "ps">
<!ENTITY Portuguese "pt">
<!ENTITY Quechua "qu">
<!ENTITY Rhaeto-Romance "rm">
<!ENTITY Kirundi "rn">
<!ENTITY Romanian "ro">
<!ENTITY Russian "ru">
<!ENTITY Kinyarwanda "rw">
<!ENTITY Sanskrit "sa">
<!ENTITY Sindhi "sd">
<!ENTITY Sangro "sg">
<!ENTITY Serbo-Croatian "sh">
<!ENTITY Singhalese "si">
<!ENTITY Slovak "sk">
<!ENTITY Slovenian "sl">
<!ENTITY Samoan "sm">
<!ENTITY Shona "sn">
<!ENTITY Somali "so">
<!ENTITY Albanian "sq">
<!ENTITY Serbian "sr">
<!ENTITY Siswati "ss">
<!ENTITY Sesotho "st">
<!ENTITY Sudanese "su">
<!ENTITY Swedish "sv">
<!ENTITY Swahili "sw">
<!ENTITY Tamil "ta">
<!ENTITY Tegulu "te">
<!ENTITY Tajik "tg">
<!ENTITY Thai "th">
<!ENTITY Tigrinya "ti">
<!ENTITY Turkmen "tk">
<!ENTITY Tagalog "tl">
<!ENTITY Setswana "tn">
<!ENTITY Tonga "to">
<!ENTITY Turkish "tr">
<!ENTITY Tsonga "ts">
<!ENTITY Tatar "tt">
<!ENTITY Twi "tw">
<!ENTITY Ukrainian "uk">
<!ENTITY Urdu "ur">
<!ENTITY Uzbek "uz">
<!ENTITY Vietnamese "vi">
<!ENTITY Volapuk "vo">
<!ENTITY Wolof "wo">
<!ENTITY Xhosa "xh">
<!ENTITY Yoruba "yo">
<!ENTITY Chinese "zh">
<!ENTITY Zulu "zu">
<!ENTITY % gnome-menus-C SYSTEM "../../libs/gnome-menus-C.ent">
<!-- MENUS --><!-- Please keep entries alphabetical, it makes them much easier to find & use --><!ENTITY about-me "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>About-me</guimenuitem></menuchoice>">
<!ENTITY accessories "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem></menuchoice>">
<!ENTITY acro-read "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Acrobat Reader</guimenuitem></menuchoice>">
<!ENTITY administration "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem></menuchoice>">
<!ENTITY aisleriot "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>AisleRiot Solitaire</guimenuitem></menuchoice>">
<!ENTITY amule "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY anjuta-ide "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Anjuta IDE</guimenuitem></menuchoice>">
<!ENTITY archive-man "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Archive Manager</guimenuitem></menuchoice>">
<!ENTITY assistive-technology-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Assistive Technology Support</guimenuitem></menuchoice>">
<!ENTITY audacity "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Audacity</guimenuitem></menuchoice>">
<!ENTITY azureus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Azureus</guimenuitem></menuchoice>">
<!ENTITY baobab "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Disk Usage Analyzer</guimenuitem></menuchoice>">
<!ENTITY bittorrent "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Bittorrent</guimenuitem></menuchoice>">
<!ENTITY blender3d "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Blender 3d modeller</guimenuitem></menuchoice>">
<!ENTITY bluefish "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Bluefish Editor</guimenuitem></menuchoice>">
<!ENTITY boot "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Boot</guimenuitem></menuchoice>">
<!ENTITY brasero "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Brasero Disc Burning</guimenuitem></menuchoice>">
<!ENTITY bum "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Boot-up Manager</guimenuitem></menuchoice>">
<!ENTITY bzrgtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Olive bazaar Branch Manager</guimenuitem></menuchoice>">
<!ENTITY calculator "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Calculator</guimenuitem></menuchoice>">
<!ENTITY character-map "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Character Map</guimenuitem></menuchoice>">
<!ENTITY compizconfig "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>CompizConfig Settings Manager</guimenuitem></menuchoice>">
<!ENTITY computer "<menuchoice><guimenu>Places</guimenu><guimenuitem>Computer</guimenuitem></menuchoice>">
<!ENTITY connecttoserver "<menuchoice><guimenu>Places</guimenu><guimenuitem>Connect to Server...</guimenuitem></menuchoice>">
<!ENTITY cowbell "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Cowbell Music Organizer</guimenuitem>	</menuchoice>">
<!ENTITY chromium "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Chromium</guisubmenu></menuchoice>">
<!ENTITY computer-janitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guisubmenu>System Janitor</guisubmenu></menuchoice>">
<!ENTITY desktop-background "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Desktop Background</guimenuitem></menuchoice>">
<!ENTITY desktop-effects "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Appearance</guimenuitem><guimenuitem>Visual Effects</guimenuitem></menuchoice>">
<!ENTITY desktop-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem></menuchoice>">
<!ENTITY devhelp "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Devhelp</guimenuitem></menuchoice>">
<!ENTITY device-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Hardware Information</guimenuitem></menuchoice>">
<!ENTITY dictionary "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Dictionary</guimenuitem></menuchoice>">
<!ENTITY disks "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Disks</guimenuitem></menuchoice>">
<!ENTITY downloader-x "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Downloader for X</guimenuitem></menuchoice>">
<!ENTITY eclipse-ide "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Eclipse IDE</guimenuitem></menuchoice>">
<!ENTITY ekiga "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Internet</guimenuitem><guimenuitem>Ekiga Softphone</guimenuitem></menuchoice>">
<!ENTITY efax-gtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Office</guisubmenu><guimenuitem>Efax-gtk</guimenuitem></menuchoice>">
<!ENTITY etherape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Etherape</guimenuitem></menuchoice>">
<!ENTITY evolution-mail "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Evolution Mail</guimenuitem></menuchoice>">
<!ENTITY file-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>File Management</guimenuitem></menuchoice>">
<!ENTITY firefox "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Internet</guisubmenu><guimenuitem>Firefox Web Browser</guimenuitem></menuchoice>">
<!ENTITY firestarter-firewall-tool "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Firestarter</guimenuitem></menuchoice>">
<!ENTITY five-or-more "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Five or More</guimenuitem></menuchoice>">
<!ENTITY font "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Font</guimenuitem></menuchoice>">
<!ENTITY f-spot "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>F-Spot Photo Manager</guimenuitem></menuchoice>">
<!ENTITY frozen-bubble "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Frozen Bubble</guisubmenu></menuchoice> to play <application>Frozen Bubble</application>">
<!ENTITY gambas "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Gambas</guimenuitem></menuchoice>">
<!ENTITY games "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Games</guimenuitem></menuchoice>">
<!ENTITY gdesklets "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>gDesklets</guimenuitem></menuchoice>">
<!ENTITY gftp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>gFTP</guimenuitem></menuchoice>">
<!ENTITY gimp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>GIMP Image Editor</guimenuitem></menuchoice>">
<!ENTITY gnome-app-install "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Add/Remove...</guimenuitem></menuchoice>">
<!ENTITY gnome-config-editor "<screen><command>gconf-editor</command></screen>">
<!ENTITY gnome-sound-recorder "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Sound Recorder</guimenuitem></menuchoice>">
<!ENTITY gparted "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration </guisubmenu><guimenuitem>Gnome Partition Editor</guimenuitem></menuchoice>">
<!ENTITY graphics "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem></menuchoice>">
<!ENTITY gthumb "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>gThumb Image Viewer</guimenuitem></menuchoice>">
<!ENTITY gtkpod "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>gtkpod</guimenuitem></menuchoice>">
<!ENTITY gnucash "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>GnuCash Finance Management</guimenuitem></menuchoice>">
<!ENTITY gxine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>gxine</guimenuitem></menuchoice>">
<!ENTITY home-folder "<menuchoice><guimenu>Places</guimenu><guimenuitem>Home Folder</guimenuitem></menuchoice>">
<!ENTITY homebank "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>HomeBank</guimenuitem></menuchoice>">
<!ENTITY hubackup "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Backup</guimenuitem></menuchoice>">
<!ENTITY hurestore "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Restore</guimenuitem></menuchoice>">
<!ENTITY inkscape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Inkscape SVG Vector Illustrator</guimenuitem></menuchoice>">
<!ENTITY internet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem></menuchoice>">
<!ENTITY kdevelop "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>KDevelop</guimenuitem></menuchoice>">
<!ENTITY keyboard "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard</guimenuitem></menuchoice>">
<!ENTITY keyboard-shortcuts "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard Shortcuts</guimenuitem></menuchoice>">
<!ENTITY language-support "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Language Support</guimenuitem></menuchoice>">
<!ENTITY liferea "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Liferea Feed Reader</guimenuitem></menuchoice>">
<!ENTITY limewire "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>LimeWire</guimenuitem></menuchoice>">
<!ENTITY lockscreen "<menuchoice><guimenu>System</guimenu><guimenuitem>Lock Screen</guimenuitem></menuchoice>">
<!ENTITY login-screen-setup "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Login Window</guimenuitem></menuchoice>">
<!ENTITY mahjongg "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Mahjongg</guimenuitem></menuchoice>">
<!ENTITY menu-editor "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>Applications Menu Editor</guimenuitem></menuchoice>">
<!ENTITY menus-and-toolbars "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Menus &amp; Toolbars</guimenuitem></menuchoice>">
<!ENTITY monodevelop "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDevelop</guimenuitem></menuchoice>">
<!ENTITY monodoc "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDoc</guimenuitem></menuchoice>">
<!ENTITY mouse "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Mouse</guimenuitem></menuchoice>">
<!ENTITY mtink "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>mtink</guimenuitem></menuchoice>">
<!ENTITY music "<menuchoice><guimenu>Places</guimenu><guimenuitem>Music</guimenuitem></menuchoice>">
<!ENTITY multimedia-systems-selector "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Multimedia Systems Selector</guimenuitem></menuchoice>">
<!ENTITY ndisgtk "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Windows Wireless Drivers</guimenuitem></menuchoice>">
<!ENTITY network-proxy "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Network Proxy</guimenuitem></menuchoice>">
<!ENTITY network-tools "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network Tools</guimenuitem></menuchoice>">
<!ENTITY networking "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY network-servers "<menuchoice><guimenu>Places</guimenu><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY neverball "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverball</guisubmenu></menuchoice>">
<!ENTITY neverputt "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverputt</guisubmenu></menuchoice>">
<!ENTITY nexuiz "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Nexuiz</guisubmenu></menuchoice>">
<!ENTITY open-office "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem></menuchoice>">
<!ENTITY openoffice-base "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Database</guimenuitem></menuchoice>">
<!ENTITY openoffice-draw "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>OpenOffice.org Draw</guimenuitem></menuchoice>">
<!ENTITY openoffice-presentation "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Presentation</guimenuitem></menuchoice>">
<!ENTITY openoffice-spreadsheet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Spreadsheet</guimenuitem></menuchoice>">
<!ENTITY openoffice-writer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Word Processor</guimenuitem></menuchoice>">
<!ENTITY palmos-devices "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>PalmOS Devices</guimenuitem></menuchoice>">
<!ENTITY pan "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pan Newsreader</guimenuitem></menuchoice>">
<!ENTITY photoprint "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>PhotoPrint</guimenuitem></menuchoice>">
<!ENTITY pidgin "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pidgin Internet Messenger</guimenuitem></menuchoice>">
<!ENTITY power-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Power Management</guimenuitem></menuchoice>">
<!ENTITY ppracer "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Planet Penguin Racer</guisubmenu></menuchoice>">
<!ENTITY preferences "<menuchoice><guimenu>System</guimenu><guisubmenu>Preferences</guisubmenu></menuchoice>">
<!ENTITY preferred-applications "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Preferred Applications</guimenuitem></menuchoice>">
<!ENTITY print "<menuchoice><guimenu>File</guimenu><guimenuitem>Print</guimenuitem></menuchoice>">
<!ENTITY printing "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Printing</guimenuitem></menuchoice>">
<!ENTITY qtparted "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem><guimenuitem>QTParted</guimenuitem></menuchoice>">
<!ENTITY remote-desktop "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Remote Desktop</guimenuitem></menuchoice>">
<!ENTITY removable-drives-and-media "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Removable Drives and Media</guimenuitem></menuchoice>">
<!ENTITY realplayer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>RealPlayer 11</guimenuitem></menuchoice>">
<!ENTITY restricted-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Hardware Drivers</guimenuitem></menuchoice>">
<!ENTITY rhythmbox "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Rhythmbox Music Player</guimenuitem></menuchoice>">
<!ENTITY route-planner "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY scorched3d "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guimenuitem>Scorched 3D</guimenuitem></menuchoice>">
<!ENTITY screen-resolution "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screen Resolution</guimenuitem></menuchoice>">
<!ENTITY screensaver "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screensaver</guimenuitem></menuchoice>">
<!ENTITY scribus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>Scribus</guimenuitem></menuchoice>">
<!ENTITY serpentine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Serpentine Audio CD Creator</guimenuitem></menuchoice>">
<!ENTITY services "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Services</guimenuitem></menuchoice>">
<!ENTITY sessions "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sessions</guimenuitem></menuchoice>">
<!ENTITY shared-folders "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Shared Folders</guimenuitem></menuchoice>">
<!ENTITY skype "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Skype</guimenuitem></menuchoice>">
<!ENTITY software-properties "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY software-sources "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY sound "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sound</guimenuitem></menuchoice>">
<!ENTITY soundandvideo "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem></menuchoice>">
<!ENTITY soundjuicer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Audio CD Extractor</guimenuitem></menuchoice>">
<!ENTITY supertux "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>SuperTux</guisubmenu></menuchoice>">
<!ENTITY shutdown "<menuchoice><guimenu>System</guimenu><guimenuitem>Shut Down...</guimenuitem></menuchoice>">
<!ENTITY synaptic "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Synaptic Package Manager</guimenuitem></menuchoice>">
<!ENTITY system-monitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>System Monitor</guimenuitem></menuchoice>">
<!ENTITY systemtools "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem></menuchoice>">
<!ENTITY terminal "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Terminal</guimenuitem></menuchoice>">
<!ENTITY text-editor "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Text Editor</guimenuitem></menuchoice>">
<!ENTITY theme "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Theme</guimenuitem></menuchoice>">
<!ENTITY thunderbird "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Mozilla Thunderbird Mail/News</guimenuitem></menuchoice>">
<!ENTITY time-date "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Time and Date</guimenuitem></menuchoice>">
<!ENTITY totem "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Movie Player</guimenuitem></menuchoice>">
<!ENTITY touchpad "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Touchpad</guimenuitem></menuchoice>">
<!ENTITY tremulous "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Tremulous</guisubmenu></menuchoice>">
<!ENTITY ubuntu-update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Ubuntu Update Manager</guimenuitem></menuchoice>">
<!ENTITY update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Update Manager</guimenuitem></menuchoice>">
<!ENTITY users "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY users-groups "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY windows "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Windows</guimenuitem></menuchoice>">
<!ENTITY wireshark "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Wireshark</guimenuitem></menuchoice>">
<!ENTITY xchat-gnome "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Xchat-GNOME IRC Chat</guimenuitem></menuchoice>">
<!ENTITY xine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>xine</guimenuitem></menuchoice>">
<!ENTITY xmms "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>XMMS</guimenuitem></menuchoice>">
<!ENTITY xsane "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>XSane Image Scanner</guimenuitem></menuchoice>">
<!ENTITY % xinclude SYSTEM "../../libs/xinclude.mod">
<!ELEMENT xi:include (xi:fallback)?>
<!ATTLIST xi:include xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ATTLIST xi:include href CDATA #REQUIRED>
<!ATTLIST xi:include parse (xml | text) "xml">
<!ATTLIST xi:include xpointer CDATA #IMPLIED>
<!ATTLIST xi:include encoding CDATA #IMPLIED>
<!ATTLIST xi:include accept CDATA #IMPLIED>
<!ATTLIST xi:include accept-charset CDATA #IMPLIED>
<!ATTLIST xi:include accept-language CDATA #IMPLIED>
<!ELEMENT xi:fallback ANY>
<!ATTLIST xi:fallback xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ENTITY % local.preface.class "| xi:include">
<!ENTITY % local.part.class "| xi:include">
<!ENTITY % local.chapter.class "| xi:include">
<!ENTITY % local.divcomponent.mix "| xi:include">
<!ENTITY % local.para.char.mix "| xi:include">
<!ENTITY % local.info.class "| xi:include">
<!ENTITY % local.common.attrib "xmlns:xi            CDATA       #FIXED       'http://www.w3.org/2001/XInclude'">
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="windows-networking" status="review">
  <title>Windows-Netzwerke</title>
  
  <para>Rechnernetzwerke bestehen oft aus unterschiedlichen Plattformen. Obwohl das Betreiben eines Netzwerks, das sich nur aus Ubuntu Desktop- sowie Server-Systemen zusammen setzt, sicherlich Spaß machen würde, müssen viele Netzwerkumgebungen sowohl aus Ubuntu- als auch aus <trademark class="registered">Microsoft</trademark><trademark class="registered">Windows</trademark>-Systemen bestehen, die harmonisch zusammenarbeiten. Dieser Abschnitt der <phrase>Ubuntu</phrase> Server-Dokumentation stellt die Prinzipien und Werkzeuge vor, die benutzt werden, den Ubuntu-Server so zu konfigurieren, dass Netzwerkressourcen mit Windows-Rechnern geteilt werden.</para>

  <sect1 id="windows-networking-introduction" status="review">
    <title>Einführung</title>
    
    <para>Ein erfolgreiches Zusammenarbeiten im Netzwerk zwischen Ihrem Ubuntu-System und Windows-Clients schließt die Bereitstellung und Integration von Diensten ein, die in Windows-Umgebungen üblich sind. Solche Dienste helfen bei der gemeinsamen Nutzung von Daten und von Informationen über die Rechner und Benutzer des Netzwerks, und können unter drei große Funktionalitätskategorien eingeordnet werden:</para>
    
    <itemizedlist>
      <listitem>
        <para><emphasis role="bold">Datei- und Druckerfreigabe-Dienste</emphasis>. Nutzung des Server Message Block (SMB) Protokolls um die Freigabe von Dateien, Ordnern, Laufwerken und Drucker im gesamten Netzwerk zu ermöglichen.</para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Verzeichnisdienste<emphasis>. Austauschen wichtiger Informationen über die Rechner und Benutzer des Netzwerks mit Technologien wie dem Lightweight Directory Access Protocol (LDAP) und Microsoft <trademark class="registered">Active Directory</trademark>.</emphasis></emphasis></para>
      </listitem>
      <listitem>
        <para><emphasis role="bold">Authentifizierung und Zugang</emphasis>. Ermittelt die Identität eines Rechners oder Benutzers im Netzwerk und bestimmt, ob der Rechner bzw. Benutzer für den Netzwerkzugriff autorisiert ist, Richtlinien und Technologien wie beispielsweise Datei-Zugriffsrechte, Gruppenrechte und Kerberos-Authentifikationsservice zu benutzen.</para>
      </listitem>
      </itemizedlist>
        
      <para>Glücklicherweise kann Ihr Ubuntu-System Hilfsmittel bereitstellen, um Windows-Clients zu unterstützen und Netzwerkressourcen für diese freizugeben. Der wichtigste Bestandteil der Software, die Ihr Ubuntu-System beinhaltet, um Windows-Netzwerke zu unterstützen, ist die Samba-Suite der SMB-Server–Anwendungen und –werkzeuge.</para>
        
      <para>Dieser Abschnitt der <phrase>Ubuntu</phrase>-Server–Dokumentation wird einige allgemeine Samba-Anwendungsfälle vorstellen und wie man die dazu notwendigen Pakete installiert und konfiguriert. Weitere detaillierte Dokumentationen und Informationen über Samba sind auf der <ulink url="http://www.samba.org">Samba-Website</ulink> zu finden.</para>
  
  </sect1>
  <sect1 id="samba-fileserver" status="review">
    <title>Samba-Datei–Server</title>
    
    <para>Eine der verbreitesten Wege, Ubuntu- und Windows-Rechner zu vernetzen ist es, Samba als Datei-Server zu konfigurieren. Dieser Abschnitt deckt die Einrichtung eines <application>Samba</application>-Servers ab, um damit Dateien für Windows-Clients freizugeben.</para>

    <para>Der Server wird so konfiguriert sein, dass er Dateien für jeden Rechner im Netzwerk freigibt ohne nach einem Passwort zu fragen. Wenn Ihre Umgebung strengere Zugriffskontrollen erfordert, finden Sie dazu Informationen unter <xref linkend="samba-fileprint-security"/></para>

    <sect2 id="samba-fileserver-installation" status="review">
      <title>Installation</title>

      <para>Der erste Schritt ist das Installieren des Software-Paketes <application>samba</application>. Geben Sie in einem Terminal ein:</para>

<screen>
<command>sudo apt-get install samba</command>
</screen>
    
      <para>Das war es auch schon, Nun kann die Konfiguration von Samba zur gemeinsamen Nutzung von Dateien vorgenommen werden.</para>

    </sect2>
    <sect2 id="samba-fileserver-configuration" status="review">
      <title>Konfiguration</title>
    
      <para>Die zentrale Samba-Konfigurationsdatei befindet sich in <filename>/etc/samba/smb.conf</filename>. Die vorgegebene Konfigurationsdatei beinhaltet eine signifikante Anzahl von Kommentaren, um die verschiedenen Konfigurationsanweisungen zu dokumentieren.</para>
      <note>
        <para>Nicht alle verfügbaren Optionen sind in der vorgegebenen Konfigurationsdatei enthalten. Weitere Informationen dazu finden Sie auf der <filename>smb.conf</filename><application>man</application>-Page (Handbuchseite) oder der <ulink url="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">Samba HOWTO Collection</ulink>.</para>
      </note>

      <procedure>        
        <step>

        <para>Bearbeiten Sie zuerst die folgenden Schlüssel-/Wert-Paare im Abschnitt <emphasis>[global]</emphasis> der Datei <filename>/etc/samba/smb.conf</filename>:</para>

<programlisting>
   workgroup = BEISPIEL
   ...
  security = user
</programlisting>

        <para>Der <emphasis>security</emphasis>-Parameter befindet sich weiter unten im Abschnitt [global] und ist standardmäßig auskommentiert. Ändern Sie auch <emphasis>BEISPIEL</emphasis> so ab, dass es besser Ihrer Umgebung entspricht.</para>

        </step>
        <step>
  
        <para>Um einen Ordner freizugeben, erstellen Sie einen neuen Abschnitt am unteren Ende der Datei oder entfernen die Kommentare bei einem der Beispiele:</para>

<programlisting>
[share]
    comment = Ubuntu Datei-Server-Freigabe
    path = /srv/samba/share
    browsable = yes
    guest ok = yes
    read only = no
    create mask = 0755
</programlisting>

      <itemizedlist>
        <listitem>
          <para><emphasis>comment:</emphasis> eine kurze Beschreibung der Freigabe. Passen Sie diese an Ihre Bedürfnisse an.</para>
        </listitem>
        <listitem>
          <para><emphasis>path:</emphasis> der Pfad zum freigegebenen Ordner.</para>
          <para>Dieses Beispiel verwendet <filename>/srv/samba/sharename</filename>, weil gemäß des <emphasis>Filesystem Hierarchy Standard (FHS)</emphasis> (Standard für Dateisystemhierarchien) <ulink url="http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM">/srv</ulink> der Ort ist, an dem site-spezifische Daten bereitgestellt werden sollten. Technisch können Samba-Freigaben überall im Dateisystem abgelegt werden, solange die Zugriffsrechte korrekt sind. Es wird aber empfohlen, Standards einzuhalten.</para>
        </listitem>
        <listitem>
          <para><emphasis>browsable:</emphasis> ermöglicht Windows-Rechnern das Durchsuchen des freigegebenen Ordners mit dem <application>Windows-Explorer</application>.</para>
        </listitem>
        <listitem>
          <para><emphasis>guest ok:</emphasis> gestattet Rechnern den Zugriff auf die Freigabe ohne die Angabe eines Passwortes</para>
        </listitem>
        <listitem>
          <para><emphasis>read only:</emphasis> gibt Schreibzugriff auf den freigegebenen Ordner</para>
        </listitem>
        <listitem>
          <para><emphasis>create mask:</emphasis> legt die Zugriffsrechte für neu angelegte Dateien fest.</para>
        </listitem>
      </itemizedlist>

      </step>
      <step>
        
        <para>Jetzt, da die Konfiguration von <application>Samba</application> abgeschlossen ist, müssen der Ordner erstellt und die Zugriffsrechte angepasst werden. Geben Sie dazu in einem Terminal ein:</para>

<screen>
<command>sudo mkdir -p /srv/samba/share</command>
<command>sudo chown nobody.nogroup /srv/samba/share/</command>
</screen>

      <note>
        <para>Die Option <emphasis>-p</emphasis> lässt mkdir den gesamten Ordnerbaum erstellen, sofern er nicht existiert. Ändern Sie den Freigabenamen so, dass er in Ihre Arbeitsumgebung passt.</para>
      </note>

      </step>
      <step>
     
      <para>Zum Schluss, starten Sie den <application>samba</application>-Dienst erneut, damit die neue Konfiguration übernommen wird:</para>

<screen>
<command>sudo /etc/init.d/samba restart</command>
</screen>

      </step>
      </procedure>

      <warning>
        <para>Noch einmal: die obige Konfiguration gibt jedem Rechner im lokalen Netzwerk vollen Zugriff. Eine sicherere Konfigurationsvariante finden Sie unter <xref linkend="samba-fileprint-security"/>.</para>
      </warning>

      <para>Sie sollten nun in der Lage sein, Ihren Ubuntu-Dateiserver von einem Windows-Rechner aus zu durchsuchen und den freigegebenen Ordner zu sehen. Um zu überprüfen, das alles funktioniert, versuchen Sie, von Windows aus ein Ordner zu erstellen.</para>

      <para>Um weitere Freigaben zu erstellen, erstellen Sie einfach neue <emphasis>[dir]</emphasis>-Abschnitte in <filename>/etc/samba/smb.conf</filename> und starten Sie <emphasis>Samba</emphasis> neu. Stellen Sie sicher, dass der Ordner, welches Sie freigeben wollen, auch tatsächlich existiert.</para>
    </sect2>
    <sect2 id="samba-fileserver-resources" status="review">
      <title>Quellen</title>
 
      <itemizedlist>
        <listitem>
          <para>Weitergehende Samba-Konfigurationen finden Sie in der <ulink url="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">Samba-HOWTO–Sammlung</ulink>.</para>
        </listitem>
        <listitem>
          <para>Dieses Handbuch steht auch in <ulink url="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228">gedruckter Form</ulink> zur Verfügung.</para>
        </listitem>
        <listitem>
          <para>O'Reilly's <ulink url="http://www.oreilly.com/catalog/9780596007690/">Using Samba</ulink> ist eine andere gute Referenz.</para>
        </listitem>
      </itemizedlist>
   
    </sect2>
  </sect1>
  <sect1 id="samba-printserver" status="review">
    <title>Samba-Druckerserver</title>
    
    <para>Ein weiteres gebräuchliches Einsatzfeld von Samba ist die Freigabe von installierten Druckern, lokal oder im Netzwerk, auf einem Ubuntu-Server. Ähnlich wie <xref linkend="samba-fileserver"/> erklärt dieser Abschnitt die Konfiguration Sambas, um jedem Rechner im lokalen Netzwerk die Nutzung der installierten Drucker, ohne nach Nutzernamen und Passwort zu fragen.</para>

    <para>Eine sicherere Konfigurationsvariante finden Sie in <xref linkend="samba-fileprint-security"/>.</para>

    <sect2 id="samba-printserver-installation" status="review">
      <title>Installation</title>

      <para>Vor der Installation und Konfiguration von Samba ist es am besten, bereits eine funktionierende <application>CUPS</application>-Installation zu haben. Weitere Informationen dazu finden Sie unter <xref linkend="cups"/>.</para>

      <para>Um das <application>samba</application>-Paket zu installieren, geben Sie in einem Terminal folgendes ein:</para>

<screen>
<command>sudo apt-get install samba</command>
</screen>

    </sect2>
    <sect2 id="samba-printserver-configuration" status="review">
      <title>Konfiguration</title>
    <para>Nach der Installation von Samba bearbeiten Sie <filename>/etc/samba/smb.conf</filename>. Ändern Sie den Eintrag <emphasis>workgroup</emphasis> entsprechend Ihrem Netzwerknamen, und geben Sie dem Eintrag <emphasis>security</emphasis> den Wert <emphasis role="italic">share</emphasis>:</para>

<programlisting>
   workgroup = BEISPIEL
   ...
  security = user
</programlisting>

    <para>Im Abschnitt <emphasis>[printers]</emphasis> ändern Sie die den Wert des Eintrags <emphasis>guest ok</emphasis> in <emphasis role="italic">yes</emphasis>:</para>

<programlisting>
   browsable = yes
   guest ok = yes
</programlisting>

    <para>Nach dem Bearbeiten von <filename>smb.conf</filename> starten Sie Samba neu:</para>

<screen>
<command>sudo /etc/init.d/samba restart</command>
</screen>

    <para>In der Standardkonfiguration von Samba werde nautomatisch alle installierten Drucker freigegeben. Installieren Sie einfach die Drucker lokal auf Ihren Windows-Rechnern.</para>
    
    </sect2>
    <sect2 id="samba-printserver-resources" status="review">
      <title>Quellen</title>
 
      <itemizedlist>
        <listitem>
          <para>Weitergehende Samba-Konfigurationen finden Sie in der <ulink url="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">Samba-HOWTO–Sammlung</ulink>.</para>
        </listitem>
        <listitem>
          <para>Dieses Handbuch steht auch in <ulink url="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228">gedruckter Form</ulink> zur Verfügung.</para>
        </listitem>
        <listitem>
          <para>O'Reilly's <ulink url="http://www.oreilly.com/catalog/9780596007690/">Using Samba</ulink> ist eine andere gute Referenz.</para>
        </listitem>
        <listitem>
          <para>Weitere Informationen zur Konfiguration von CUPS finden Sie auch auf dere <ulink url="http://www.cups.org/">CUPS-Website</ulink>.</para>
        </listitem>
      </itemizedlist>
   
    </sect2>
  </sect1>
  <sect1 id="samba-fileprint-security" status="review">
    <title>Absichern eines Samba-Datei- und Druckerservers</title>

    <sect2 id="samba-security-mode" status="review">
      <title>Samba Sicherheitsmodi</title>

      <para>Im Common Internet Filesystem-Netzwrkprotokoll (CIFS) gibt es zwei Sicherheitsebenen <emphasis>user-level</emphasis> und <emphasis>share-level</emphasis>. Allerdings erlauben die von Samba implementierten <emphasis>Sicherheitsmodi</emphasis> mehr Flexibilität, indem vier Wege anbieten, die User-Level-Sicherheit umzusetzen, und eine Möglichkeit anbieten, die Share-Level–Sicherheit umzusetzen:</para>
      
      <itemizedlist>
        <listitem>
          <para><emphasis>security = user:</emphasis> fordert von den Clients eine Angabe eines Benutzernamens und eines Passwortes, um sich mit einer Freigabe zu verbinden. Die Samba-Benutzerkonten werden von den System-Benutzerkonten getrennt, aber das Software-Paket <application>libpam-smbpass</application> erlaubt es, System-Benutzer und deren Passwörter mit der Samba-Benutzerdatenbank abzugleichen.</para>
        </listitem>
        <listitem>
          <para><emphasis>security = domain:</emphasis> dieser Modus erlaubt es Samba, gegenüber Windows-Clients als ein Primary Domain Controller (PDC), ein Backup Domain Controller (BDC), oder ein Domain Member Server (DMS) aufzutreten. Weitere Informationen dazu sind unter <xref linkend="samba-dc"/> zu finden.</para>
        </listitem>
        <listitem>
          <para><emphasis>security = ADS:</emphasis> erlaubt es Samba, eine Active-Directory–Domäne als natives Mitglied beizutreten. Weitere Informationen dazu finden sich unter <xref linkend="samba-ad-integration"/>.</para>
        </listitem>
        <listitem>
          <para><emphasis>security = server:</emphasis> dieser Modus entstammt Zeiten, als Samba noch nicht als Member Server auftreten konnte und sollte aufgrund einiger Sicherheitsprobleme nicht verwendet werden.Unter dem Abschnitt <ulink url="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/ServerType.html#id349531">Server Security</ulink> des Samba-Handbuchs findet man mehr Informationen dazu.</para>
        </listitem>
        <listitem>
          <para><emphasis>security = share:</emphasis> erlaubt es Clients, sich ohne die Angabe eines Benutzernamens oder eines Passwortes mit einer Freigabe zu verbinden.</para>
        </listitem>
      </itemizedlist>

      <para>Der Sicherheitsmodus, den Sie  wählen sollten, hängt von Ihrer Umgebung und den Anforderungen, die der Samba-Server erfüllen soll, ab.</para>

    </sect2>
    <sect2 id="samba-user-security" status="review">
      <title>Security = User</title>

      <para>Dieser Abschnitt ändert die Konfiguration eines Samba-Datei- und Druckerservers aus <xref linkend="samba-fileserver"/> und <xref linkend="samba-printserver"/> so, dass eine Authentifizierung erforderlich wird.</para>

      <para>Installieren Sie zuerst das Software-Paket <application>libpam-smbpass</application>, dass die Systembenutzer mit der Samba-Benutzerdatenbank abgleicht:</para>

<screen>
<command>sudo apt-get install libpam-smbpass</command>
</screen>

      <note>
        <para>Wenn Sie bei der Installation dern Task <emphasis>Samba Server</emphasis> ausgewählt haben, ist <application>libpam-smbpass</application> bereits installiert.</para>
      </note>

      <para>Bearbeiten Sie die Datei <filename>/etc/samba/smb.conf</filename>, und ändern Sie im Abschnitt <emphasis>[share]</emphasis> folgendes:</para>

<programlisting>
    guest ok =  no
</programlisting>

      <para>Starten Sie abschließend Samba neu, damit die Änderungen aktiv werden.</para>

<screen>
<command>sudo /etc/init.d/samba restart</command>
</screen>

      <para>Wenn Sie sich nun mit den freigegebenen Ordnern oder Druckern verbinden, sollten Sie aufgefordert werden, Benutzernamen und Kennwort einzugeben.</para>

      <note>
        <para>Wenn Sie einer Freigabe einen Laufwerksbuchstaben zuordnen möchten, dann können Sie das Ankreuzfeld <quote>beim Anmelden automatisch verbinden</quote> auswählen. Sie müssen dann nur noch einmal Nutzernamen und Kennwort eingeben, zumindest so lange, wie sich das Kennwort nicht ändert.</para>
      </note>

    </sect2>
    <sect2 id="samba-share-security" status="review">
      <title>Freigabesicherheit</title>

      <para>Es gibt einige Optionen, die die Sicherheit für jeden freigegebene Ordner erhöhen können. In dem folgenden Abschnitt werden mit Hilfe des <emphasis>[share]</emphasis>-Beispiels einige übliche Optionen erläutert.</para>

      <sect3 id="windows-networking-groups" status="review">
        <title>Gruppen</title>
        
        <para>Gruppen definieren eine Sammlung von Rechnern oder Benutzern, welche einen gemeinsamen Level an Zugriffsrechten für bestimmte Netzwerkressourcen besitzen und bieten damit einen gröberen Level für die Zugangskontrolle. Wenn man zum Beispiel eine Gruppe <emphasis role="italic">qa</emphasis> definiert und diese die Benutzer <emphasis role="italic">freda</emphasis>, <emphasis role="italic">danika</emphasis> und <emphasis role="italic">rob</emphasis>, sowie eine weitere Gruppe <emphasis role="italic">support</emphasis> die Benutzer <emphasis role="italic">danika</emphasis>, <emphasis role="italic">jeremy</emphasis> und <emphasis role="italic">vincent</emphasis> enthält, so stehen die Netzwerkressourcen, welche für die Gruppe <emphasis role="italic">qa</emphasis> frei geschaltet sind, den Benutzern freda, danika und rob aber nicht jeremy oder vincent zur Verfügung. Da die Benutzerin <emphasis role="italic">danika</emphasis> in beiden Gruppen eingetragen ist kann sie auch auf alle Ressourcen zugreifen, die für eine der beiden Gruppen frei geschalten ist. Die anderen Benutzer aber können nur die für ihre Gruppe frei gegebenen Ressourcen nutzen.</para>

        <para>Standardmäßig greift Samba auf die lokal in <filename>/etc/group</filename> festgelegten Gruppen zu, um festzustellen, welcher Benutzer zu welcher Gruppe gehört. Weitere Informationen über das Hinzufügen und Entfernen von Benutzern in Gruppen finden Sie unter <xref linkend="adding-deleting-users"/>.</para>

        <para>Bei dem Festlegen von Gruppen in der Samba-Konfigurationsdatei. <filename>/etc/samba/smb.conf</filename>, ist die Syntax für die Kennzeichnung von Gruppen die, dass man den Gruppennamen ein »@«-Symbol voranstellt. Wenn Sie etwa eine Gruppe mit dem Namen <emphasis role="italic">sysadmin</emphasis> in einem bestimmten Abschnitt von <filename>/etc/samba/smb.conf</filename> festlegen möchten, können Sie dies, in dem Sie den Gruppennamen als <emphasis role="bold">@sysadmin</emphasis> eingeben.</para>

      </sect3>
      <sect3 id="samba-file-permissions" status="review">
        <title>Dateizugriffsrechte</title>

        <para>Dateizugriffsrechte legen explizit fest, welche Rechte ein Rechner auf einen bestimmten Ordner, eine Datei oder eine Menge von Dateien hat. Solche Berechtigungen können durch Bearbeiten der Datei <filename>/etc/samba/smb.conf</filename> und dem Festlegen expliziter Berechtigungen für Dateifreigaben eingerichtet werden.</para>

        <para>Wenn Sie beispielsweise eine Samba-Freigabe mit der Bezeichnung <emphasis>share</emphasis> eingerichtet haben und der Gruppe von Benutzern, die als <emphasis role="italic">qa</emphasis> festgelegt sind, nur lesenden Zugriff (engl. <emphasis role="italic">read-only</emphasis>) einräumen möchten, aber weiterhin der als <emphasis role="italic">sysadmin</emphasis> bezeichneten Gruppe und dem Benutzer <emphasis role="italic">vincent</emphasis> Schreibrechte einräumen möchten, können Sie die Datei <filename>/etc/samba/smb.conf</filename> bearbeiten und folgende Einträge unter dem Eintrag <emphasis>[share]</emphasis> hinzufügen:</para>

<programlisting>
    read list = @qa
    write list = @sysadmin, vincent
</programlisting>

        <para>Eine weitere Samba-Zugriffsberechtigung ist die Vergabe einer <emphasis>administrativen</emphasis> Berechtigung für eine bestimmte freigegebene Ressource. Benutzer, die administrative Berechtigungen haben, können die Ressource, für die explizit eine administrative Berechtigung vergeben wurde, lesen, schreiben und deren Inhalt ändern.</para>

        <para>Wenn Sie beispielsweise der Benutzerin <emphasis role="italic">melissa</emphasis> administrative Zugriffsberechtigungen für die Freigabe <emphasis role="italic">share</emphasis> einräumen möchten, dann bearbeiten Sie die Datei <filename>/etc/samba/smb.conf</filename> und fügen Sie folgende Zeile unter dem Eintrag <emphasis>[share]</emphasis> hinzu:</para>

<programlisting>
    admin users = melissa
</programlisting>

        <para>Nach dem Bearbeiten von <filename>/etc/samba/smb.conf</filename>, starten Sie Samba neu, damit die Änderungen Berücksichtigung finden:</para>

<screen>
<command>sudo /etc/init.d/samba restart</command>
</screen>

        <note>
          <para>Damit emphasis&gt;read list</para>
        </note> 

        <para>Jetzt, da Samba so eingerichtet ist, dass festgelegt ist, welche Gruppen Zugriff auf welchen freigegebenen Ordner haben, müssen die Dateiberechtigungen aktualisiert werden.</para>

        <para>Traditionelle Linux-Dateizugriffsrechte lassen sich nicht gut auf Access Control Lists (ACLs) von Windows NT abbilden. Glücklicherweise sind aber POSIX ACLs auf Ubuntu-Servern verfügbar, die eine feingranularere Zugriffssteuerung ermöglichen. Um beispielsweise ACLs für das EXT3-Dateisystem <filename>/srv</filename> zu aktivieren, bearbeiten Sie <filename>/etc/fstab</filename> und fügen Sie die Option <emphasis>acl</emphasis> hinzu:</para>

<programlisting>
UUID=66bcdd2e-8861-4fb0-b7e4-e61c569fe17d /srv  ext3    noatime,relatime,acl 0       1
</programlisting>

        <para>Danach hängen Sie die Partition wieder ein:</para>

<screen>
<command>sudo mount -v -o remount /srv</command>
</screen>

        <note>
          <para>Das oben genannte Beispiel geht davon aus, dass <filename>/srv</filename> auf einer gesonderten Partition liegt. Wenn <filename>/srv</filename> oder der von Ihnen eingestellte Freigabe-Pfad Teil der <filename>/</filename>-Partition ist, könnte ein Neustart erforderlich sein.</para>
        </note>

        <para>Um die oben genannte Samba-Konfiguration zu erfüllen, werden der <emphasis>sysadmin</emphasis>-Gruppe Lese-, Schreib- und Ausführungsrechte für <filename>/srv/samba/share</filename>, der <emphasis>qa</emphasis>-Gruppe Lese- und Ausführungsrechte gegeben und der Besitzer der Dateien wird auf den Benutzernamen <emphasis>melissa</emphasis> gesetzt. Geben Sie folgenden Befehl in eine Befehlszeile ein:</para>

<screen>
<command>sudo chown -R melissa /srv/samba/share/</command>
<command>sudo chgrp -R sysadmin /srv/samba/share/</command>
<command>sudo setfacl -R -m g:qa:rx /srv/samba/share/</command>
</screen>

        <note>
          <para>Der obige <application>setfacl</application>-Befehl gibt allen Dateien in dem <filename>/srv/samba/share</filename>-Ordner <emphasis>Ausführungs</emphasis>-Rechte, was Sie eventuell wollen, oder auch nicht.</para>
        </note>
        
        <para>Von einem Windows-Client aus sollten Sie nun sehen, dass die neuen Dateirechte nun gesetzt sind. Weitere Informationen über POSIX ACLs finden Sie auf den <application>acl</application>- und <application>setfacl</application>-Hilfeseiten.</para>

      </sect3>
    </sect2>
    <sect2 id="samba-apparmor" status="review">
      <title>Samba-AppArmor-Profil</title>
     
      <para>Ubuntu wird standardmäßig mit dem <application>AppArmor</application>-Sicherheitsmodul ausgeliefert, welches verbindliche Zugriffskontrollen zu Verfügung stellt. Das AppArmor-Standardprofil für Samba wird benötigt, um für Ihre Konfiguration entsprechend angepasst zu werden. Weitere Informationen über die Benutzung von AppArmor finden Sie unter <xref linkend="apparmor"/>.</para>

      <para>Als Teil des <application>apparmor-profiles</application>-Pakets gibt es AppArmor-Standardprofile für <filename>/usr/sbin/smbd</filename> und <filename>/usr/sbin/nmbd</filename>, den Binärcode des Samba-Dienstes. Um das Paket zu installieren, geben Sie folgenden Befehl in eine Befehlszeile ein:</para>

<screen>
<command>sudo apt-get install apparmor-profiles</command>
</screen>

      <note>
        <para>Das Paket enthält noch Profile für viele weitere Binärdateien.</para>
      </note>

      <para>Standardmäßig befinden sich die Profile für <application>smbd</application> und <application>nmbd</application> im <emphasis>complain</emphasis>-Betriebszustand, der es Samba erlaubt, ohne Anpassung der Profile zu laufen und nur Fehler zu protokollieren. Um das <application>smbd</application>-Profil in den <emphasis>enforce</emphasis>-Betriebszustand zu versetzen und Samba wie erwartet laufen zu lassen, muss das Profil so verändert werden, dass es alle freigegebenen Ordner widerspiegelt.</para>

      <para>Fügen Sie Informationen zu <emphasis>[share]</emphasis> aus dem Dateiserver-Beispiel in <filename>/etc/apparmor.d/usr.sbin.smbd</filename> hinzu:</para>

<programlisting>
  /srv/samba/share/ r,
  /srv/samba/share/** rwkix,
</programlisting>

      <para>Versetzen Sie das Profil jetzt in den Status <emphasis>enforce</emphasis> und laden Sie es neu:</para>

<screen>
<command>sudo aa-enforce /usr/sbin/smbd</command>
<command>cat /etc/apparmor.d/usr.sbin.smbd | sudo apparmor_parser -r</command>
</screen>

      <para>Sie sollten jetzt dazu in der Lage sein, freigegebene Ordner ganz normal zu lesen, schreiben und auszuführen und die <application>smbd</application>-Binärdatei sollte Zugriff zu den Konfigurationsdateien und -ordnern haben. Stellen Sie sicher, dass Sie für jeden Ordner, den Sie über Samba teilen möchten, einen Eintrag erstellt haben. Alle Fehler werden nach <filename>/var/log/syslog</filename> protokolliert.</para>

    </sect2>
    <sect2 id="samba-security-resources" status="review">
      <title>Quellen</title>
 
      <itemizedlist>
        <listitem>
          <para>Weitergehende Samba-Konfigurationen finden Sie in der <ulink url="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">Samba-HOWTO–Sammlung</ulink>.</para>
        </listitem>
        <listitem>
          <para>Dieses Handbuch steht auch in <ulink url="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228">gedruckter Form</ulink> zur Verfügung.</para>
        </listitem>
        <listitem>
          <para>O'Reilly's <ulink url="http://www.oreilly.com/catalog/9780596007690/">Using Samba</ulink> ist auch eine gute Referenz.</para>
        </listitem>
        <listitem>
          <para><ulink url="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/securing-samba.html">Chapter 18</ulink> aus der Samba-HOWTO-Sammlung ist dem Thema Sicherheit verschrieben.</para>
        </listitem>
        <listitem>
          <para>Weite Informationen über Samba und ACLs finden Sie unter <ulink url="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/AccessControls.html#id397568">Samba ACLs page </ulink>.</para>
        </listitem>
      </itemizedlist>
   
    </sect2>
  </sect1>
  <sect1 id="samba-dc" status="review">
    <title>Samba als Domänen-Kontoller</title>
    
    <para>Auch wenn es nicht als Active Directory Primary Domain Controller (PDC) fungieren kann, kann ein Samba-Server so konfiguriert werden, dass er als ein Windows NT4-kompatibler Domänen-Kontroller erscheint. Ein großer Vorteil dieser Konfiguration ist die Möglichkeit, Benutzer- und Maschinen-Berechtigungsnachweise zentral zu verwalten. Samba kann mehrere Backends benutzen, um die Benutzerinformationen zu speichern.</para>

    <sect2 id="samba-pdc-smbpasswd" status="review">
      <title>Primärer Domänen-Kontroller</title>

      <para>Dieser Abschnitt behandelt die Einrichtung Sambas als einen primären Domänen-Kontroller (Primary Domain Controller, PDC) über das standardmäßige smbpasswd-Backend.</para> 

      <procedure>
        <step>

          <para>Installieren Sie zuerst Samba und <application>libpam-smbpass</application>, um die Benutzerkonten zu synchronisieren, indem Sie folgenden Befehl in eine Befehlszeile eingeben:</para>

<screen>
<command>sudo apt-get install samba libpam-smbpass</command>
</screen>
        
        </step>
        <step>

          <para>Anschließend konfigurieren Sie Samba, indem Sie <filename>/etc/samba/smb.conf</filename> bearbeiten. Der <emphasis>security</emphasis>-Betriebszustand sollte auf <emphasis role="italic">user</emphasis> gesetzt werden und <emphasis>workgroup</emphasis> sollte sich n dem Aufbau Ihrer Organisation orientieren:</para>

<programlisting>
   workgroup = BEISPIEL
   ...
   security = domain
</programlisting>

        </step>
        <step>

          <para>Fügen Sie folgendes in den auskommentierten <quote>Domains</quote>-Abschnitt hinzu oder entfernen Sie die Kommentarzeichen:</para>

<programlisting>
   domain logons = yes
   logon path = \\%N\%U\profile
   logon drive = H:
   logon home = \\%N\%U
   logon script = logon.cmd
   add machine script = sudo /usr/sbin/useradd -n -g machines -c Machine -d /var/lib/samba -s /bin/false %u
</programlisting>
 
          <itemizedlist>
            <listitem>
              <para><emphasis>domain logons:</emphasis> stellt den netlogon-Dienst zu Verfügung, welcher Samba als Domänen-Kontroller agieren lässt.</para>
            </listitem>
            <listitem>
              <para><emphasis>logon path:</emphasis> legt das Windows-Profil des Benutzers in deren persönlichen Ordner. Es ist auch möglich, eine <emphasis>[profiles]</emphasis>-Freigabe einzurichten und alle Profile in einem einzigen Ordner zu verwalten.</para>
            </listitem>
            <listitem>
              <para><emphasis>logon drive:</emphasis> legt den lokalen Pfad des persönlichen Ordners fest.</para>
            </listitem>
            <listitem>
              <para><emphasis>logon home:</emphasis> legt den Ort des persönlichen Ordners fest.</para>
            </listitem>
            <listitem>
              <para><emphasis>logon script:</emphasis> bestimmt, ob das Skript lokal ausgeführt werden soll, wenn sich ein Benutzer anmeldet. Das Skript muss in der <emphasis>[netlogon]</emphasis>-Freigabe liegen.</para>
            </listitem>
            <listitem>
              <para><emphasis>add machine script:</emphasis> ein Skript, welches automatisch den <emphasis>Machine Trust Account</emphasis> anlegt, welcher von der Workstation benötigt wird um der Domäne beizutreten.</para>
              <para>Die Gruppe <emphasis>machines</emphasis> in diesem Beispiel wird mit Hilfe des <application>addgroup</application>-Werkzeugs erstellt, weitere Informationen finden Sie unter <xref linkend="adding-deleting-users"/>.</para>
            </listitem>
          </itemizedlist>

          <note>
            <para>Wenn Sie <emphasis>Roaming Profiles</emphasis> nicht benutzen wollen, lassen Sie die <emphasis>logon home</emphasis>- und <emphasis>logon path</emphasis>-Option auskommentiert.</para>
          </note>

        </step>
        <step>
     
          <para>Kommentieren Sie die <emphasis>[homes]</emphasis>-Freigabe aus, damit <emphasis role="italic">logon home</emphasis> abgebildet wird.</para>

<programlisting>
[homes]
   comment = Home Directories
   browseable = no
   read only = no
   create mask = 0700
   directory mask = 0700
   valid users = %S
</programlisting>

        </step>
        <step>

          <para>Für die Konfiguration als Domänen-Kontroller muss eine <emphasis>[netlogon]</emphasis>-Freigabe eingerichtet werden. Um die Freigabe zu aktivieren, entfernen Sie die Kommentarzeichen um folgende Zeilen:</para>

<programlisting>
[netlogon]
   comment = Network Logon Service
   path = /srv/samba/netlogon
   guest ok = yes
   read only = yes
   share modes = no
</programlisting>

          <note>
            <para>Der originale <emphasis>netlogon</emphasis>-Freigabepfad ist <filename>/home/samba/netlogon</filename>, aber nach dem Filesystem Hierarchy Standard (FHS) ist (<ulink url="http://www.pathname.com/fhs/pub/fhs-2.3.html#SRVDATAFORSERVICESPROVIDEDBYSYSTEM">/srv</ulink>) der richtige Ort für seitenspezifische Inhalte von dem System zu stellen.</para>
          </note>

        </step>
        <step>

          <para>Erstellen Sie nun den Ordner <filename role="directory">netlogon</filename> und eine (vorübergehend) leere Skript-Datei <filename>logon.cmd</filename>:</para> 

<screen>
<command>sudo mkdir -p /srv/samba/netlogon</command>
<command>sudo touch /srv/samba/netlogon/logon.cmd</command>
</screen>
 
          <para>Sie können jeden normalen Windows-Logon-Skriptbefehl in <filename>logon.cmd</filename> eingeben, um die Umgebung Ihres Clients anzupassen.</para>

        </step>
        <step>

          <para>Da <emphasis>root</emphasis> standardmäßig deaktiviert ist, muss, damit eine Workstation der Domäne beitreten kann, eine Systemgruppe auf die Windows-<emphasis>Domain Admins</emphasis>-Gruppe abgebildet werden. Geben Sie folgendes in eine Befehlszeile ein, um das <application>net</application>-Werkzeug dafür zu verwenden:</para>

<screen>
<command>sudo net groupmap add ntgroup="Domain Admins" unixgroup=sysadmin rid=512 type=d</command>
</screen>

          <note>
            <para>Ändern Sie <emphasis role="italic">sysadmin</emphasis> in die Gruppe, die Sie hierfür verwenden möchten. Der Benutzer, welcher der Domäne beitreten möchte, muss ebenfalls Mitglied der <emphasis>sysadmin</emphasis>-Gruppe sein und ebenso Mitglied der Systemgruppe <emphasis>admin</emphasis>. Die <emphasis>admin-Gruppe erlaubt die Benutzung von sudo.</emphasis></para>
          </note>

        </step>
        <step>

          <para>Starten Sie Samba abschließend neu, um den neuen Domänen-Kontroller zu aktivieren:</para> 

<screen>
<command>sudo /etc/init.d/samba restart</command>
</screen>

        </step>
        <step>

          <para>Sie sollten jetzt dazu in der Lage sein, mit Windows-Clients der Domäne auf die gleiche Art und Weise beizutreten, wie einer NT4-Domäne auf einem Windows-Server.</para>

        </step>        

      </procedure>
    </sect2>
    <sect2 id="samba-bdc-smbpasswd" status="review">
      <title>Backup-Domänen-Kontroller</title>

      <para>Mit einem Primary Domain Controller (PDC) im Netzwerk ist es von Vorteil, ebenso einen Backup Domain Controller (BDC) haben. Das erlaubt es Clients sich zu authentifizieren, auch in Fällen wo der PDC nicht erreichbar ist.</para>

      <para>Wenn Sie Samba als BDC einrichten wollen, benötigen Sie eine Methode, um die Kontodaten mit dem PDC zu synchronisieren. Es gibt mehrere Wege das zu bewerkstelligen, mit <application>scp</application>, <application>rsync</application> oder <application>LDAP</application> als <emphasis>passdb-Backend</emphasis>.</para>

      <para>LDAP ist der stabilste Weg um Kontodaten zu synchronisieren, weil beide Domänen-Kontroller die gleichen Informationen in Echtzeit benutzen können. Allerdings dürfte das Aufsetzen eines LDAP-Servers für eine kleine Anzahl an Benutzern und Rechnerkonten zu aufwändig sein. Weitere Informationen finden Sie unter <xref linkend="samba-ldap"/>.</para>

      <procedure>
        <step>
   
          <para>Installieren Sie zunächst <application>samba</application> und <application>libpam-smbpass</application>. Geben Sie folgendes in eine Befehlszeile ein:</para>

<screen>
<command>sudo apt-get install samba libpam-smbpass</command>
</screen>

        </step>
        <step>

          <para>Bearbeiten Sie anschließend <filename>/etc/samba/smb.conf</filename> und entfernen Sie die Kommentarzeichen um Folgendes in <emphasis>[global]</emphasis>:</para>

<programlisting>
   workgroup = BEISPIEL
   ...
  security = user
</programlisting>

        </step>
        <step>

        <para>In dem auskommentierten <emphasis>Domains</emphasis>-Abschnitt fügen Sie folgendes hinzu oder entfernen die umgebenden Kommentarzeichen:</para>

<programlisting>
   domain logons = yes
   domain master = no
</programlisting>
        
        </step>
        <step>

          <para>Stellen Sie sicher, dass ein Benutzer Leserechte für die Dateien in <filename>/var/lib/samba</filename> besitzt. Um z.B. den Benutzern der <emphasis>admin-Gruppe zu erlauben, auf die Dateien mit scp zuzugreifen. Geben Sie hierzu folgendes ein:</emphasis></para>

<screen>
<command>sudo chgrp -R admin /var/lib/samba</command>
</screen>

        </step>
        <step>

          <para>Synchronisieren Sie anschließend die Benutzerkonten, indem Sie <application>scp</application> benutzen, um den <filename>/var/lib/samba</filename>-Ordner von dem PDC zu kopieren:</para>

<screen>
<command>sudo scp -r benutzername@pdc:/var/lib/samba /var/lib</command>
</screen>

          <note>
            <para>Ersetzen Sie <emphasis>benutzername</emphasis> mit einem gültigem Benutzernamen und <emphasis>pdc</emphasis> Sie den Hostnamen oder die IP-Adresse Ihres momentanen PDCs.</para>
          </note>

        </step>
        <step>
          
          <para>Abschließend starten Sie <application>samba</application> neu:</para>

<screen>
<command>sudo /etc/init.d/samba restart</command>
</screen>

        </step>
      </procedure>

      <para>Sie können überprüfen, dass Ihr Backup-Domänen-Kontroller funktioniert, indem Sie den Samba-Dienst auf Ihrem PDC stoppen und dann versuchen, sich auf einem Windows-Client einzuloggen, welcher der Domäne beigetreten ist.</para>

      <para>Wenn Sie die <emphasis>logon home</emphasis>-Option als einen Ordner auf dem PDC eingerichtet haben, sollten Sie im Hinterkopf behalten, dass der Zugriff auf das Laufwerk mit dem <emphasis>persönlichen Ordner</emphasis> des Benutzers nicht möglich ist, falls der PDC unerreichbar ist. Aus diesem Grund ist es am Besten, <emphasis>logon home</emphasis> auf einem vom PDC und BDC unabhängigen Dateiserver zu lagern.</para>

    </sect2>
    <sect2 id="samba-dc-resources" status="review">
      <title>Quellen</title>
 
      <itemizedlist>
        <listitem>
          <para>Weitergehende Samba-Konfigurationen finden Sie in der <ulink url="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/">Samba-HOWTO–Sammlung</ulink>.</para>
        </listitem>
        <listitem>
          <para>Dieses Handbuch steht auch in <ulink url="http://www.amazon.com/exec/obidos/tg/detail/-/0131882228">gedruckter Form</ulink> zur Verfügung.</para>
        </listitem>
        <listitem>
          <para>O'Reilly's <ulink url="http://www.oreilly.com/catalog/9780596007690/">Using Samba</ulink> ist auch eine gute Referenz.</para>
        </listitem>
        <listitem>
          <para><ulink url="http://samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-pdc.html">Chapter 4</ulink> aus der Samba-HOWTO-Sammlung erklärt das Aufsetzen eines Primary Domain Controller.</para>
        </listitem>
        <listitem>
          <para><ulink url="http://us3.samba.org/samba/docs/man/Samba-HOWTO-Collection/samba-bdc.html">Chapter 5</ulink> aus der Samba-HOWTO-Sammlung erklärt das Aufsetzen eines Backup Domain Controller.</para>
        </listitem>
      </itemizedlist>
   
    </sect2>
  </sect1>
  <sect1 id="samba-ad-integration" status="review">
    <title>Einbinden eines Samba-Active-Directories</title>

    <sect2 id="ad-integration-samba-share" status="review">
      <title>Auf eine Samba-Freigabe zugreifen</title>

      <para>Ein weiterer Verwendungszweck für Samba ist die Eingliederung in ein vorhandenes Windows-Netzwerk. Sobald Samba Mitglied der Active Directory Domain ist, kann es Datei- und Druckerdienste für AD-Benutzer zur Verfügung stellen.</para> 

      <para>Der einfachste Weg einer AD-Domäne beizutreten ist die Benutzung von <application>Likewise-open</application>. Ausführliche Anweisungen finden Sie unter <xref linkend="likewise-open"/>.</para>

      <para>Sobald Sie Mitglied der Domäne sind, installieren Sie folgendes Software-Paket:</para>

<screen>
<command>sudo apt-get install samba smbfs smbclient</command>
</screen>

      <para>Da die Software-Pakete <application>likewise-open</application> und <application>samba</application> verschiedene <filename>secrets.tdb</filename>-Dateien benutzen, muss in <filename role="directory">/var/lib/samba</filename> ein symbolischer Verweis erstellt werden:</para>

<screen>
<command>sudo mv /var/lib/samba/secrets.tdb /var/lib/samba/secrets.tdb.orig</command>
<command>sudo ln -s /etc/samba/secrets.tdb /var/lib/samba</command>
</screen>

      <para>Als nächstes bearbeiten Sie <filename>/etc/samba/smb.conf</filename> und ändern folgendes:</para>

<programlisting>
   workgroup = BEISPIEL
   ...
   security = ads
   realm = BEISPIEL.DE
   ...
   idmap backend = lwopen
   idmap uid = 50-9999999999
   idmap gid = 50-9999999999
</programlisting>

      <para>Starten Sie <application>Samba</application> neu, damit die Änderungen in Kraft treten:</para>

<screen>
<command>sudo /etc/init.d/samba restart</command>
</screen>

      <para>Sie sollten nun dazu in der Lage sein, auf jedwede <application>Samba</application>-Freigabe von einem Windows-Client aus zuzugreifen. Stellen Sie auf jeden Fall sicher, dass die entsprechenden AD-Benutzer oder -Gruppen Zugriff auf den Freigabeordner haben. Weitere Informationen finden Sie unter <xref linkend="samba-fileprint-security"/>.</para>

    </sect2>
    <sect2 id="ad-integration-windows-share" status="review">
      <title>Auf eine Windows-Freigabe zugreifen</title>

      <para>Da Samba jetzt Mitglied der Active Directory Domain ist, können Sie auf jede Freigabe eines Windows Servers zugreifen:</para>

      <itemizedlist>
        <listitem>

          <para>Um eine Windows-Freigabe einzubinden, geben Sie folgendes in eine Befehlszeile ein:</para>
<screen>
<command>mount.cifs //fs01.beispiel.de/ort_der_einbindung</command>
</screen>

          <para>Es ist ebenso möglich, auf Freigaben von Rechnern, welche kein Mitglied der AD-Domäne sind, zuzugreifen. Allerdings wird hierfür ein Benutzername und ein Passwort benötigt.</para>

        </listitem>
        <listitem>

          <para>Um die Freigabe während des Hochfahrens einzubinden, platzieren Sie einen Eintrag in <filename>/etc/fstab</filename>, wie zum Beispiel:</para>

<programlisting>
//192.168.0.5/freigabe /mnt/windows cifs auto,username=steve,password=geheim,rw 0        0
</programlisting>

        </listitem>
        <listitem>

          <para>Eine weitere Möglichkeit, um Dateien von einem Windows-Server zu kopieren, ist die Benutzung des Werkzeugs <application>smbclient</application>. Um die Dateien einer Windows-Freigabe auflisten:</para>

<screen>
<command>smbclient //fs01.beispiel.de/freigabe -k -c "ls"</command>
</screen>

        </listitem>
        <listitem>

          <para>Geben Sie folgendes ein, um eine Datei aus der Freigabe zu kopieren:</para>

<screen>
<command>smbclient //fs01.beispiel.de/freigabe -k -c "get datei.txt"</command>
</screen>

          <para>Dies kopiert die Datei <filename>datei.txt</filename> in den aktuellen Ordner.</para>

        </listitem>
        <listitem>

          <para>Und um eine Datei in die Freigabe zu kopieren:</para>

<screen>
<command>smbclient //fs01.beispiel.de/freigabe -k -c "put /etc/hosts hosts"</command>
</screen>

          <para>Dies kopiert die Datei <filename>/etc/hosts</filename> nach <filename>//fs01.beispiel.de/freigabe/hosts</filename>.</para>

        </listitem>
        <listitem>

          <para>Die oben benutzte Option <emphasis>-c</emphasis> erlaubt Ihnen, alle <application>smbclient</application>-Befehle auf einmal auszuführen. Das ist praktisch für Skripte und kleinere Dateifunktionen. Um in die <emphasis>smb: \&gt;</emphasis>-Befehlszeile, eine FTP-ähnliche Befehlszeile, mit der sie ganz normale Datei- und Ordnerbefehle ausführen können, zu gelangen, geben Sie einfach folgendes ein:</para>

<screen>
<command>smbclient //fs01.beispiel.de/freigabe -k</command>
</screen>

        </listitem>
      </itemizedlist>

      <note>
        <para>Ersetzen Sie alle Vorkommen von <emphasis>fs01.beispiel.de/freigabe</emphasis>, <emphasis>//192.168.0.5/freigabe</emphasis>, <emphasis>username=steve,password=geheim</emphasis>, und <emphasis>datei.txt</emphasis> mit Ihrer Server-IP, Ihrem Hostname, Freigabenamen, Dateinamen und einem gültigem Benutzernamen mit Zugriffsrechten auf die Freigabe, samt Passwort.</para>
      </note>

    </sect2>
    <sect2 id="ad-integration-resources" status="review">
      <title>Quellen</title>

      <para>Weitere Informationen zu den Optionen von <application>smbclient</application> finden Sie auf der Handbuchseite (Man Page): <command>man smbclient</command>, die auch unter <ulink url="http://manpages.ubuntu.com/manpages/jaunty/en/man1/smbclient.1.html">online</ulink> verfügbar ist.</para>

      <para>Die <application>mount.cifs</application><ulink url="http://manpages.ubuntu.com/manpages/jaunty/en/man8/mount.cifs.8.html">Handbuchseite (Man Page)</ulink> ist aufgrund der ausführlicheren Informationen ebenso sehr hilfreich.</para>

      
    </sect2>
  </sect1>  
  <sect1 id="likewise-open" status="review">
    <title>Likewise Open</title>

    <para><application>Likewise Open</application> vereinfacht die erforderliche Konfiguration, die notwendig ist, um einen Linux-Rechner gegenüber einer Active Directory-Domäne zu authentifizieren. Basierend auf <application>winbind</application> vereinfacht das Paket <application>likewise-open</application> den Aufwand, die Ubuntu-Authentifizierung in ein bestehendes Windows-Netzwerk einzubinden.</para>

    <sect2 id="likewise-open-install" status="review">
      <title>Installation</title>
    
      <para>Es gibt zwei Arten, Likewise Open zu nutzen. Das Befehlszeilenwerkzeug <application>likewise-open</application> und die <application>likewise-open-gui</application>. Dieser Abschnitt beschäftigt sich vor allem mit dem Befehlszeilenwerkzeug.</para>

      <para>Um das Software-Paket <application>likewise-open</application> zu installieren, öffnen Sie eine Befehlseingabe (Terminal) und geben Sie folgendes dort ein:</para>

<screen>
<command>sudo apt-get install likewise-open</command>
</screen>

      <para><application>Likewise Open 5.0</application> ist in Ubuntu 9.04 in der Software-Paketquelle <emphasis>Universe</emphasis> verfügbar. Da die Aktualisierung von <application>Likewise Open 4.1</application> momentan verlangt, dass das System die Domäne verlässt und wieder neu betritt, wurde für Version fünf ein eigenes Paket erstellt:</para>

      <para>Um <application>Likewise Open 5.0</application> zu installieren, geben Sie folgendes ein:</para>

<screen>
<command>sudo apt-get install likewise-open5</command>
</screen>

      <warning>
        <para>Wenn Sie likewise-open5 installieren und eine bestehende Installation von likewise-open (4.1) bereits existiert, wird diese ersetzt. Sie müssen der Domäne nach der Installation erneut beitreten.</para>
      </warning>

      <note>
        <para>Die Werkzeuge für die Befehlszeile und die GUI-Schnittstelle für likewise-open5 sind dieselben wie für Version 4.</para>
      </note>


    </sect2>
    <sect2 id="likewise-open-configuration" status="review">
      <title>Einer Domäne beitreten</title>
      
      <para>Die ausführbare Hauptdatei des Pakets <application>likewise-open</application> ist <filename>/usr/bin/domainjoin-cli</filename>, welche benutzt wird, um ihren Rechner der Domäne beitreten zu lassen. Bevor Sie einer Domäne betreten, stellen Sie sicher dass folgendes gewährleistet ist:</para>
    
      <itemizedlist>
        <listitem>
	  <para>Zugriff auf einen Active Directory-Benutzer, der berechtigt ist, der Domäne beizutreten.</para>
	</listitem>
	<listitem>
	  <para>Der <emphasis>vollständig qualifizierte Domänenname</emphasis> (Fully Qualified Domain Name, FQDN) der Domäne, welcher Sie beitreten möchten, muss bekannt sein. Falls Ihre AD-Domäne keiner gültigen Domäne wie z.B. <emphasis role="italic">beispiel.de</emphasis> entspricht, ist es sehr wahrscheinlich dass sie die Form <emphasis>domainname.local</emphasis> hat.</para>
	</listitem>
	<listitem>
	  <para>DNS für die Domäne ist richtig eingerichtet. In einer produktiven AD-Umgebung sollte dies der Fall sein. Korrektes Microsoft-DNS wird benötigt, damit der Workstation-Client ermitteln kann, dass die Active Directory-Domäne verfügbar ist.</para>
          <para>Wenn Sie keinen Windows-DNS-Server in Ihrem Netzwerk haben, finden Sie unter <xref linkend="likewise-open-ms-dns"/> weitere Informationen.</para>
          
	</listitem>
      </itemizedlist>
	
      <para>Um einer Domäne beizutreten, geben Sie in einer Befehlszeile folgendes ein:</para>

<screen>
<command>sudo domainjoin-cli join beispiel.de Administrator</command>
</screen>

      <note>
        <para>Ersetzen Sie <emphasis>beispiel.de</emphasis> mit Ihrem Domänennamen und <emphasis>Administrator</emphasis> mit dem entsprechenden Benutzernamen.</para>
      </note>

      <para>Sie werden danach nach dem Passwort des Benutzers gefragt. Wenn dann alles richtig abläuft, wird auf der Befehlszeile eine <emphasis>SUCCESS</emphasis>-Benachrichtigung ausgegeben.</para>

      <para>Nachdem Sie erfolgreich einen Ubuntu-Rechner in eine Active Directory-Domäne eingebunden haben, kann sich jeder gültiger AD-Benutzer authentifizieren. Um sich anzumelden, müssen Sie den Benutzer als »domain\username« angeben. Um sich beispielsweise über ssh an einen Server der verbundenen Domäne zu verbinden, geben Se ein:</para>

<screen>
<command>ssh 'example\steve'@hostname</command>
</screen>

      <note>
        <para>Beim Einrichten eines Desktops muss auch bei der grafischen Eingabe dem Benutzernamen ein <emphasis role="italic">domain\</emphasis> vorangestellt werden.</para>
      </note>

      <para>Um likewise-open eine Vorgabe-Domäne benutzen zu lassen, können Sie folgende Anweisung zu <filename>/etc/samba/lwiauthd.conf</filename> hinzufügen:</para>

<programlisting>
winbind use default domain = yes
</programlisting>

      <para>Starten Sie dann die <application>likewise-open</application>-Dienste neu:</para>

<screen>
<command>sudo /etc/init.d/likewise-open restart</command>
</screen>

      <note>
        <para>Ist Likewise-open einmal für eine <emphasis>Vorgabe-Domäne</emphasis> eingerichtet, dann ist die vorangestellte <emphasis role="italic">'domain\'</emphasis> nicht weiter notwendig; Benutzer können sich dann einfach mit Ihrem Benutzernamen anmelden.</para>
      </note>

      <para>Das Werkzeug <application>domainjoin-cli</application> kann auch genutzt werden, um eine Domäne zu verlassen. Dazu geben Sie auf der Befehlszeile folgendes ein:</para>

<screen>
<command>sudo domainjoin-cli leave</command>
</screen>

    </sect2>
    <sect2 id="likewise-open-utilities" status="review">
      <title>Andere Werkzeuge</title>
     
      <para>Das Paket <application>likewise-open</application> beinhaltet ein paar weitere Werkzeuge, die dabei nützlich sein können, Informationen über die Active Directory-Umgebung zu ermitteln. Diese Werkzeuge werden genutzt, um einen Rechner in eine Domäne einzubinden und sind mit denen gleich, die auch in den Paketen <application>samba-common</application> und <application>winbind</application> verfügbar sind:</para>

      <itemizedlist>
	<listitem>
	  <para><application>lwinet</application>: liefert Informationen über das Netzwerk und die Domäne.</para>
	</listitem>
	<listitem>
	  <para><application>lwimsg</application>: erlaubt eine Interaktion mit dem <application>likewise-winbindd</application>-Dienst.</para>
        </listitem>
	<listitem>
	  <para><application>lwiinfo</application>: zeigt Informationen über unterschiedliche Bestandteile der Domäne an.</para>
	</listitem>
      </itemizedlist>
	
      <para>In den Handbucheinträgen (Man Pages) der entsprechenden Werkzeuge finden sich weitere Informationen.</para>

      </sect2>
      <sect2 id="likewise-open-troubleshooting" status="review">
        <title>Troubleshooting</title>

        <itemizedlist>
          <listitem>  
            <para>Wenn der Client Probleme mit dem Beitreten zur Domäne hat, kontrollieren Sie, dass der Microsoft-DNS in <filename>/etc/resolv.conf</filename> aufgelistet ist. Zum Beispiel so:</para>

<programlisting>
nameserver 192.168.0.1
</programlisting>
          </listitem>
          <listitem>  
            <para>Weitere Informationen zum Beitritt von Domänen finden Sie, indem Sie die <emphasis>--loglevel verbose</emphasis>- oder <emphasis>--advanced</emphasis>-Option des Werkzeugs <application>domainjoin-cli</application> benutzen:</para>

<screen>
<command>sudo domainjoin-cli --loglevel verbose join beispiel.de Administrator</command>
</screen>
          </listitem>
          <listitem>
            <para>Wenn ein Active Directory-Benutzer Probleme mit dem Einloggen hat, überprüfen Sie <filename>/var/log/auth.log</filename> für Einzelheiten.</para>
          </listitem>
          <listitem>
            <para>Wenn eine Ubuntu-Desktop-Workstation einer Domäne beitreten möchte, müssen Sie eventuell <filename>/etc/nsswitch.conf</filename> bearbeiten, falls Ihre AD-Domäne die <emphasis role="italic">.local</emphasis>-Syntax benutzt. Um der Domäne beitreten zu können, muss der Eintrag <emphasis>"mdns4"</emphasis> der Option <emphasis>hosts</emphasis> entfernt werden, zum Beispiel so:</para>

<programlisting>
hosts: files mdns4_minimal [NOTFOUND=return] dns mdns4
</programlisting>

            <para>Ändern Sie obiges zu:</para>

<programlisting>
hosts: files dns [NOTFOUND=return]
</programlisting>

            <para>Starten Sie dann mit folgendem Befehl das Netzwerk neu:</para>

<screen>
<command>sudo /etc/init.d/networking restart</command>
</screen>
        
            <para>Sie sollten nun dazu in der Lage sein, der Active Directory-Domäne beizutreten.</para>
          </listitem>
        </itemizedlist>

      </sect2>
      <sect2 id="likewise-open-ms-dns" status="review">
        <title>Microsoft-DNS</title>
      
        <para>Die folgenden Anweisungen sind dafür konzipiert, DNS auf einem Active Directory-Domänen-Kontroller unter Windows Server 2003 zu installieren, aber die Anweisungen sollten bei anderen Versionen ähnlich sein:</para>

        <itemizedlist>
            <listitem>
              <para>Klicken Sie auf menuchoice&gt;<guimenuitem>Start</guimenuitem><guimenuitem>Verwaltungsprogramme</guimenuitem><guimenuitem>Ihren Server verwalten</guimenuitem></para>
             <orderedlist>
               <listitem><para>Klicken Sie auf Hinzufügen oder Entfernen Rolle</para></listitem>
               <listitem><para>Klicken Sie auf Weiter</para></listitem>
               <listitem><para>Wählen Sie »DNS Server«</para></listitem>
               <listitem><para>Klicken Sie auf Weiter</para></listitem>
               <listitem><para>Weiter</para></listitem>
               <listitem><para>Wählen Sie »Forward-Lookupzone erstellen« falls es nicht bereits ausgewählt ist.</para></listitem>
               <listitem><para>Klicken Sie auf Weiter</para></listitem>
               <listitem><para>Stellen Sie sicher, dass »This server maintains the zone« ausgewählt ist und klicken Sie auf Weiter.</para></listitem>
               <listitem><para>Geben Sie Ihren Domänen-Namen ein und klicken Sie auf Weiter</para></listitem>
               <listitem><para>Klicken Sie neben »Allow only secure dynamic updates«</para></listitem>
               <listitem><para>Klicken Sie neben »Allow only secure dynamic updates«</para></listitem>
               <listitem>
                 <para>Geben Sie die IP für den DNS-Server um Anfragen weiterzuleiten ein, oder wählen Sie »No, it should not forward queries« und klicken Sie auf Weiter.</para>
               </listitem>
               <listitem><para>Klicken Sie auf Schließen.</para></listitem>
               <listitem><para>Klicken Sie auf Schließen.</para></listitem>
              </orderedlist>
              <para>DNS ist jetzt installiert und kann zukünftig mit dem <application>Microsoft Management Console</application> DNS Snap-in eingerichtet werden.</para>
            </listitem>
            <listitem>
              <para>Anschließend richten Sie den Server so ein, dass er sich selbst für DNS-Anfragen benutzt: <orderedlist>
                  <listitem><para>Klicken Sie auf Start</para></listitem>
                  <listitem><para>Systemsteuerung</para></listitem>
                  <listitem><para>Netzwerkverbindungen</para></listitem>
                  <listitem><para>Rechtsklick auf »Lokale Netzwerkverbindung«</para></listitem>
                  <listitem><para>Klicken Sie auf Eigenschaften</para></listitem>
                  <listitem><para>Klicken Sie doppelt auf »Internetprotokoll (TCP/IP)«</para></listitem>
                  <listitem><para>Geben Sie die IP-Adresse des Servers als »Bervorzugter DNS-Server« ein</para></listitem>
                  <listitem><para>Klicken Sie auf OK</para></listitem>
                  <listitem><para>Klicken Sie erneut auf OK, um die Einstellungen zu speichern</para></listitem>
                </orderedlist></para>
            </listitem>
          </itemizedlist>
      </sect2>
      <sect2 id="likewise-open-references" status="review">
	<title>Referenzen</title>
       
	<para>Weitere Informationen finden Sie auf der <ulink url="http://www.likewisesoftware.com/">Likewise</ulink> Homepage.</para>	

	<para>Weitere Einstellungsmöglichkeiten von <application>domainjoin-cli</application> finden Sie auf der man Page: <command>man domainjoin-cli</command>.</para>	

      </sect2>
  </sect1>
</chapter>
