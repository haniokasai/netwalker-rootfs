<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../libs/global.ent">
<!-- NAMES --><!ENTITY canonical-name "Canonical Ltd.">
<!ENTITY project-name "Ubuntu Documentation Project">
<!ENTITY ubuntu "<phrase>Ubuntu</phrase>">
<!ENTITY sg-title "Server Guide">
<!-- VERSIONS --><!ENTITY distro-version "Jaunty Jackalope">
<!ENTITY distro-rev "9.04">
<!ENTITY distro-release-date "April 2009">
<!ENTITY distro-short-codename "jaunty">
<!ENTITY distro-apt-cd-name "Ubuntu 9.04_Jaunty_Jackalope">
<!ENTITY linux-kernel-version "2.6.27">
<!ENTITY gcc-version "4.3.1">
<!ENTITY glibc-version "2.8">
<!ENTITY python-version "2.5">
<!ENTITY glossary SYSTEM "../common/C/glossary.xml">
<!-- LEGAL URLs --><!ENTITY legalnotice SYSTEM "../libs/C/legalnotice.xml">
<!ENTITY gpl-url '<ulink url="http://www.gnu.org/licenses/gpl.html">GNU General Public License</ulink>'>
<!ENTITY cc "http://creativecommons.org/">
<!ENTITY cc-attrib '<ulink url="http://creativecommons.org/licenses/by-sa/2.5/">Attribution-ShareAlike 2.5</ulink>'>
<!ENTITY cc-fulldeed-url "http://creativecommons.org/licenses/by-sa/2.5/legalcode/">
<!ENTITY fdl-url '<ulink url="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</ulink>'>
<!ENTITY cc-disclaimer-url "http://creativecommons.org/licenses/disclaimer-popup?lang=en">
<!-- CANONICAL URL RESOURCES --><!ENTITY canonical-url "http://www.canonical.com">
<!-- OTHER UBUNTU RELATED RESOURCES --><!ENTITY upstart-url "http://upstart.ubuntu.com">
<!-- UBUNTU IRC INFORMATION --><!ENTITY irc-network "Freenode">
<!ENTITY irc-server "irc.ubuntu.com">
<!ENTITY ubuntu-irc "irc.ubuntu.com channel #ubuntu">
<!ENTITY kubuntu-irc "irc.ubuntu.com channel #kubuntu">
<!ENTITY xubuntu-irc "irc.ubuntu.com channel #xubuntu">
<!ENTITY edubuntu-irc "irc.ubuntu.com channel #edubuntu">
<!-- UBUNTU URL RESOURCES --><!ENTITY ubuntu-packages "http://packages.ubuntu.com">
<!ENTITY ubuntu-web "http://www.ubuntu.com">
<!ENTITY ubuntu-main "http://www.ubuntu.com">
<!ENTITY ubuntu-download "http://www.ubuntu.com/download">
<!ENTITY ubuntu-forums "http://www.ubuntu.com/community/forums">
<!ENTITY ubuntu-components "http://www.ubuntu.com/ubuntu/components">
<!ENTITY ubuntu-lists "http://lists.ubuntu.com">
<!ENTITY ubuntu-wiki "http://wiki.ubuntu.com">
<!ENTITY ubuntu-bugzilla "https://launchpad.net/distros/ubuntu/+bugs">
<!ENTITY ubuntu-doc-bugs "https://launchpad.net/products/ubuntu-doc/+bugs">
<!ENTITY ubuntu-support "http://www.ubuntu.com/support">
<!ENTITY ubuntu-paidsupport "http://www.ubuntu.com/support/paid">
<!ENTITY ubuntu-freesupport "http://www.ubuntu.com/support/free">
<!ENTITY ubuntu-comments "http://www.ubuntuforums.org/showthread.php?p=21787">
<!ENTITY ubuntu-documentation "http://help.ubuntu.com">
<!ENTITY ubuntu-documentation-repos "https://docteam.ubuntu.com/repos/trunk">
<!ENTITY ubuntu-doc-team "https://wiki.ubuntu.com/DocumentationTeam">
<!ENTITY ubuntu-doc-list "http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc">
<!ENTITY ubuntu-shipit "http://shipit.ubuntu.com">
<!ENTITY ubuntu-launchpad "https://launchpad.ubuntu.com">
<!ENTITY ubuntu-rosetta "https://launchpad.ubuntu.com/rosetta">
<!ENTITY ubuntu-planet "http://planet.ubuntu.com">
<!ENTITY ubuntu-philosophy "http://www.ubuntu.com/ubuntu/philosophy">
<!ENTITY ubuntu-participate "http://www.ubuntu.com/community/participate/">
<!ENTITY ubuntu-marketplace "http://www.ubuntu.com/support/marketplace">
<!ENTITY ubuntu-hwdb "http://hwdb.ubuntu.com">
<!-- UBUNTU WIKI RESOURCES --><!ENTITY wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY restricted-formats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-RestrictedFormats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-XChatHowto "https://help.ubuntu.com/community/XChatHowto">
<!ENTITY wiki-RootSudo "https://help.ubuntu.com/community/RootSudo">
<!ENTITY wiki-HowToGetHelp "https://help.ubuntu.com/community/HowToGetHelp">
<!ENTITY transcode "https://help.ubuntu.com/community/DVDRippingandEncoding">
<!ENTITY wiki-Wine "https://help.ubuntu.com/community/Wine">
<!ENTITY wiki-Cedega "https://help.ubuntu.com/community/Cedega">
<!ENTITY wiki-Nano "https://help.ubuntu.com/community/NanoHowto">
<!ENTITY wiki-locoteams "https://wiki.ubuntu.com/LoCoTeamList">
<!ENTITY wiki-BasicCommands "https://help.ubuntu.com/community/BasicCommands">
<!ENTITY wiki-filepermissions "https://help.ubuntu.com/community/FilePermissions">
<!-- KUBUNTU URL RESOURCES --><!ENTITY kubuntu-web "http://www.kubuntu.org">
<!ENTITY kubuntu-main "http://www.kubuntu.org">
<!ENTITY kubuntu-download "http://releases.ubuntu.com/kubuntu/">
<!ENTITY kubuntu-packages "http://packages.ubuntu.com/edgy/">
<!ENTITY kubuntu-cdpackages-nodefault "http://people.ubuntu.com/~cjwatson/seeds/kubuntu-edgy/ship">
<!ENTITY kubuntu-lists "http://lists.ubuntu.com/archives/kubuntu-users/">
<!ENTITY kubuntu-lists-users "http://lists.ubuntu.com/mailman/listinfo/kubuntu-users/">
<!ENTITY kubuntu-lists-devel "http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel/">
<!ENTITY kubuntu-mirrors "http://distrowatch.com/kubuntu">
<!ENTITY kubuntu-forums "http://kubuntuforums.net">
<!ENTITY kubuntu-wiki "https://wiki.kubuntu.org">
<!ENTITY kubuntu-documentation-site "http://www.kubuntu.org/documentation.php">
<!ENTITY kubuntu-wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY kubuntu-support "http://www.kubuntu.org/support.php">
<!-- XUBUNTU URL RESOURCES --><!ENTITY xubuntu-web "http://www.xubuntu.org">
<!ENTITY xubuntu-main "http://www.xubuntu.org">
<!ENTITY xubuntu-web-help "http://www.xubuntu.org/help">
<!-- DEBIAN RESOURCES --><!ENTITY debian-apt "http://www.debian.org/doc/user-manuals#apt-howto">
<!-- EXTERNAL URL RESOURCES --><!ENTITY linmodem "http://www.linmodems.org/">
<!ENTITY gnome "http://www.gnome.org/">
<!ENTITY linuxorg "http://www.linux.org/">
<!ENTITY ooo "http://www.openoffice.org/">
<!ENTITY kde "http://www.kde.org/">
<!ENTITY lugww "http://lugww.counter.li.org/">
<!ENTITY ubuntu-watch "http://distrowatch.com/ubuntu/">
<!ENTITY realplayer-download "http://www.real.com/linux/">
<!ENTITY nvu-download "http://www.nvu.com/download.html">
<!ENTITY sunjava-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY xorg "http://www.x.org">
<!ENTITY dyndns "http://www.dyndns.org">
<!ENTITY shoutcast "http://www.shoutcast.com/">
<!ENTITY freedomtoaster "http://www.freedomtoaster.org/">
<!ENTITY xfce "http://www.xfce.org/">
<!-- ubuntu-screenshots TODO --><!ENTITY kubuntu-screenshots "http://shots.osdir.com/">
<!ENTITY mozilla "http://www.mozilla.org/">
<!ENTITY mozilla-firefox "http://www.mozilla.org/products/firefox/">
<!ENTITY gnu "http://www.gnu.org/">
<!ENTITY gnu-philosophy "http://www.gnu.org/philosophy/">
<!ENTITY win4lin "http://www.win4lin.com">
<!ENTITY codeweavers "http://www.codeweavers.com">
<!ENTITY kernel "http://www.kernel.org">
<!ENTITY google "http://www.google.com">
<!ENTITY kdelook " http://www.kde-look.org">
<!ENTITY lulu-store "http://www.lulu.com/ubuntu-doc">
<!-- this entity controls the url for addons--><!ENTITY java-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY skype-deb "skype_1.2.0.17-1_i386.deb">
<!ENTITY skype-download "http://www.skype.com/go/getskype-linux-deb">
<!ENTITY scanmodem-gz "scanModem.gz">
<!ENTITY scanmodem-url "http://linmodems.technion.ac.il/packages/scanModem.gz">
<!ENTITY ext2fs-url "http://www.fs-driver.org/index.html">
<!ENTITY mvb-tar "mvb_1.6.tgz">
<!ENTITY mvb-url "http://www.xscd.com/pub/mvb/&mvb-tar;">
<!-- TLDP --><!ENTITY ldp-pre-install-check "http://tldp.org/HOWTO/Pre-Installation-Checklist/">
<!-- LANGUAGES (sorted by two letter code)--><!ENTITY Afar "aa">
<!ENTITY Abkhazian "ab">
<!ENTITY Afrikaans "af">
<!ENTITY Amharic "af">
<!ENTITY Arabic "ar">
<!ENTITY Assamese "as">
<!ENTITY Aymara "ay">
<!ENTITY Azerbaijani "az">
<!ENTITY Bashkir "ba">
<!ENTITY Byelorussian "be">
<!ENTITY Bulgarian "bg">
<!ENTITY Bihari "bh">
<!ENTITY Bislama "bi">
<!ENTITY Bangla "bn">
<!ENTITY Bengali "bn">
<!ENTITY Tibetan "bo">
<!ENTITY Breton "br">
<!ENTITY Catalan "ca">
<!ENTITY Corsican "co">
<!ENTITY Czech "cs">
<!ENTITY Welsh "cy">
<!ENTITY Danish "da">
<!ENTITY German "de">
<!ENTITY Bhutani "dz">
<!ENTITY Greek "el">
<!-- <!ENTITY EnglishAmerican 'en'> --><!ENTITY EnglishAmerican "C">
<!ENTITY Esperanto "eo">
<!ENTITY Spanish "es">
<!ENTITY Estonian "et">
<!ENTITY Basque "eu">
<!ENTITY Persian "fa">
<!ENTITY Finnish "fi">
<!ENTITY Fiji "fj">
<!ENTITY Faeroese "fo">
<!ENTITY French "fr">
<!ENTITY Frisian "fy">
<!ENTITY Irish "ga">
<!ENTITY Gaelic "gd">
<!ENTITY ScotsGaelic "gd">
<!ENTITY Galician "gl">
<!ENTITY Guarani "gn">
<!ENTITY Gujarati "gu">
<!ENTITY Hausa "ha">
<!ENTITY Hindi "hi">
<!ENTITY Croatian "hr">
<!ENTITY Hungarian "hu">
<!ENTITY Armenian "hy">
<!ENTITY Interlingua "ia">
<!ENTITY Interlingue "ie">
<!ENTITY Inupiak "ik">
<!ENTITY Indonesian "in">
<!ENTITY Icelandic "is">
<!ENTITY Italian "it">
<!ENTITY Hebrew "iw">
<!ENTITY Japanese "ja">
<!ENTITY Yiddish "ji">
<!ENTITY Javanese "jw">
<!ENTITY Georgian "ka">
<!ENTITY Kazakh "kk">
<!ENTITY Greenlandic "kl">
<!ENTITY Cambodian "km">
<!ENTITY Kannada "kn">
<!ENTITY Korean "ko">
<!ENTITY Kashmiri "ks">
<!ENTITY Kurdish "ku">
<!ENTITY Kirghiz "ky">
<!ENTITY Latin "la">
<!ENTITY Lingala "ln">
<!ENTITY Laothian "lo">
<!ENTITY Lithuanian "lt">
<!ENTITY Latvian "lv">
<!ENTITY Lettish "lv">
<!ENTITY Malagasy "mg">
<!ENTITY Maori "mi">
<!ENTITY Macedonian "mk">
<!ENTITY Malayalam "ml">
<!ENTITY Mongolian "mn">
<!ENTITY Moldavian "mo">
<!ENTITY Marathi "mr">
<!ENTITY Malay "ms">
<!ENTITY Maltese "mt">
<!ENTITY Burmese "my">
<!ENTITY Nauru "na">
<!ENTITY Nepali "ne">
<!ENTITY Dutch "nl">
<!ENTITY Norwegian "no">
<!ENTITY Occitan "oc">
<!ENTITY Afan "om">
<!ENTITY Oromo "om">
<!ENTITY Oriya "or">
<!ENTITY Punjabi "pa">
<!ENTITY Polish "pl">
<!ENTITY Pushto "ps">
<!ENTITY Pashto "ps">
<!ENTITY Portuguese "pt">
<!ENTITY Quechua "qu">
<!ENTITY Rhaeto-Romance "rm">
<!ENTITY Kirundi "rn">
<!ENTITY Romanian "ro">
<!ENTITY Russian "ru">
<!ENTITY Kinyarwanda "rw">
<!ENTITY Sanskrit "sa">
<!ENTITY Sindhi "sd">
<!ENTITY Sangro "sg">
<!ENTITY Serbo-Croatian "sh">
<!ENTITY Singhalese "si">
<!ENTITY Slovak "sk">
<!ENTITY Slovenian "sl">
<!ENTITY Samoan "sm">
<!ENTITY Shona "sn">
<!ENTITY Somali "so">
<!ENTITY Albanian "sq">
<!ENTITY Serbian "sr">
<!ENTITY Siswati "ss">
<!ENTITY Sesotho "st">
<!ENTITY Sudanese "su">
<!ENTITY Swedish "sv">
<!ENTITY Swahili "sw">
<!ENTITY Tamil "ta">
<!ENTITY Tegulu "te">
<!ENTITY Tajik "tg">
<!ENTITY Thai "th">
<!ENTITY Tigrinya "ti">
<!ENTITY Turkmen "tk">
<!ENTITY Tagalog "tl">
<!ENTITY Setswana "tn">
<!ENTITY Tonga "to">
<!ENTITY Turkish "tr">
<!ENTITY Tsonga "ts">
<!ENTITY Tatar "tt">
<!ENTITY Twi "tw">
<!ENTITY Ukrainian "uk">
<!ENTITY Urdu "ur">
<!ENTITY Uzbek "uz">
<!ENTITY Vietnamese "vi">
<!ENTITY Volapuk "vo">
<!ENTITY Wolof "wo">
<!ENTITY Xhosa "xh">
<!ENTITY Yoruba "yo">
<!ENTITY Chinese "zh">
<!ENTITY Zulu "zu">
<!ENTITY % gnome-menus-C SYSTEM "../../libs/gnome-menus-C.ent">
<!-- MENUS --><!-- Please keep entries alphabetical, it makes them much easier to find & use --><!ENTITY about-me "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>About-me</guimenuitem></menuchoice>">
<!ENTITY accessories "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem></menuchoice>">
<!ENTITY acro-read "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Acrobat Reader</guimenuitem></menuchoice>">
<!ENTITY administration "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem></menuchoice>">
<!ENTITY aisleriot "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>AisleRiot Solitaire</guimenuitem></menuchoice>">
<!ENTITY amule "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY anjuta-ide "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Anjuta IDE</guimenuitem></menuchoice>">
<!ENTITY archive-man "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Archive Manager</guimenuitem></menuchoice>">
<!ENTITY assistive-technology-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Assistive Technology Support</guimenuitem></menuchoice>">
<!ENTITY audacity "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Audacity</guimenuitem></menuchoice>">
<!ENTITY azureus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Azureus</guimenuitem></menuchoice>">
<!ENTITY baobab "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Disk Usage Analyzer</guimenuitem></menuchoice>">
<!ENTITY bittorrent "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Bittorrent</guimenuitem></menuchoice>">
<!ENTITY blender3d "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Blender 3d modeller</guimenuitem></menuchoice>">
<!ENTITY bluefish "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Bluefish Editor</guimenuitem></menuchoice>">
<!ENTITY boot "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Boot</guimenuitem></menuchoice>">
<!ENTITY brasero "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Brasero Disc Burning</guimenuitem></menuchoice>">
<!ENTITY bum "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Boot-up Manager</guimenuitem></menuchoice>">
<!ENTITY bzrgtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Olive bazaar Branch Manager</guimenuitem></menuchoice>">
<!ENTITY calculator "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Calculator</guimenuitem></menuchoice>">
<!ENTITY character-map "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Character Map</guimenuitem></menuchoice>">
<!ENTITY compizconfig "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>CompizConfig Settings Manager</guimenuitem></menuchoice>">
<!ENTITY computer "<menuchoice><guimenu>Places</guimenu><guimenuitem>Computer</guimenuitem></menuchoice>">
<!ENTITY connecttoserver "<menuchoice><guimenu>Places</guimenu><guimenuitem>Connect to Server...</guimenuitem></menuchoice>">
<!ENTITY cowbell "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Cowbell Music Organizer</guimenuitem>	</menuchoice>">
<!ENTITY chromium "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Chromium</guisubmenu></menuchoice>">
<!ENTITY computer-janitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guisubmenu>System Janitor</guisubmenu></menuchoice>">
<!ENTITY desktop-background "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Desktop Background</guimenuitem></menuchoice>">
<!ENTITY desktop-effects "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Appearance</guimenuitem><guimenuitem>Visual Effects</guimenuitem></menuchoice>">
<!ENTITY desktop-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem></menuchoice>">
<!ENTITY devhelp "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Devhelp</guimenuitem></menuchoice>">
<!ENTITY device-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Hardware Information</guimenuitem></menuchoice>">
<!ENTITY dictionary "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Dictionary</guimenuitem></menuchoice>">
<!ENTITY disks "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Disks</guimenuitem></menuchoice>">
<!ENTITY downloader-x "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Downloader for X</guimenuitem></menuchoice>">
<!ENTITY eclipse-ide "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Eclipse IDE</guimenuitem></menuchoice>">
<!ENTITY ekiga "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Internet</guimenuitem><guimenuitem>Ekiga Softphone</guimenuitem></menuchoice>">
<!ENTITY efax-gtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Office</guisubmenu><guimenuitem>Efax-gtk</guimenuitem></menuchoice>">
<!ENTITY etherape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Etherape</guimenuitem></menuchoice>">
<!ENTITY evolution-mail "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Evolution Mail</guimenuitem></menuchoice>">
<!ENTITY file-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>File Management</guimenuitem></menuchoice>">
<!ENTITY firefox "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Internet</guisubmenu><guimenuitem>Firefox Web Browser</guimenuitem></menuchoice>">
<!ENTITY firestarter-firewall-tool "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Firestarter</guimenuitem></menuchoice>">
<!ENTITY five-or-more "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Five or More</guimenuitem></menuchoice>">
<!ENTITY font "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Font</guimenuitem></menuchoice>">
<!ENTITY f-spot "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>F-Spot Photo Manager</guimenuitem></menuchoice>">
<!ENTITY frozen-bubble "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Frozen Bubble</guisubmenu></menuchoice> to play <application>Frozen Bubble</application>">
<!ENTITY gambas "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Gambas</guimenuitem></menuchoice>">
<!ENTITY games "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Games</guimenuitem></menuchoice>">
<!ENTITY gdesklets "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>gDesklets</guimenuitem></menuchoice>">
<!ENTITY gftp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>gFTP</guimenuitem></menuchoice>">
<!ENTITY gimp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>GIMP Image Editor</guimenuitem></menuchoice>">
<!ENTITY gnome-app-install "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Add/Remove...</guimenuitem></menuchoice>">
<!ENTITY gnome-config-editor "<screen><command>gconf-editor</command></screen>">
<!ENTITY gnome-sound-recorder "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Sound Recorder</guimenuitem></menuchoice>">
<!ENTITY gparted "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration </guisubmenu><guimenuitem>Gnome Partition Editor</guimenuitem></menuchoice>">
<!ENTITY graphics "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem></menuchoice>">
<!ENTITY gthumb "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>gThumb Image Viewer</guimenuitem></menuchoice>">
<!ENTITY gtkpod "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>gtkpod</guimenuitem></menuchoice>">
<!ENTITY gnucash "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>GnuCash Finance Management</guimenuitem></menuchoice>">
<!ENTITY gxine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>gxine</guimenuitem></menuchoice>">
<!ENTITY home-folder "<menuchoice><guimenu>Places</guimenu><guimenuitem>Home Folder</guimenuitem></menuchoice>">
<!ENTITY homebank "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>HomeBank</guimenuitem></menuchoice>">
<!ENTITY hubackup "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Backup</guimenuitem></menuchoice>">
<!ENTITY hurestore "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Restore</guimenuitem></menuchoice>">
<!ENTITY inkscape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Inkscape SVG Vector Illustrator</guimenuitem></menuchoice>">
<!ENTITY internet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem></menuchoice>">
<!ENTITY kdevelop "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>KDevelop</guimenuitem></menuchoice>">
<!ENTITY keyboard "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard</guimenuitem></menuchoice>">
<!ENTITY keyboard-shortcuts "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard Shortcuts</guimenuitem></menuchoice>">
<!ENTITY language-support "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Language Support</guimenuitem></menuchoice>">
<!ENTITY liferea "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Liferea Feed Reader</guimenuitem></menuchoice>">
<!ENTITY limewire "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>LimeWire</guimenuitem></menuchoice>">
<!ENTITY lockscreen "<menuchoice><guimenu>System</guimenu><guimenuitem>Lock Screen</guimenuitem></menuchoice>">
<!ENTITY login-screen-setup "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Login Window</guimenuitem></menuchoice>">
<!ENTITY mahjongg "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Mahjongg</guimenuitem></menuchoice>">
<!ENTITY menu-editor "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>Applications Menu Editor</guimenuitem></menuchoice>">
<!ENTITY menus-and-toolbars "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Menus &amp; Toolbars</guimenuitem></menuchoice>">
<!ENTITY monodevelop "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDevelop</guimenuitem></menuchoice>">
<!ENTITY monodoc "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDoc</guimenuitem></menuchoice>">
<!ENTITY mouse "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Mouse</guimenuitem></menuchoice>">
<!ENTITY mtink "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>mtink</guimenuitem></menuchoice>">
<!ENTITY music "<menuchoice><guimenu>Places</guimenu><guimenuitem>Music</guimenuitem></menuchoice>">
<!ENTITY multimedia-systems-selector "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Multimedia Systems Selector</guimenuitem></menuchoice>">
<!ENTITY ndisgtk "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Windows Wireless Drivers</guimenuitem></menuchoice>">
<!ENTITY network-proxy "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Network Proxy</guimenuitem></menuchoice>">
<!ENTITY network-tools "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network Tools</guimenuitem></menuchoice>">
<!ENTITY networking "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY network-servers "<menuchoice><guimenu>Places</guimenu><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY neverball "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverball</guisubmenu></menuchoice>">
<!ENTITY neverputt "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverputt</guisubmenu></menuchoice>">
<!ENTITY nexuiz "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Nexuiz</guisubmenu></menuchoice>">
<!ENTITY open-office "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem></menuchoice>">
<!ENTITY openoffice-base "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Database</guimenuitem></menuchoice>">
<!ENTITY openoffice-draw "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>OpenOffice.org Draw</guimenuitem></menuchoice>">
<!ENTITY openoffice-presentation "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Presentation</guimenuitem></menuchoice>">
<!ENTITY openoffice-spreadsheet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Spreadsheet</guimenuitem></menuchoice>">
<!ENTITY openoffice-writer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Word Processor</guimenuitem></menuchoice>">
<!ENTITY palmos-devices "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>PalmOS Devices</guimenuitem></menuchoice>">
<!ENTITY pan "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pan Newsreader</guimenuitem></menuchoice>">
<!ENTITY photoprint "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>PhotoPrint</guimenuitem></menuchoice>">
<!ENTITY pidgin "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pidgin Internet Messenger</guimenuitem></menuchoice>">
<!ENTITY power-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Power Management</guimenuitem></menuchoice>">
<!ENTITY ppracer "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Planet Penguin Racer</guisubmenu></menuchoice>">
<!ENTITY preferences "<menuchoice><guimenu>System</guimenu><guisubmenu>Preferences</guisubmenu></menuchoice>">
<!ENTITY preferred-applications "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Preferred Applications</guimenuitem></menuchoice>">
<!ENTITY print "<menuchoice><guimenu>File</guimenu><guimenuitem>Print</guimenuitem></menuchoice>">
<!ENTITY printing "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Printing</guimenuitem></menuchoice>">
<!ENTITY qtparted "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem><guimenuitem>QTParted</guimenuitem></menuchoice>">
<!ENTITY remote-desktop "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Remote Desktop</guimenuitem></menuchoice>">
<!ENTITY removable-drives-and-media "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Removable Drives and Media</guimenuitem></menuchoice>">
<!ENTITY realplayer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>RealPlayer 11</guimenuitem></menuchoice>">
<!ENTITY restricted-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Hardware Drivers</guimenuitem></menuchoice>">
<!ENTITY rhythmbox "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Rhythmbox Music Player</guimenuitem></menuchoice>">
<!ENTITY route-planner "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY scorched3d "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guimenuitem>Scorched 3D</guimenuitem></menuchoice>">
<!ENTITY screen-resolution "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screen Resolution</guimenuitem></menuchoice>">
<!ENTITY screensaver "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screensaver</guimenuitem></menuchoice>">
<!ENTITY scribus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>Scribus</guimenuitem></menuchoice>">
<!ENTITY serpentine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Serpentine Audio CD Creator</guimenuitem></menuchoice>">
<!ENTITY services "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Services</guimenuitem></menuchoice>">
<!ENTITY sessions "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sessions</guimenuitem></menuchoice>">
<!ENTITY shared-folders "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Shared Folders</guimenuitem></menuchoice>">
<!ENTITY skype "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Skype</guimenuitem></menuchoice>">
<!ENTITY software-properties "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY software-sources "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY sound "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sound</guimenuitem></menuchoice>">
<!ENTITY soundandvideo "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem></menuchoice>">
<!ENTITY soundjuicer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Audio CD Extractor</guimenuitem></menuchoice>">
<!ENTITY supertux "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>SuperTux</guisubmenu></menuchoice>">
<!ENTITY shutdown "<menuchoice><guimenu>System</guimenu><guimenuitem>Shut Down...</guimenuitem></menuchoice>">
<!ENTITY synaptic "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Synaptic Package Manager</guimenuitem></menuchoice>">
<!ENTITY system-monitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>System Monitor</guimenuitem></menuchoice>">
<!ENTITY systemtools "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem></menuchoice>">
<!ENTITY terminal "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Terminal</guimenuitem></menuchoice>">
<!ENTITY text-editor "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Text Editor</guimenuitem></menuchoice>">
<!ENTITY theme "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Theme</guimenuitem></menuchoice>">
<!ENTITY thunderbird "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Mozilla Thunderbird Mail/News</guimenuitem></menuchoice>">
<!ENTITY time-date "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Time and Date</guimenuitem></menuchoice>">
<!ENTITY totem "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Movie Player</guimenuitem></menuchoice>">
<!ENTITY touchpad "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Touchpad</guimenuitem></menuchoice>">
<!ENTITY tremulous "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Tremulous</guisubmenu></menuchoice>">
<!ENTITY ubuntu-update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Ubuntu Update Manager</guimenuitem></menuchoice>">
<!ENTITY update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Update Manager</guimenuitem></menuchoice>">
<!ENTITY users "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY users-groups "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY windows "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Windows</guimenuitem></menuchoice>">
<!ENTITY wireshark "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Wireshark</guimenuitem></menuchoice>">
<!ENTITY xchat-gnome "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Xchat-GNOME IRC Chat</guimenuitem></menuchoice>">
<!ENTITY xine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>xine</guimenuitem></menuchoice>">
<!ENTITY xmms "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>XMMS</guimenuitem></menuchoice>">
<!ENTITY xsane "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>XSane Image Scanner</guimenuitem></menuchoice>">
<!ENTITY % xinclude SYSTEM "../../libs/xinclude.mod">
<!ELEMENT xi:include (xi:fallback)?>
<!ATTLIST xi:include xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ATTLIST xi:include href CDATA #REQUIRED>
<!ATTLIST xi:include parse (xml | text) "xml">
<!ATTLIST xi:include xpointer CDATA #IMPLIED>
<!ATTLIST xi:include encoding CDATA #IMPLIED>
<!ATTLIST xi:include accept CDATA #IMPLIED>
<!ATTLIST xi:include accept-charset CDATA #IMPLIED>
<!ATTLIST xi:include accept-language CDATA #IMPLIED>
<!ELEMENT xi:fallback ANY>
<!ATTLIST xi:fallback xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ENTITY % local.preface.class "| xi:include">
<!ENTITY % local.part.class "| xi:include">
<!ENTITY % local.chapter.class "| xi:include">
<!ENTITY % local.divcomponent.mix "| xi:include">
<!ENTITY % local.para.char.mix "| xi:include">
<!ENTITY % local.info.class "| xi:include">
<!ENTITY % local.common.attrib "xmlns:xi            CDATA       #FIXED       'http://www.w3.org/2001/XInclude'">
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="security" status="review">
	<title>Sicherheit</title>
	<para>Bei der Installation, Verwendung und Einsatz eines jeden Rechnersystems sollte immer an die Sicherheit gedacht werden. Obwohl eine frische Ubuntu-Installation relativ sicher sofort im Internet eingesetzt werden kann, ist es wichtig, ein ausgewogenes Verständnis von der Sicherheitslage Ihres Systems (die natürlich abhängig von der Verwendung ist) zu haben.</para>
	<para>Dieser Abschnitt schneidet sicherheitsrelevante Themen an, soweit sie Ubuntu 9.04 Server Edition betreffen, und zeigt einfache Maßnahmen zum Schutz Ihres Servers und Netzwerks vor potenziellen Bedrohungen auf.</para>
  <sect1 id="user-management" status="review">
	<title>Benutzerverwaltung</title>
	<para>Die Benutzerverwaltung ist ein kritischer Teil der Pflege eines sicheren Systems. Ineffektive Benutzer- und Rechteverwaltung führt oft dazu, dass Systeme kompromittiert werden. Deshalb ist es wichtig, dass Sie verstehen, wie Sie Ihren Server durch einfache und effektive Benutzerkontenverwaltungsmethoden schützen können.</para>
  <sect2 id="where-is-root" status="review">
	<title>Wo ist root?</title>
	<para>Die Ubuntu-Entwickler haben die Gewissensentscheidung getroffen, das administrative root-Benutzerkonto standardmäßig in allen Ubuntu-Installationen zu sperren. Dies bedeutet nicht, dass das root-Benutzerkonto gelöscht wurde oder dass nicht mehr darauf zugegriffen werden kann. Es wurde ihm lediglich ein Passwort gegeben, das mit keinem möglichen verschlüsselten Wert zusammenpasst. Deshalb kann man sich mit diesem Konto nicht selbstständig einloggen.</para>
	<para>Stattdessen sind die Benutzer dazu aufgefordert, ein Werkzeug namens <application>sudo</application> zur Ausführung von Systemverwaltungsaufgaben zu benutzen. <application>Sudo</application> erlaubt einer autorisierten Person, ihre Privilegien temporär mittels ihres eigenen Passwortes zu erhöhen. Man muss also nicht das zum root-Konto gehörende Passwort wissen. Diese einfache und effektive Methodik liefert Verantwortlichkeit für alle Benutzertätigkeiten und gibt dem Administrator detaillierte Kontrolle darüber, was ein Benutzer mit oben genannten Privilegien tun kann.</para>
		<itemizedlist>
		<listitem>
		<para>Falls Sie aus bestimmten Gründen das root-Benutzerkonto aktivieren möchten, geben Sie diesem einfach ein Passwort:</para>
<screen>
<command>sudo passwd</command>
</screen>
		<para>Sudo wird Ihr Passwort abfragen und Sie dann nach einem neuen Passwort für root wie unten gezeigt fragen:</para>
<screen>
<computeroutput>[sudo] password for Benutzername: <userinput>(geben Sie Ihr eigenes Passwort ein)</userinput>
Geben Sie ein neues UNIX Passwort ein: <userinput>(geben Sie ein neues Passwort für root ein)</userinput>
Geben Sie ein neues UNIX Passwort erneut ein: <userinput>(wiederholen Sie das neue Passwort für root)</userinput>
passwd: Kennwort erfolgreich geändert</computeroutput>
</screen>
		</listitem>
		<listitem>
		<para>Um das root-Benutzerkonto zu deaktivieren, benutzen Sie die folgende passwd-Syntax:</para>
<screen>
<command>sudo passwd -l root</command>
</screen>
		</listitem>
		<listitem>
		<para>Für mehr Informationen über <application>Sudo</application> sollten Sie die zugehörige Man-Page lesen:</para>
<screen>
<command>man sudo</command>
</screen>
		</listitem>
		</itemizedlist>
		<para>Standardmäßig ist der erste Benutzer, welcher vom Ubuntu-Installer erstellt wurde, ein Mitglied der Gruppe »admin«, die zur Datei <filename>/etc/sudoers</filename> als ein autorisierter sudo-Benutzer hinzugefügt wurde. Wenn Sie einem weiteren Benutzerkonto vollen root-Zugriff durch <application>sudo</application> geben möchten, fügen Sie es einfach der »admin«-Gruppe hinzu.</para>
  </sect2>

  <sect2 id="adding-deleting-users" status="review">
	<title>Benutzer hinzufügen und löschen</title>
	<para>Der Verwaltungsprozess für lokale Benutzer und Gruppen ist einfach und unterscheidet sich nur sehr wenig von den meisten anderen GNU/Linux-Betriebssystemen. Ubuntu und andere Debian-basierten Distributionen benutzen das »adduser«-Paket für die Kontenverwaltung.</para>
		<itemizedlist>
		<listitem>
		<para>Um ein Benutzerkonto hinzuzufügen, benutzen Sie die folgende Syntax und folgen Sie den Aufforderungen, um dem Konto ein Passwort und Identifikationsdaten wie voller Name, Telefonnummer, usw. zu geben.</para>
<screen>
<command>sudo adduser benutzername</command>
</screen>
		</listitem>
		<listitem>
		<para>Um ein Benutzerkonto und dessen Primärgruppe zu löschen, benutzen Sie die folgende Syntax:</para>
<screen>
<command>sudo deluser username</command>
</screen>
		<para>Das Löschen eines Benutzerkontos führt nicht dazu, dass der jeweilige persönliche Ordner gelöscht wird. Es liegt an Ihnen, ob Sie den Ordner manuell löschen oder entsprechend Ihrer gewünschten Aufbewahrungsrichtlinie  behalten möchten.</para>
		<para>Bedenken Sie dabei aber Folgendes: Jeder Benutzer, der später mit derselben UID/GID wie der ursprüngliche Besitzer hinzugefügt wird, wird nun Zugriff auf diesen Ordner haben, wenn Sie nicht die notwendigen Vorkehrungen getroffen haben.</para>
		<para>Sie sollten daher diese UID/GID-Werte z.B. auf das root-Benutzerkonto ändern und eventuell auch den Ordner verschieben, um zukünftige Konflikte zu vermeiden.</para>
<screen>
<command>sudo chown -R root:root /home/Benutzername/</command>
<command>sudo mkdir /home/archivierte_Benutzer/</command>
<command>sudo mv /home/username /home/archivierte_Benutzer/</command>
</screen>
		</listitem>
		<listitem>
		<para>Um ein Benutzerkonto temporär zu sperren oder diese Sperre wieder aufzuheben, benutzen Sie die entsprechende Syntax wie folgt:</para>
<screen>
<command>sudo passwd -l Benutzername</command>
<command>sudo passwd -u Benutzername</command>
</screen>
		</listitem>
		<listitem>
		<para>Um eine Benutzergruppe hinzuzufügen oder zu löschen, benutzen Sie die entsprechende Syntax wie folgt:</para>
<screen>
<command>sudo addgroup Gruppenname</command>
<command>sudo delgroup Gruppenname</command>
</screen>
		</listitem>
		<listitem>
		<para>Um einen Benutzer zu einer Gruppe hinzuzufügen, benutzen Sie die folgende Syntax:</para>
<screen>
<command>sudo adduser Benutzername Gruppenname</command>
</screen>
		</listitem>
		</itemizedlist>
  </sect2>

  <sect2 id="user-profile-security" status="review">
	<title>Sicherheit der Benutzerprofile</title>
	<para>Wenn ein neues Benutzerkonto angelegt wird, erstellt das »adduser«-Werkzeug einen komplett neuen persönlichen Ordner, der entsprechend <filename class="directory">/home/Benutzername</filename> benannt wird. Das Standardprofil wird nach dem Inhalt des Ordners <filename class="directory">/etc/skel</filename>, der die Basisdaten des Profils enthält, erstellt.</para>
	<para>Soll Ihr Server von mehreren Benutzern verwendet werden, dann sollten Sie den Zugriffsberechtigungen der einzelnen persönlichen Ordner große Aufmerksamkeit schenken, um Vertraulichkeit zu gewährleisten. Standardmäßig werden unter Ubuntu alle persönlichen Ordner aller Benutzerkonten mit generellen Lese-/ Ausführungsrechten erstellt. Das bedeutet, dass jeder Benutzer Zugriff auf die persönlichen Ordner anderer Benutzer und deren Inhalt hat. Dies ist möglicherweise für Ihre Umgebung nicht gerade angemessen.</para>
		<itemizedlist>
		<listitem>
		<para>Um die momentan vergebenen Rechte für die persönlichen Ordner Ihrer derzeit vorhandenen Benutzer zu überprüfen, benutzen Sie die folgende Syntax:</para>
<screen>
<command>ls -ld /home/Benutzername</command>
</screen>
		<para>Die folgende Ausgabe zeigt, dass jeder auf den Ordner <filename class="directory">/home/Benutzername</filename> Lesezugriff hat:</para>
<screen>
<computeroutput>drwxr-xr-x  2 Benutzername Benutzername    4096 2007-10-02 20:03 Benutzername</computeroutput>
</screen>
		</listitem>
		<listitem>
		<para>Sie können die generellen Leserechte entfernen, indem Sie folgende Syntax verwenden:</para>
<screen>
<command>sudo chmod 0750 /home/Benutzername</command>
</screen>
		<note>
		<para>Einige Benutzer neigen dazu, die Rekursiv-Option (-R) unbesehen zu benutzen, was dazu führt, dass alle Unterordner und enthaltenen Dateien verändert werden. Dies ist aber unnötig und kann zu unerwünschten Ergebnissen führen. Die Änderung am übergeordneten Ordner alleine ist ausreichend, unautorisierten Zugriff auf alle untergeordneten Dateien und Ordner zu verhindern.</para>
		</note>
		<para>Eine weitaus effizientere Herangehensweise an dieses Thema würde die Modifikation der globalen <application>adduser</application>-Standardrechte bei der Erstellung von persönlichen Benutzerordnern darstellen. Editieren Sie einfach die Datei <filename>/etc/adduser.conf</filename> und modifizieren Sie die <varname>DIR_MODE</varname>-Variable in einer geeigneten Form, sodass alle neuen persönlichen Benutzerordner die korrekten Rechte erhalten.</para>
<programlisting>
DIR_MODE=0750
</programlisting>
		</listitem>
		<listitem>
		<para>Nachdem Sie die Rechte der einzelnen Ordner mit einer der vorher beschriebenen Methoden korrigiert haben, sollten Sie die Ergebnisse mit der folgenden Syntax überprüfen:</para>
<screen>
<command>ls -ld /home/Benutzername</command>
</screen>
		<para>Die unten angegebenen Ergebnisse zeigen, dass die globalen Leserechte entfernt wurden:</para>
<screen>
<computeroutput>drwxr-x---   2 Benutzername Benutzername    4096 2007-10-02 20:03 Benutzername</computeroutput>
</screen>
		</listitem>
		</itemizedlist>
  </sect2>

  <sect2 id="password-policy" status="review">
	<title>Passwortrichtlinie</title>
	<para>Eine solide Passwortstrategie ist einer der wichtigsten Sicherheitsaspekte. Viele erfolgreiche Systemeinbrüche beinhalten einfache Brachialgewalt- (»Brute Force«-) und Wörterbuchattacken gegen schwache Passwörter. Wenn Sie in irgendeiner Form beabsichtigen, Fernzugriff unter Einbeziehung Ihres lokalen Passwortsystems anzubieten, so stellen Sie sicher, dass Sie bestimmte Minimalanforderungen an die Passwortkomplexität und maximale Passwortlebensdauer stellen sowie regelmäßige Prüfungen (»Audits«) Ihrer Authentifizierungssysteme durchführen.</para>
  <sect3 id="minimum-password-length" status="review">
	<title>Minimale Passworlänge</title>
	<para>Standardmäßig fordert Ubuntu eine minimale Passwortlänge von 4 Buchstaben sowie einige grundlegende Entropieüberprüfungen. Diese Werte werden in der Datei <filename>/etc/pam.d/common-password</filename>, die unten beschrieben ist, gesteuert.</para>
<programlisting>
password   required   pam_unix.so nullok obscure min=4 max=8 md5
</programlisting>
	<para>Wenn Sie die Mindestlänge auf 6 Buchstaben einstellen möchten, so ändern Sie die entsprechende Variable auf »min=6«. Die Änderung ist im folgenden beschrieben.</para>
<programlisting>
password   required   pam_unix.so nullok obscure min=6 max=8 md5
</programlisting>
	<note>
	<para>Die Variable <varname>max=8</varname> repräsentiert nicht die Maximallänge eines Passwortes. Sie bedeutet lediglich, dass die Komplexitätsprüfung an Passworten mit einer Länge von mehr als 8 Buchstaben nicht durchgeführt wird. Weitere Unterstützung bezüglich Passwortentropie erhalten Sie im <application>libpam-cracklib</application>-Paket.</para>
	</note>
  </sect3>
  <sect3 id="password-expiration" status="review">
	<title>Ablauf von Passwörtern</title>
	<para>Wenn Sie Benutzerkonten einrichten, sollten Sie eine Richtlinie einführen, die ein minimales und maximales Alter der Passwörter erfordert, um die Benutzer zu zwingen, ihre Passwörter zu ändern, wenn sie ablaufen.</para>
		<itemizedlist>
		<listitem>
		<para>Um den Status eines Benutzerkontos einfach anzusehen, benutzen Sie die folgende Syntax:</para>
<screen>
<command>sudo chage -l Benutzername</command>
</screen>
		<para>Die folgende Ausgabe zeigt interessante Fakten über das Benutzerkonto, dass nämlich keinerlei Richtlinien angewendet werden:</para>
<screen>
<computeroutput>Letzte Passwortänderung                                    : Jan 20, 2008
Passwort läuft ab                                        : nie
Passwort inaktiv                                       : nie
Benutzerzugang läuft ab                                         : nie
Minimale Anzahl von Tagen zwischen Passwortänderungen          : 0
Maximale Anzahl von Tagen zwischen Passwortänderungen          : 99999
Anzahl von Tagen mit Warnung bevor Passwort abläuft       : 7</computeroutput>
</screen>
		</listitem>
		<listitem>
		<para>Um jeden dieser Werte zu einzustellen, benutzen Sie einfach die folgende Syntax und folgen Sie den interaktiven Ausgaben:</para>
<screen>
<command>sudo chage Benutzername</command>
</screen>
		<para>Im Folgenden sehen Sie ein Beispiel wie Sie das explizite Ablaufdatum (-E) auf 31.01.2008, die Minimallänge (-m) auf 5 Tage, das maximale Passwortalter (-M) auf 90 Tage, die Zeit der Inaktivität (-l) auf 5 Tage nach Passwortablauf und eine Warnzeit (-W) auf 14 Tage vor Passwortablauf manuell einstellen können.</para>
<screen>
<command>sudo change -E 01/31/2008 -m 5 -M 90 -I 30 -W 14 Benutzername</command>
</screen>
		</listitem>
		<listitem>
		<para>Um die Änderungen zu überprüfen, benutzen Sie die gleichen Syntax wie vorher angegeben:</para>
<screen>
<command>sudo chage -l Benutzername</command>
</screen>
		<para>Die Ausgabe zeigt die für das Benutzerkonto neu eingerichteten Richtlinien:</para>
<screen>
<computeroutput>Letzte Passwortänderung                                   : Jan 20, 2008
Passwort läuft ab                                        : Apr 19, 2008
Passwort inaktiv                                       : Mai 19, 2008
Benutzerzugang läuft ab                                         : Jan 31, 2008
Minimale Anzahl von Tagen zwischen Passwortänderungen          : 5
Maximale Anzahl von Tagen zwischen Passwortänderungen          : 90
Anzahl von Tagen mit Warnung bevor Passwort abläuft       : 14</computeroutput>
</screen>
		</listitem>
		</itemizedlist>
  </sect3>

  </sect2>


  <sect2 id="other-security-considerations" status="review">
	<title>Weitere Sicherheitsbetrachtungen</title>
	<para>Viele Anwendungen nutzen alternative Authentifizierungsmechanismen, die von erfahrenen Systemadministratoren leicht überwacht werden können. Deshalb ist es wichtig zu verstehen und zu steuern, wie sich die Benutzer authentifizieren und Zugriff auf Dienste und Anwendungen auf Ihrem Server erlangen.</para>

  <sect3 id="ssh-access-by-disabled-users" status="review">
	<title>SSH-Zugriff von gesperrten Benutzern</title>
	<para>Das einfache Sperren eines Benutzerkontos wird einen Benutzer nicht davon abhalten, sich von einem entfernten Rechner in Ihren Server einzuloggen, wenn er vorher eine RSA-Authentifizierung über einen öffentlichen Schlüssel eingerichtet hat. Er wird weiterhin in der Lage sein, Shell-Zugriff auf den Server zu erlangen, ohne ein Passwort zu benötigen. Denken Sie daran, den persönlichen Ordner des Benutzers nach Dateien zu prüfen, die diese Art des SSH-Zugriffs zu ermöglichen könnten (z.B. <filename>/home/Benutzername/.ssh/authorized_keys</filename> .</para>
	<para>Entfernen Sie den Ordner oder ändern Sie den Namen des Ordners <filename class="directory">.ssh/</filename> im persönlichen Ordner des Benutzers, um weiteren Möglichkeiten der SSH-Authentifizierung vorzubeugen.</para>
	<para>Stellen Sie sicher, dass Sie alle vom gesperrten Benutzer aufgesetzten SSH-Verbindungen überprüfen, da es möglich ist, dass diese bestehende ankommende oder abgehende Verbindungen haben. Löschen Sie alle, die Sie finden.</para>
	<para>Beschränken Sie den SSH-Zugriff auf ausschließlich die Benutzer, die ihn auch haben sollten. Sie könnten beispielsweise eine Benutzergruppe mit dem Namen »sshlogin« erstellen und den Gruppennamen als den mit der Variablen <varname>AllowGroups</varname> verbundenen Wert in der Datei <filename>/etc/ssh/sshd_config</filename> hinzufügen.</para>
<programlisting>
AllowGroups sshlogin
</programlisting>
	<para>Fügen Sie dann all Ihre zugelassenen SSH-Benutzer zur Gruppe »sshlogin« hinzu und starten Sie den SSH-Dienst neu.</para>
<screen>
<command>sudo adduser Benutzername sshlogin</command>
<command>sudo /etc/init.d/ssh restart</command>
</screen>
  </sect3>
  <sect3 id="external-db-auth" status="review">
	<title>Externe Benutzerdatenbankauthentifizierung</title>
	<para>Die meisten Unternehmensnetzwerke erfordern zentrale Authentifizierungs- und Zugangskontrollen für alle Systemressourcen. Wenn Sie Ihren Server so konfiguriert haben, dass die Benutzer gegenüber externen Datenbanken authentifiziert werden, dann stellen Sie sicher, dass die Benutzerkonten extern und lokal deaktiviert sind. Damit stellen Sie sicher, dass die lokale Sicherungsauthentifizierung nicht möglich ist.</para>
  </sect3>
  </sect2>
  </sect1>


   <sect1 id="console-security" status="review">
	<title>Sicherheit im Terminal</title>
	<para>Wie bei jeder Sicherheitsbarriere, die Sie aufstellen, um Ihren Server zu schützen, ist es schwierig, sich gegen Schäden zu schützen, die von Personen mit physischem Zugriff auf Ihre Einrichtung verursacht werden. Hierzu zählt der Diebstahl von Festplatten, Unterbrechung der Energieversorgung usw. Deshalb sollte die Sicherheit in der Konsole/ im Terminal lediglich als eine Komponente Ihrer gesamten physischen Sicherheitsstrategie angesehen werden. Eine verschlossene »Bildschirmtür« kann einen Gelegenheitskriminellen abschrecken oder zumindest behindern. Es ist also empfehlenswert, einige grundlegende Vorsichtsmaßnahmen mit Blickpunkt auf die Sicherheit im Terminal zu ergreifen.</para>
	<para>Die folgenden Anweisungen werden Ihnen helfen, Ihren Server gegen Probleme zu schützen, die sonst sehr ernste Konsequenzen haben könnten.</para>

   <sect2 id="disable-ctrl-alt-delete" status="review">
	<title>Deaktivieren von »Strg+Alt+Entf«</title>
	<para>Zuallererst, jeder der physischen Zugriff auf die Tastatur hat, kann einfach die Tastenkombination <keycombo><keycap>Strg</keycap><keycap>Alt</keycap><keycap>Entf</keycap></keycombo> benutzen, um den Server neu zu starten ohne sich einloggen zu müssen. Sicher, man könnte auch einfach die Energieversorgung unterbrechen, Sie können aber trotzdem die Benutzung dieser Tastenkombination auf einem Produktivserver unterbinden. Dies zwingt den Angreifer, drastischer vorzugehen, wenn er den Server neu starten will. Es schützt auch gleichzeitig vor versehentlichen Neustarts.</para>
		<itemizedlist>
	  	<listitem>
		<para>Um den von der Tastenkombination <keycombo><keycap>Strg</keycap><keycap>Alt</keycap><keycap>Entf</keycap></keycombo> ausgelösten Neustart zu deaktivieren,muss die folgende Zeile in der Datei <filename>/etc/event.d/control-alt-delete</filename> auskommentiert werden.</para>
<programlisting>
#exec /sbin/shutdown -r now "Control-Alt-Delete pressed"
</programlisting>
		</listitem>
		</itemizedlist>
   </sect2>
   <sect2 id="grub-password-security" status="review">
	<title>GRUB-Passwortsicherheit</title>
	<para>Ubuntu installiert GNU GRUB als seinen standardmäßigen Bootloader. Dies erlaubt große Flexibilität und umfangreiche Wiederherstellungsoptionen. Wenn Sie beispielsweise zusätzliche Kernelabbilder installieren, werden diese automatisch als Bootoptionen im <application>grub</application>-Menü zur Verfügung gestellt. Es sind außerdem standardmäßig verschiedene Bootoptionen für jeden Kerneleintrag verfügbar, das zur Systemwiederherstellung benutzt werden kann (entsprechend mit »recovery mode« gekennzeichnet). Der Wiederherstellungsmodus bootet den Kernel einfach in den Einzelbenutzermodus (»init 1«), das den Administrator in eine root-Ausgabe führt, ohne ein Passwort zu benötigen.</para>
	<para>Deshalb ist es wichtig, zu steuern, wer den Inhalt des <application>grub</application>-ändern kann. Ansonsten kann dies jemandem erlauben, die folgenden gefährlichen Aktionen durchzuführen:</para> 
		<itemizedlist>
	  	<listitem>
	  	<para>Die Kerneloptionen beim Systemstart übergehen.</para>
	  	</listitem>
		<listitem>
		<para>Den Server in Einzelnutzermodus versetzen.</para>
		</listitem>
		</itemizedlist>
	<para>Sie können diese Aktionen verhindern, indem Sie ein Passwort in die Konfigurationsdatei von GRUB <filename>/boot/grub/menu.lst</filename> hinzufügen, welches dann benötigt wird, um die erweiterten Funktionen von GRUB vor der Benutzung freizuschalten.</para>
		<itemizedlist>
	  	<listitem>
	  	<para>Um ein Passwort zu <application>grub</application> hinzuzufügen, müssen Sie erst einen md5-Passwort-hash mit dem <application>grub-md5-crypt</application>-Werkzeug erstellen:</para>
<screen>
<command>grub-md5-crypt</command>
</screen>
		<para>Der Befehl wird Sie auffordern, ein Passwort einzugeben und einen resultierenden hash-Wert wie unten gezeigt anbieten:</para>
<screen>
<computeroutput>Passwort: <userinput>(neues Passwort eingeben)</userinput>
Passwort wiederholen: <userinput>(Passwort wiederholen)</userinput>
$1$s3YiK$M3lxAbqA6JLm2FbDWnClQ0</computeroutput>
</screen>
	  	</listitem>
	  	<listitem>
		<para>Fügen Sie den resultierenden hash-Wert zur Datei <filename>/boot/grub/menu.lst</filename> im folgenden Format hinzu:</para>
<programlisting>password --md5 $1$s3YiK$M3lxAbqA6JLm2FbDWnClQ0</programlisting>
	  	</listitem>
	  	<listitem>
	  	<para>Um die Eingabe eines Passwortes zur Benutzung des Einzelnutzermodus zu erzwingen, müssen Sie den Wert der Variable <varname>lockalternative</varname> in der Datei <filename>/boot/grub/menu.lst</filename> auf <varname>true</varname> ändern, wie im folgenden Beispiel gezeigt wird:</para>
<programlisting># lockalternative=true</programlisting>
		</listitem>
		</itemizedlist>
	<note>
	<para>Dies verhindert nicht, dass jemand den Server von einem alternativen Medium startet. Ein Angreifer würde einfach in eine alternative Umgebung starten, Ihren Master-Bootrecord überschreiben, Ihre physischen Laufwerke einhängen oder kopieren, Ihre Daten zerstören oder ähnliches. Untersuchen Sie bitte weitere Gegenmaßnahmen, die Ihnen bei der Abwehr solcher Attacken helfen könnten.</para>
	</note>
   </sect2>
   </sect1>

	<sect1 id="firewall" status="review">
	  <title>Firewall</title>
        <sect2 id="firewall-introduction" status="review">
          <title>Einführung</title>
          <para>Der Linux-Kernel enthält das <emphasis>Netzfilter</emphasis></para>
            <para>Das Paketfilterungssystem des Kernel wäre ohne eine Benutzerraumschnittstelle von geringem Nutzen für den Systemverwalter. Hierfür gibt es »iptables«. Wenn ein Netzpaket Ihren Server erreicht, wird es zum Netzfilter-Teilsystem weitergereicht, welches nach den vom Benutzerraum über »iptables« gelieferten Regeln über Akzeptanz, Manipulation oder Ablehnung entscheidet. Somit ist »iptables« alles, was Sie benötigen um Ihre Firewall zu verwalten falls Sie damit vertraut sind. Es sind auch viele Benutzerschnittstellen erhältlich, die diese Aufgabe vereinfachen.</para>
        </sect2>
          <sect2 id="firewall-ufw" status="review">
	    <title>ufw – unkomplizierte Firewall</title>  
	    <para>Das standardmäßige Firewall-Konfigurationswerkzeug für Ubuntu ist <application>ufw</application>. Entwickelt, um die »iptables«-Firewallkonfiguration zu erleichtern, stellt <application>ufw</application> einen benutzerfreundlichen Weg bereit, eine IPv4- oder IPv6-Host-basierte Firewall zu erstellen.</para>
	    <para><application>ufw</application> ist standardmäßig deaktiviert. Zitat aus der <application>ufw</application>-Manpage:</para>
	    <para>
<quote>ufw ist nicht dazu gedacht, eine komplette Firewallfunktionalität über seine Befehlsschnittstelle zu liefern. Stattdessen liefert es einen leichten Weg, einfache Regeln hinzuzufügen oder zu entfernen. Es wird gegenwärtig hauptsächlich für Host-basierte Firewalls benutzt.</quote>
	    </para>
	    <para>Im folgenden einige Beispiele zur Benutzung von <application>ufw</application>.</para> 
	    <itemizedlist>
              <listitem>
                <para>Zuerst muss <application>ufw</application> aktiviert werden. Geben Sie hierzu in ein Terminal ein:</para>
<screen>
<command>sudo ufw enable</command>
</screen>
	      </listitem>
              <listitem>
                <para>Um einen Port zu öffnen (in diesem Beispiel SSH):</para>
<screen>
<command>sudo ufw allow 22</command>
</screen>
	      </listitem>
              <listitem>
                <para>Regeln können auch in einem <emphasis>nummerierten</emphasis> Format hinzugefügt werden.</para>
<screen>
<command>sudo ufw insert 1 allow 80</command>
</screen>
	      </listitem>
              <listitem>
                <para>Um einen Port zu schließen:</para>
<screen>
<command>sudo ufw deny 22</command>
</screen>
	      </listitem>
              <listitem>
                <para>Um eine Regel zu löschen, benutzen Sie »delete«, gefolgt von der Regel:</para>
<screen>
<command>sudo ufw delete deny 22</command>
</screen>
	      </listitem>
              <listitem>
                <para>Es ist auch möglich, Zugriff auf einen Port von bestimmten Hosts oder Netzwerken aus zu erlauben. Das folgende Beispiel erlaubt Zugriff von Host 192.168.0.2 auf jede IP-Adresse auf diesem Host:</para>
<screen>
<command>sudo ufw allow proto tcp from 192.168.0.2 to any port 22</command>
</screen>
	        <para>Ersetzen Sie 192.168.0.2 mit 192.168.0.0/24, um SSH-Zugriff vom gesamten Subnetz zu erlauben.</para>
	      </listitem>
              <listitem>

                <para>Das Hinzufügen der Option <emphasis>--dry-run</emphasis> zu einem <emphasis>ufw</emphasis>-Befehl bewirkt, dass die resultierenden Regeln ausgegeben, aber nicht angewendet werden. Folgendes würde angewendet werden, wenn der HTTP-Port geöffnet werden würde:</para>

<screen>
<command>sudo ufw --dry-run allow http</command>
</screen>

<screen>
<computeroutput>*filter
:ufw-user-input - [0:0]
:ufw-user-output - [0:0]
:ufw-user-forward - [0:0]
:ufw-user-limit - [0:0]
:ufw-user-limit-accept - [0:0]
### RULES ###

### tuple ### allow tcp 80 0.0.0.0/0 any 0.0.0.0/0
-A ufw-user-input -p tcp --dport 80 -j ACCEPT

### END RULES ###
-A ufw-user-input -j RETURN
-A ufw-user-output -j RETURN
-A ufw-user-forward -j RETURN
-A ufw-user-limit -m limit --limit 3/minute -j LOG --log-prefix "[UFW LIMIT]: "
-A ufw-user-limit -j REJECT
-A ufw-user-limit-accept -j ACCEPT
COMMIT
Rules updated</computeroutput>
</screen>

              </listitem>
              <listitem>
                <para><application>ufw</application> kann wie folgt deaktiviert werden:</para>
<screen>
<command>sudo ufw disable</command>
</screen>
	      </listitem>
              <listitem>
                <para>Um den Firewallstatus anzuzeigen, geben Sie folgendes ein:</para>
<screen>
<command>sudo ufw status</command>
</screen>
	      </listitem>
              <listitem>
                <para>Um weiterführende Statusinformationen einzusehen, geben Sie ein:</para>
<screen>
<command>sudo ufw status verbose</command>
</screen>
	      </listitem>
              <listitem>
                <para>Um das <emphasis>nummerierte</emphasis> Format zu sehen:</para>
<screen>
<command>sudo ufw status numbered</command>
</screen>
	      </listitem>
	    </itemizedlist>
	    <note>
	      <para>Wenn der Port, den Sie öffnen oder schließen möchten, in <filename>/etc/services</filename> definiert ist, können Sie anstatt der Nummer den Portnamen benutzen. In den obigen Beispielen können Sie <emphasis>22</emphasis> mit <emphasis>ssh</emphasis> ersetzen.</para>
	    </note>

  	    <para>Dies ist nur eine kurze Vorstellung von <application>ufw</application>. eiterführende Informationen finden Sie in der <application>ufw</application>-Manpage.</para>

            <sect3 id="ufw-application-integration" status="review">
              <title>ufw-Anwendungsintegration</title>

              <para>Anwendungen, die Ports öffnen, können ein <application>ufw</application>-Profil beinhalten, das die zur einwandfreien Funktion der Anwendung benötigten Ports spezifiziert. Die Profile sind in <filename role="directory">/etc/ufw/applications.d</filename> enthalten und können editiert werden, falls die Standard-Ports sich geändert haben.</para>

              <itemizedlist>
                <listitem>

                  <para>Um zu sehen, welche Anwendungen ein Profil installiert haben, geben Sie das folgende in ein Terminal ein:</para>

<screen>
<command>sudo ufw app list</command>
</screen>

                </listitem>
                <listitem>

                  <para>Entsprechend der Freigabe eines Ports, wird die Benutzung eines Anwendungsprofils durch folgende Eingabe erreicht:</para>

<screen>
<command>sudo ufw allow Samba</command>
</screen>

                </listitem>
                <listitem>

                  <para>Es ist auch eine erweiterte Syntax verfügbar:</para>

<screen>
<command>ufw allow from 192.168.0.0/24 to any app Samba</command>
</screen>

                  <para>Ersetzen Sie <emphasis>Samba</emphasis> und <emphasis>192.168.0.0/24</emphasis> mit dem benutzten Anwendungsprofil bzw. des IP-Bereichs Ihres Netzwerks.</para>

                  <note>
                    <para>Es ist nicht notwendig, das <emphasis>protocol</emphasis> für die Anwendung zu spezifizieren, da diese Information im Profil angegeben ist. Beachten Sie auch, dass der <emphasis>app</emphasis>-Name die Port-Nummer ersetzt.</para>
                  </note>

                </listitem>
                <listitem>

                  <para>Geben Sie folgendes in ein Terminal ein, um zu sehen, welche Ports, Protokolle etc. für eine Anwendung definiert sind:</para>

<screen>
<command>sudo ufw app info Samba</command>
</screen>

                </listitem>
              </itemizedlist>

              <para>Nicht alle Anwendungen, die die Öffnung eines Netzwerk-Port erfordern, sind mit <application>ufw</application>-Profil versehen. Wenn Sie ein Profil zu einer Anwendung erstellt haben und möchten, dass dieses im ufw-Paket enthalten ist, erstellen Sie bitte einen Bugreport gegen das Paket unter <ulink url="https://launchpad.net/">Launchpad</ulink>.</para>

            </sect3>
	  </sect2>
        <sect2 id="ip-masquerading" status="review">
          <title>IP-Masquerading</title>
            <para>Der Zweck der IP-Masquerading ist es, Maschinen in Ihrem Netz, die private, nicht-weiterleitbare IP-Adressen besitzen, zu erlauben, das Internet über eine Maschine, die die Adressen übersetzt, zu erreichen. Der Verkehr, der von Ihrem privaten Netz ins Internet gelenkt wird, muss dabei in einer Weise manipuliert werden, damit die Antworten wieder zu der Maschine zurück geleitet werden können, die sie angefordert hat. Um dies zu bewerkstelligen, muss der Kernel die <emphasis>ursprüngliche</emphasis> IP-Adresse eines jeden Paketes so verändern, dass die Antworten an diese Maschine zurückgesendet werden, anstatt der privaten IP-Adresse die die Anfragen gemacht hat, die vom Internet nicht erreichbar ist. Linux benutzt dazu <emphasis>Verbindungsüberwachung</emphasis> (conntrack) um festzustellen, welche Verbindung zu welcher Maschine gehört und dementsprechend jedes Paket an die richtige Adresse weiterzuleiten. Der Verkehr der Ihr privates  Netz verlässt ist damit »maskiert«, als ob sie von der Ubuntu Gateway Maschine herstammt. Dieser Prozess wird in den Microsoft-Beschreibungen als »Internetverbindungsfreigabe« beschrieben.</para>
	    <sect3 id="ip-masquerade-ufw" status="review">
	      <title>ufw-Masquerading</title>
	      <para>IP-Masquerading kann durch benutzerdefinierte <application>ufw</application>-Regeln erreicht werden. Dies ist möglich, weil <application>iptables-restore</application> mit den Regeln in den Dateien <filename>/etc/ufw/*.rules</filename> das derzeitige Backend für <application>ufw</application> ist. Diese Dateien sind ein guter Platz, um zusätzliche iptables-Regeln hinzuzufügen, die ohne <application>ufw</application> benutzt werden und Regeln die mehr auf Netzwerk-Gateway- oder -brücken ausgerichtet sind.</para>
	      <para>Die Regeln sind in zwei Dateien aufgeteilt. In Regeln, die vor <application>ufw</application>-Befehlszeilenregeln, und in Regeln, die nach <application>ufw</application>-Befehlszeilenregeln ausgeführt werden.</para>
	      <itemizedlist>
	        <listitem>
		  <para>Zuerst muss die Paketweiterleitung in <application>ufw</application> aktiviert werden. Hierzu müssen zwei Konfigurationsdateien geändert werden. Ändern Sie in der Datei <filename>/etc/default/ufw</filename> die <emphasis>DEFAULT_FORWARD_POLICY</emphasis> in <quote>ACCEPT</quote>:</para>
<programlisting>
DEFAULT_FORWARD_POLICY="ACCEPT"
</programlisting>
		  <para>Danach ändern Sie <filename>/etc/ufw/sysctl.conf</filename> und kommentieren folgendes aus:</para>
<programlisting>
net.ipv4.ip_forward=1
</programlisting>
		  <para>Entsprechend für die IPv6-Weiterleitung (auskommentieren):</para>
<programlisting>
net.ipv6.conf.default.forwarding=1
</programlisting>
		</listitem>
	        <listitem>
		  <para>Nun werden wir die Regeln zur <filename>/etc/ufw/before.rules</filename>-Datei hinzufügen. Die Standardregeln konfigurieren nur die <emphasis>filter</emphasis>-Tabelle. Um die Masquerading zu aktivieren, muss die <emphasis>nat</emphasis>-Tabelle konfiguriert werden. Fügen Sie folgendes an den Anfang der Datei (direkt unter den Überschrift-Kommentaren):</para>
<programlisting>
# nat Table rules
*nat
:POSTROUTING ACCEPT [0:0]

# Forward traffic from eth1 through eth0.
-A POSTROUTING -s 192.168.0.0/24 -o eth0 -j MASQUERADE

# don't delete the 'COMMIT' line or these nat table rules won't be processed
COMMIT
</programlisting>
	          <para>Die Kommentare sind nicht unbedingt notwendig. Es ist aber eine bewährte Praxis, die Konfigurationen auf diese Weise zu dokumentieren. Wenn Sie eine der <emphasis>Regel</emphasis>-Dateien in <filename class="directory">/etc/ufw</filename> ändern, so stellen Sie sicher, dass die folgenden Zeilen immer die letzten in jeder geänderten Tabelle sind:</para>

<programlisting>
# don't delete the 'COMMIT' line or these rules won't be processed
COMMIT
</programlisting>

                  <para>Für jede <emphasis>Tabelle</emphasis> wird eine korrespondierender <emphasis>COMMIT</emphasis>-Anweisung benötigt. In diesen Beispielen werden nur die <emphasis>nat</emphasis>- und <emphasis>filter</emphasis>-Tabellen gezeigt. Sie können ebenfalls Regeln für die <emphasis>raw</emphasis>- und <emphasis>mangle</emphasis>-Tabellen hinzufügen.</para>

                  <note>
                   <para>Ersetzen Sie <emphasis>eth0</emphasis>, <emphasis>eth1</emphasis> und <emphasis>192.168.0.0/24</emphasis> im obigen Beispiel mit den entsprechenden Schnittstellen und dem IP-Bereich Ihres Netzwerks.</para>
                  </note>

		</listitem>
	        <listitem>
		  <para>Deaktivieren und aktivieren Sie schlussendlich <application>ufw</application>, um die Änderungen anzuwenden:</para>
<programlisting>
<command>sudo ufw disable &amp;&amp; sudo ufw enable</command>
</programlisting>
		</listitem>
	      </itemizedlist>
	      <para>IP-Masquerading sollte nun aktiviert sein. Sie können auch jede zusätzliche Weiterleitungsregel zur Datei <filename>/etc/ufw/before.rules</filename> hinzufügen. Es wird empfohlen, dass diese zusätzlichen Regeln zur <emphasis>ufw-before-forward</emphasis>-Kette hinzugefügt werden.</para>
	  </sect3>
	    <sect3 id="ip-masquerading-iptables" status="review">
	    <title>iptables-Masquerading</title>
	    <para><application>iptables</application> kann auch benutzt werden, um Masquerading zu aktivieren.</para>
	    <itemizedlist>
	      <listitem>
  	        <para>Ähnlich wie in <application>ufw</application> ist der erste Schritt, die IPv4-Paketweiterleitung zu aktivieren. Dies geschieht durch Editieren der Datei <filename>/etc/sysctl.conf</filename> und Auskommentieren der folgenden Zeile:</para>
<programlisting>
net.ipv4.ip_forward=1
</programlisting>
	        <para>Wenn Sie IPv6-Weiterleitung ebenfalls aktivieren möchten, dann sollten Sie folgendes zusätzlich auskommentieren:</para>
<programlisting>
net.ipv6.conf.default.forwarding=1
</programlisting>
 	      </listitem>
	        <listitem>
		  <para>Danach führen Sie den Befehl <application>sysctl</application> aus, um die neuen Einstellungen in der Konfigurationsdatei zu aktivieren:</para>
<screen>
<command>sudo sysctl -p</command>
</screen>
		</listitem>
	      <listitem>
	        <para>Das IP-Masquerading kann nun mit einer einzelnen iptables-Regel erreicht werden, die abhängig von Ihrer Netzwerkkonfiguration leicht von der folgenden Ausgabe abweichen kann:</para>
<screen>
sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE
</screen>
	        <para>Der obige Befehl setzt voraus, dass Ihr privater Adressraum 192.168.0.0/16 ist und dass Ihr Verbindungsgerät zum Internet ppp0 ist. Die Syntax ist folgendermaßen aufgebaut:</para>
		<itemizedlist>
		  <listitem><para>-t nat -- Die Regel wird in die NAT-Tabelle eingefügt</para></listitem>
		  <listitem><para>-A POSTROUTING -- Die Regel soll an die POSTROUTING-Kette angehängt (-A) werden.</para></listitem>
  		  <listitem><para>-s 192.168.0.0/16 -- Die Regel trifft für den Verkehr zu, der von dem angegebenen Adressraum herstammt</para></listitem>
  		  <listitem><para>-o ppp0 -- Die Regel trifft für den Verkehr zu, der durch das angegeben Netzwerkgerät geleitet wird</para></listitem>
  		  <listitem>
                    <para>-j MASQUERADE -- Der Verkehr auf den diese Regel zutrifft, wird dem Ziel "MASQUERADE"  zugeleitet und dort wie vorher beschrieben manipuliert</para>
                  </listitem>
	        </itemizedlist>
	      </listitem>
	      <listitem>
		<para>Jede Kette in der Tabelle (Standardtabelle und wo die Filterung der meisten oder aller Pakete stattfindet) hat ebenfalls eine »ACCEPT«-Standardstrategie. Wenn Sie aber zusätzlich zu einem Gateway-Gerät eine Firewall erstellen, haben Sie diese Strategie vermutlich auf »DROP« oder »REJECT« eingestellt. In diesem Fall muss Ihr maskierter Verkehr durch die »FORWARD«-Kette zugelassen werden, damit die obige Regel funktioniert:</para>
<screen>
sudo iptables -A FORWARD -s 192.168.0.0/16 -o ppp0 -j ACCEPT
sudo iptables -A FORWARD -d 192.168.0.0/16 -m state --state ESTABLISHED,RELATED -i ppp0 -j ACCEPT
</screen>
		<para>Die obigen Befehle erlauben alle Verbindungen von Ihrem lokalen Netzwerk ins Internet und lassen jeden Verkehr, der mit diesen Verbindungen zusammenhängt, zu der initiierenden Maschine zurück laufen.</para>
	      </listitem>
	      <listitem>
		<para>Wenn Sie möchten, dass Maskerade nach dem Neustart aktiviert ist, editieren Sie <filename>/etc/rc.local</filename> und fügen Sie alle oben benutzten Befehle hinzu. Beispielsweise den ersten Befehl ohne Filterung:</para>
<screen>
iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE
</screen>
	      </listitem>
	    </itemizedlist>
	    </sect3>
        </sect2>
        <sect2 id="firewall-logs" status="review">
          <title>Protokolle</title>
            <para>Firewallprotokolle sind essentiell für die Erkennung von Angriffen, die Fehlersuche in Ihren Firewallregeln und zur Wahrnehmung unüblicher Aktivitäten in Ihrem Netzwerk. Sie müssen Regeln für die Erstellung von Protokollen in Ihrer Firewall aufnehmen. Diese Protokollierungsregeln müssen vor jeder zutreffenden Begrenzungsregel (eine Regel mit einem Ziel, das dass Schicksal eines Pakets bestimmt, wie »ACCEPT«, »DROP«, oder »REJECT«) angewendet werden.</para>
	     <para>Wenn Sie <application>ufw</application> benutzen, können Sie die Protokollierung mit folgendem Befehl in einem Terminal aktivieren:</para>
<screen>
<command>sudo ufw logging on</command>
</screen>
	     <para>Um die Protokollierung in <application>ufw</application> abzuschalten, ersetzen Sie im obigen Befehl einfach <emphasis role="italic">on</emphasis> mit <emphasis role="italic">off</emphasis>.</para>
	     <para>Wenn Sie statt <application>ufw</application> <application>iptables</application> benutzen, geben Sie folgendes ein:</para>
<screen>
sudo iptables -A INPUT -m state --state NEW -p tcp --dport 80 -j LOG --log-prefix "NEW_HTTP_CONN: "
</screen>
	     <para>Eine Anforderung von der lokalen Maschine auf Port 80 würde dann einen Protokolleintrag in »dmesg« erzeugen, welcher wie folgt aussieht:</para>
			<para>
			  <programlisting>[4304885.870000] NEW_HTTP_CONN: IN=lo OUT= MAC=00:00:00:00:00:00:00:00:00:00:00:00:08:00 SRC=127.0.0.1 DST=127.0.0.1 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=58288 DF PROTO=TCP SPT=53981 DPT=80 WINDOW=32767 RES=0x00 SYN URGP=0</programlisting>
			</para>
			<para>Der obige Protokolleintrag erscheint auch in <filename>/var/log/messages</filename>, <filename>/var/log/syslog</filename>, und <filename>/var/log/kern.log</filename>. Dieses Verhalten kann durch eine geeignete Bearbeitung der Datei <filename>/etc/syslog.conf</filename> oder durch die Installation und Konfiguration von <application>ulogd</application> und die Benutzung des »ULOG«-Ziels anstatt »LOG« verändert werden. Der <application>ulogd</application>-Dienst ist ein im Userspace laufender Server, der die Firewall-spezifischen Aufzeichnungsbefehle des Betriebssystemkerns abhört. Er kann diese dann in einer beliebigen von Ihnen bestimmten Datei, oder selbst in einer <application>PostgreSQL</application>- oder <application>MySQL</application>-Datenbank aufzeichnen. Das Verständnis der Firewallprotokolle kann durch Analysewerkzeuge, wie <application>fwanalog</application>, <application> fwlogwatch</application>, oder <application>lire</application> vereinfacht werden.</para>
        </sect2>	
        <sect2 id="other-firewall-tools" status="review">
          <title>Weitere Werkzeuge</title>
            <para>Es stehen viele Werkzeuge zur Verfügung, die Ihnen helfen, eine komplette Firewall ohne tiefe Kenntnisse von »iptables« aufzubauen. Für diejenigen, die eine grafische Benutzeroberfläche bevorzugen:</para>
	    <itemizedlist>
	      <listitem>
		<para><ulink url="http://www.fs-security.com/">Firestarter</ulink> ist recht populär und einfach zu benutzen.</para>
	      </listitem>
	      <listitem>
		<para><ulink url="http://www.fwbuilder.org/">fwbuilder</ulink> ist sehr mächtig und ist dem Administrator vertraut, der schon ein kommerzielles Firewallwerkzeug, wie <application>Checkpoint FireWall-1</application> benutzt hat.</para>
	      </listitem>
	    </itemizedlist>
	    <para>Wenn Sie ein Befehlszeilenwerkzeug mit Klartext-Konfigurationsdateien bevorzugen:</para>
	    <itemizedlist>
	      <listitem>
		<para><ulink url="http://www.shorewall.net/">Shorewall</ulink> ist eine sehr mächtige Lösung, um Ihnen bei der Konfiguration einer erweiterten Firewall für jedes Netzwerk zu helfen.</para>
	      </listitem>
	      <listitem>
		<para><ulink url="http://www.linuxkungfu.org/">ipkungfu</ulink> sollte Ihnen eine funktionierende Firewall »vom Fleck weg« ohne Konfiguration bereitstellen und erlaubt Ihnen, eine erweiterte Firewall durch Editieren einfacher, gut dokumentierter Konfigurationsdateien einzurichten.</para>
	      </listitem>
	      <listitem>
		<para><ulink url="http://fireflier.sourceforge.net/">fireflier</ulink> wurde als Desktop-Firewallanwendung entwickelt. Es basiert auf einem Server (fireflier-Server) und der grafischen Benutzeroberfläche Ihrer Wahl (GTK oder QT). Sein Verhalten ähnelt dem vieler interaktiver Firewallanwendungen für Windows.</para>
	      </listitem>
	    </itemizedlist>
        </sect2>
	<sect2 id="firewall-references" status="review">
	  <title>Referenzen</title>
	  <itemizedlist>
	    <listitem>
	      <para>Die <ulink url="https://wiki.ubuntu.com/UbuntuFirewall">Ubuntu Firewall</ulink> Wiki-Seite enthält Informationen zur Entwicklung von <application>ufw</application>.</para>
	    </listitem> 
	    <listitem>
	      <para>Die <application>ufw</application>-Manpage-Seite enthält einige sehr nützliche Informationen: <command>man ufw</command>.</para>
	    </listitem> 
	    <listitem>
	      <para>Weitere Informationen zur Benutzung von <application>iptables</application> finden Sie unter <ulink url="http://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO.html">packet-filtering-HOWTO</ulink>.</para>
	    </listitem> 
	    <listitem>
	      <para>Weitere Details über das Masquerading finden Sie unter <ulink url="http://www.netfilter.org/documentation/HOWTO/NAT-HOWTO.html">nat-HOWTO</ulink></para>
	    </listitem> 
	  </itemizedlist>
	</sect2>
	</sect1>
	<sect1 id="apparmor" status="review">
	  <title>AppArmor</title>
	  <para><application>AppArmor</application> ist eine Linux-Sicherheitsmodul-Implementierung von Namen-basierten Zugangskontrollen. AppArmor beschränkt individuelle Programme auf eine Anzahl gelisteter Dateien und im POSIX 1003.1e-Standard (Draft-Version) festgelegten Fähigkeiten.</para>
	  <para><application>AppArmor</application> wird standardmäßig installiert und geladen. Es benutzt <emphasis>Profile</emphasis> einer Anwendung, um festzulegen, welche Dateien und Zugriffe die Anwendung verlangt. Einige Pakete werden ihre eigenen Profile installieren und zusätzlich können weitere Profile im <application>apparmor-profiles</application>-Paket gefunden werden.</para>
	  <para>Um das <application>apparmor-profiles</application>-Paket aus einem Terminal zu installieren, geben Sie folgendes ein:</para>
<screen>
<command>sudo apt-get install apparmor-profiles</command>
</screen>
	  <para>AppArmor-Profile haben zwei Ausführungsmodi:</para>
	  <itemizedlist>
	    <listitem>
	      <para>»Complaining/Learning«: Profilverletzungen sind erlaubt und werden protokolliert. Nützlich zum Testen und Entwickeln neuer Profile.</para>
	    </listitem>
	    <listitem>
	      <para>»Enforced/Confined«: Setzt die Strategie durch und protokolliert die Verletzung.</para>
	    </listitem>
	  </itemizedlist>
	  <sect2 id="apparmor-usage" status="review">
	    <title>AppArmor benutzen</title>
	    <para>Das <application>apparmor-utils</application>-Paket enthält Befehlszeilenwerkzeuge, die Sie benutzen können, um den Ausführungsmodus von <application>AppArmor</application> zu ändern, den Status eines Profils zu finden, neue Profile zu erstellen etc.</para>
	    <itemizedlist>
	      <listitem>
	    	<para><application>apparmor_status</application> wird benutzt, um den derzeitigen Status der AppArmor-Profile anzusehen.</para>
<screen>
<command>sudo apparmor_status</command>
</screen>
	      </listitem>
	      <listitem>
	        <para><application>aa-complain</application> versetzt ein Profil in <emphasis>complain</emphasis>-Modus.</para>
<screen>
<command>sudo aa-complain /Pfad/zu/bin</command>
</screen>
	      </listitem>
	      <listitem>
	        <para><application>aa-enforce</application> versetzt ein Profil in <emphasis>enforce</emphasis>-Modus.</para>
<screen>
<command>sudo aa-enforce /Pfad/zu/bin</command>
</screen>
	      </listitem>
	      <listitem>
	    	<para>Im Ordner <filename>/etc/apparmor.d</filename> sind die AppArmor-Profile angesiedelt. Es kann benutzt werden, um den <emphasis>Modus</emphasis> aller Profile zu manipulieren.</para>
	    	<para>Geben Sie folgendes ein, um alle Profile in »complain«-Modus zu versetzen:</para>
<screen>
<command>sudo aa-complain /etc/apparmor.d/*</command>
</screen>
	    <para>Um alle Profile in »enforce«-Modus zu versetzen:</para>
<screen>
<command>sudo aa-enforce /etc/apparmor.d/*</command>
</screen>
	      </listitem>
	      <listitem>
	        <para><application>apparmor_parser</application> wird benutzt, um ein Profil in den Kernel zu laden. Es kann auch benutzt werden, ein gerade geladenes Profil mittels der <emphasis>-r</emphasis>-Option nochmals zu laden. Um ein Profil zu laden:</para>
<screen>
<command>cat /etc/apparmor.d/profile.name | sudo apparmor_parser -a</command>
</screen>
		<para>Um ein Profil neu zu laden:</para>
<screen>
<command>cat /etc/apparmor.d/profile.name | sudo apparmor_parser -r</command>
</screen>
	      </listitem>
	      <listitem>
	   	<para><filename>/etc/init.d/apparmor</filename> kann benutzt werden, um alle Profile <emphasis>neu zu laden</emphasis>:</para>
<screen>
<command>sudo /etc/init.d/apparmor reload</command>
</screen>
	      </listitem>
	      <listitem>
	    	<para>Der <filename>/etc/apparmor.d/disable</filename>-Ordner kann zusammen mit der <application>apparmor_parser -R</application>-Option benutzt werden, um ein Profil zu <emphasis>deaktivieren</emphasis>.</para>
<screen>
<command>sudo ln -s /etc/apparmor.d/profile.name /etc/apparmor.d/disable/</command>
<command>sudo apparmor_parser -R /etc/apparmor.d/profile.name</command>
</screen>
	        <para>Um ein deaktiviertes Profil zu <emphasis>reaktivieren</emphasis>, entfernen Sie den symbolischen Link zum Profil im Verzeichnis <filename>/etc/apparmor.d/disable/</filename>. Dann laden Sie das Profil mit der <emphasis>-a</emphasis>-Option.</para>
<screen>
<command>sudo rm /etc/apparmor.d/disable/profile.name</command>
<command>cat /etc/apparmor.d/profile.name | sudo apparmor_parser -a</command>
</screen>
	      </listitem>
	      <listitem>
	    	<para><application>AppArmor</application> kann deaktiviert und das Kernelmodul entladen werden, indem man Folgendes eingibt:</para>
<screen>
<command>sudo /etc/init.d/apparmor stop</command>
<command>sudo update-rc.d -f apparmor remove</command>
</screen>
	      </listitem>
	      <listitem>
	        <para>Um <application>AppArmor</application> zu reaktivieren, geben Sie folgendes ein:</para>
<screen>
<command>sudo /etc/init.d/apparmor start</command>
<command>sudo update-rc.d apparmor defaults</command>
</screen>
	      </listitem>
	    </itemizedlist>
	    <note>
	      <para>Ersetzen Sie <emphasis>profile.name</emphasis> mit dem Namen des Profils, das Sie ändern möchten. Ersetzen Sie ebenfalls <filename>/Pfad/zu/bin/</filename> mit dem tatsächlichen ausführbaren Dateipfad. Benutzen Sie beispielsweise für den Befehl <application>ping</application> <filename>/bin/ping</filename>.</para>
	    </note>
	  </sect2>
	  <sect2 id="apparmor-profiles" status="review">
	    <title>Profile</title>
	    <para><application>AppArmor</application>-Profile sind einfache Textdateien, die sich in <filename>/etc/apparmor.d/</filename> befinden. Die Dateien sind nach dem vollständigen Pfad zur ausführbaren Datei, die sie darstellen, benannt. Hierbei wird »/« mit ».« ersetzt. Beispielsweise ist <filename>/etc/apparmor.d/bin.ping</filename> das AppArmor-Profil für den Befehl <filename>/bin/ping</filename>.</para>
	    <para>Es gibt zwei Haupttypen von Regeln, die in Profilen verwendet werden:</para>
	    <itemizedlist>
	      <listitem>
	        <para><emphasis>Pfadeinträge:</emphasis> die zuweisen, welche Anwendung auf das Dateisystem zugreifen kann.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>Befähigungseinträge:</emphasis> bestimmen, welche Privilegien ein begrenzter Prozess nutzen darf.</para>
	      </listitem>
	    </itemizedlist>
	    <para>Sehen Sie sich als Beispiel <filename>/etc/apparmor.d/bin.ping</filename> an:</para>
<programlisting>
#include &lt;tunables/global&gt;
/bin/ping flags=(complain) {
  #include &lt;abstractions/base&gt;
  #include &lt;abstractions/consoles&gt;
  #include &lt;abstractions/nameservice&gt;

  capability net_raw,
  capability setuid,
  network inet raw,
  
  /bin/ping mixr,
  /etc/modules.conf r,
}
</programlisting>
	    <itemizedlist>
	      <listitem>
	        <para><emphasis>#include &lt;tunables/global&gt;:</emphasis> beinhalten Angaben aus anderen Dateien. Dies erlaubt es, Angaben, die mehrere Dateien betreffen, in einer gemeinsamen Datei zu platzieren.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>/bin/ping flags=(complain):</emphasis> bestimmt den Pfad zum Programm, für das das Profil erstellt wurde und legt auch den <emphasis>complain</emphasis>-Modus fest.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>capability net_raw,:</emphasis> erlaubt der Anwendung Zugriff zur CAP_NET_RAW Posix.1e-Fähigkeit.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>/bin/ping mixr,:</emphasis> gibt der Anwendung Lese- und Ausführungszugriff zur Datei.</para>
	      </listitem>
            </itemizedlist>
	    <note>
	      <para>Nachdem eine Profildatei editiert wurde, muss das Profil neu geladen werden. Weitere Details finden sich unter <xref linkend="apparmor-usage"/>.</para>
	    </note>
	    <sect3 id="apparmor-profiles-new" status="review">
	      <title>Erstellen eines Profils</title>
	      <itemizedlist>
		<listitem>
	          <para><emphasis>Entwerfen Sie einen Testplan:</emphasis> Überlegen Sie, wie die Anwendung ausgeführt werden soll. Der Testplan sollte in kleine Testfälle unterteilt werden. Jeder Test sollte eine kleine Beschreibung haben und alle zu abzuarbeitenden Schritte auflisten.</para>
		  <para>Einige Standard-Testfälle sind:</para>
	          <itemizedlist>
		    <listitem>		
		      <para>Starten des Programms.</para>
		    </listitem>
		    <listitem>		
		      <para>Beenden des Programms.</para>
		    </listitem>
		    <listitem>		
		      <para>Neuladen des Programms.</para>
		    </listitem>
		    <listitem>		
		      <para>Testen aller Befehle, die vom init-Skript unterstützt werden.</para>
		    </listitem>
		  </itemizedlist>
		</listitem>
	        <listitem>
	          <para><emphasis>Erstellen des neuen Profils:</emphasis> Benutzen Sie <application>aa-genprof</application> um das neue Profil zu erstellen. In einem Terminal:</para>
<screen>
<command>sudo aa-genprof executable</command>
</screen>
		    <para>Zum Beispiel:</para>
<screen>
<command>sudo aa-genprof slapd</command>
</screen>
		</listitem>
		<listitem>
		  <para>Um Ihr neues Profil zum <application>apparmor-profiles</application>–Paket hinzuzufügen, erstellen Sie einen Fehlerbericht in <emphasis>Launchpad</emphasis> für das Paket <ulink url="https://bugs.launchpad.net/ubuntu/+source/apparmor/+filebug">AppArmor</ulink>:</para>
		  <itemizedlist>
		    <listitem>
		      <para>Fügen Sie Ihren Testplan und die Testfälle hinzu.</para>
		    </listitem>
		    <listitem>
		      <para>Fügen Sie Ihr neues Profil zum Fehlerbericht hinzu.</para>
		    </listitem>
		  </itemizedlist>
		</listitem>
	      </itemizedlist>
	    </sect3>
	    <sect3 id="apparmor-profiles-update" status="review">
	      <title>Profile aktualisieren</title>
	      <para>Wenn das Programm sich nicht richtig verhält, werden Prüfnachrichten zu den Protokolldateien gesendet. Das Programm <application>aa-logprof</application> kann benutzt werden, um nach <application>AppArmor</application>-Prüfnachrichten zu suchen. Überprüfen Sie diese und aktualisieren Sie die Profile. Aus einem Terminal:</para>
<screen>
<command>sudo aa-logprof</command>
</screen>
	    </sect3>
	  </sect2>	   
	  <sect2 id="apparmor-references" status="review">
	    <title>Referenzen</title>
	    <itemizedlist>
	      <listitem>
	        <para>Informationen über erweiterte Konfigurationsoptionen finden Sie unter <ulink url="http://www.novell.com/documentation/apparmor/apparmor201_sp10_admin/index.html?page=/documentation/apparmor/apparmor201_sp10_admin/data/book_apparmor_admin.html">AppArmor Administration Guide</ulink> (englischsprachig).</para>
	      </listitem>
	    </itemizedlist>
	    <itemizedlist>
	      <listitem>
	        <para>Weitere Informationen über die Benutzung von AppArmor mit anderen Ubuntu-Versionen finden Sie unter <ulink url="https://help.ubuntu.com/community/AppArmor"> AppArmor Community Wiki</ulink>-Seite (englischsprachig).</para>
	      </listitem>
	    </itemizedlist>
	    <itemizedlist>
	      <listitem>
	        <para>Die Seite <ulink url="http://en.opensuse.org/AppArmor">OpenSUSE AppArmor</ulink> ist eine weitere Einführung in AppArmor.</para>
	      </listitem>
	    </itemizedlist>
	    <itemizedlist>
	      <listitem>
	  	<para>Ein guter Platz um nach Unterstützung zu fragen und in der Ubuntu-Server–Gemeinschaft mitzuwirken ist der <emphasis>#ubuntu-server</emphasis> IRC-Kanal auf <ulink url="http://freenode.net">freenode</ulink>.</para>
	      </listitem>
	    </itemizedlist>
	  </sect2>
	</sect1>

        <sect1 id="certificates-and-security" status="review">
          <title>Zertifikate</title>
            <para>Eine der gebräuchlichsten Formen der Kryptographie ist <emphasis>Public-Key</emphasis>–Kryptographie. Public-Key–Kryptographie benutzt einen <emphasis>öffentlichen Schlüssel</emphasis> und einen <emphasis>privaten Schlüssel.</emphasis>. Das System funktioniert, indem Informationen mit dem öffentlichen Schlüssel <emphasis>verschlüsselt</emphasis> werden. Die Information kann dann nur mit dem privaten Schlüssel wieder <emphasis>entschlüsselt</emphasis> werden.</para>
            <para>Eine gebräuchliche Anwendung der public-Key–Verschlüsselung ist die Verschlüsselung des Anwendungsverkehrs mittels einer »Secure Socket Layer« (SSL)- oder einer »Transport Layer Security» (TLS)-Verbindung. Beispielsweise durch die Konfiguration von Apache, um eine <emphasis>HTTPS</emphasis> (das HTTP-Protokoll über SSL) bereitzustellen. Dies erlaubt die Verschlüsselung des Verkehrs mittels eines Protokolls, das selbst keine Verschlüsselung bereitstellt.</para>
            <para>Ein <emphasis>Zertifikat</emphasis> ist eine Methode, die benutzt wird, einen <emphasis>öffentlichen Schlüssel</emphasis> und andere Informationen über einen Server und die dafür verantwortliche Organisation zu verteilen. Zertifikate können von einer <emphasis>Zertifizierungsstelle</emphasis> (CA) digital signiert werden. Eine Zertifizierungsstelle ist eine vertrauenswürdige Organisation, die bestätigt hat, dass die in dem Zertifikat enthaltenen Informationen korrekt sind.</para>
        <sect2 id="types-of-certificates" status="review">
          <title>Arten von Zertifikaten</title>
            <para>Um einen sicheren Server aufzusetzen, der »Public-Key«–Verschlüsselung benutzt, senden Sie in den meisten Fällen Ihren Zertifizierungsantrag (der Ihren öffentlichen Schlüssel enthält), den Nachweis über die Identität Ihres Unternehmens und die Bezahlung an die Zertifizierungsstelle. Die Zertifizierungsstelle bestätigt den Zertifizierungsantrag und Ihre Identität und sendet ein Zertifikat für Ihren sicheren Server zurück. Alternativ können Sie auch Ihr eigenes <emphasis>selbst-signiertes</emphasis> Zertifikat erstellen.</para>
            <note>
              <para>Beachten Sie, dass selbst-signierte Zertifikate in den meisten Produktivumgebungen nicht benutzt werden sollten.</para>
            </note>
            <para>Um beim HTTPS-Beispiel zu bleiben: ein von einer Zertifizierungsstelle signiertes Zertifikat liefert zwei wichtige Möglichkeiten, die ein selbst-signiertes Zertifikat nicht liefert:</para>

            <itemizedlist>
            <listitem>
            <para>Browser erkennen normalerweise das Zertifikat automatisch und erlauben eine sichere Verbindung ohne Aufforderung an den Benutzer.</para>
            </listitem>
            <listitem>
            <para>Wenn eine Zertifizierungsstelle ein Zertifikat heraus gibt, garantiert sie die Identität der Organisation, die die Webseite an den Browser liefert.</para>
            </listitem>
            </itemizedlist>
	
            <para>Die meisten Webbrowser und Rechner, die SSL unterstützen, haben eine Liste von Zertifizierungsstellen, deren Zertifikate sie automatisch akzeptieren. Sollte ein Browser auf ein Zertifikat stoßen, dessen Zertifizierungsstelle nicht in der Liste aufgeführt ist, fragt der Browser den Benutzer nach Akzeptanz oder Ablehnung. Andere Anwendungen können ebenfalls Fehlermeldungen ausgeben, wenn ein selbst-signiertes Zertifikat verwendet wird.</para>
            <para>Der Prozess ein Zertifikat von einer Zertifizierungsstelle zu bekommen, ist relativ einfach. Im Folgenden ein schneller Überblick:</para>

            <orderedlist>
            <listitem>
               <para>Erstellen Sie einen privates und ein öffentliches Schlüsselpaar.</para>
            </listitem>
            <listitem>
                 <para>Erstellen Sie einen Zertifizierungsantrag, basierend auf dem öffentlichen Schlüssel. Der Antrag beinhaltet Informationen über Ihren Server und die Firma, die ihn anbietet.</para>
            </listitem>
            <listitem>
                 <para>Senden Sie den Antrag zusammen mit Dokumenten, die Ihre Identität belegen, zu einer Zertifizierungsstelle. Wir können Ihnen nicht sagen, welche Zertifizierungsstelle zu bevorzugen ist. Ihre Entscheidung könnte auf Erfahrung aus der Vergangenheit basieren, oder auf Erfahrungen Ihrer Freunde oder Kollegen, ebenso wie auf finanziellen Faktoren.</para>

                    <para>Wenn Sie sich für eine Zertifizierungsstelle entschieden haben, müssen Sie den von dort gelieferten Anweisungen folgen, wie ein Zertifikat zu erhalten ist.</para>
            </listitem>
            <listitem>
               <para>Wenn die Zertifizierungsstelle festgestellt hat, dass Sie wirklich derjenige sind, für den Sie sich ausgeben, wird sie das Zertifikat an Sie senden.</para>
            </listitem>
            <listitem>
              <para>Installieren Sie dieses Zertifikat auf Ihren sicheren Server und konfigurieren Sie die entsprechenden Anwendungen so, dass sie das Zertifikat nutzen.</para>
            </listitem>
            </orderedlist>

        </sect2>
        <sect2 id="generating-a-csr" status="review">
          <title>Erstellen eines Antrags zur Signierung eines Zertifikats (CSR)</title>

          <para>Egal, ob Sie ein Zertifikat von einer Zertifizierungsstelle bekommen oder Ihr eigenes, selbst-signiertes Zertifikat erstellen: der erste Schritt ist, einen Schlüssel zu erstellen.</para>

          <para>Falls das Zertifikat von Diensten wie Apache, Postfix, Dovecot etc. verwendet werden soll, ist oft ein Schlüssel ohne Passwort geeignet. Wenn kein Passwort existiert, kann der Dienst ohne weiteren manuellen Eingriff gestartet werden, was im Normalfall wünschenswert ist.</para>

          <para>Dieser Abschnitt behandelt das Erstellen zweier Schlüssel, davon einer mit und einer ohne Passphrase. Der passwortlose Schlüssel wird dann zur Generierung eines Zertifikats verwendet werden, das mit verschiedenen Dienstprogrammen benutzt werden kann.</para>

          <warning>
            <para>Den Dienstprogramm ohne Passwort laufen zu lassen ist bequem, da nicht bei jedem Start des sicheren Dienstes die Passphrase eingegeben werden muss. Allerdings ist diese Methode unsicher, da ein kompromittierter Schlüssel einen kompromittierten Server bedeutet.</para>
          </warning>

          <para>Um die <emphasis>Schlüssel</emphasis> für den Antrag zur Signierung eines Zertifikats (CSR) zu erstellen, führen Sie folgenden Befehl in einem Terminal aus:</para>

<screen>
<command>openssl genrsa -des3 -out server.key 1024</command>
</screen>

<programlisting>
Generating RSA private key, 1024 bit long modulus
.....................++++++
.................++++++
unable to write 'random state'
e is 65537 (0x10001)
Enter pass phrase for server.key:
</programlisting>

        <para>Sie können nun Ihr Passwort eingeben. Für bestmögliche Sicherheit sollte es mindestens 8 Zeichen enthalten. Bei der Spezifizierung von -des3 beträgt die minimale Länge 4 Zeichen. Es sollte Zahlen und/ oder Interpunktion enthalten und kein Wort aus einem Wörterbuch sein. Denken Sie auch daran, dass in Ihrem Passwort zwischen Groß- und Kleinschreibung unterschieden wird.</para>

        <para>Geben Sie das Passwort zur Überprüfung ein zweites Mal ein. Sobald Sie es nochmals korrekt eingegeben haben, wird der Server-Schlüssel erstellt und in der Datei <filename>server.key</filename> gespeichert.</para>
      
        <para>Erstellen Sie nun den unsicheren Schlüssel, also den ohne Passphrase, und tauschen Sie die Namen der Schlüssel:</para>

<screen>
<command>openssl rsa -in server.key -out server.key.insecure</command>
<command>mv server.key server.key.secure</command>
<command>mv server.key.insecure server.key</command>
</screen>

        <para>Der unsichere Schlüssel heißt nun <filename>server.key</filename>, und sie können diese Datei zur Generierung des CSR ohne Passphrase verwenden.</para>

        <para>Um das CSR zu erstellen, führen Sie folgenden Befehl in einem Terminal aus:</para>

<screen>
<command>openssl req -new -key server.key -out server.csr</command>
</screen>

        <para>Sie werden aufgefordert, das Passwort einzugeben. Wenn Sie das korrekte Passwort eingeben, werden Sie dazu aufgefordert, den Unternehmensnamen, den Namen der Webseite, Email, etc. einzugeben. Sobald Sie all diese Details eingeben, wird Ihr CSR erstellt und in der Datei <filename>server.csr</filename> gespeichert.</para>
	<para>Sie können nun dieses CSR an eine Zertifizierungsstelle senden. Die Zertifizierungsstelle wird dieses CSR benutzen und das Zertifikat herausgeben. Sie können aber auch ein selbst-signiertes Zertifikat mit diesem CSR erstellen.</para>
        
	</sect2>
        <sect2 id="creating-a-self-signed-certificate" status="review">
          <title>Erstellen eines selbst-signierten Zertifikats</title>
            <para>Um ein selbst-signiertes Zertifikat zu erstellen, führen Sie folgenden Befehl in einem Terminal aus:</para>
<screen>
<command>openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</command>
</screen>

            <para>Sie werden zur Eingabe des Passworts aufgefordert. Sobald Sie das korrekte Passwort eingeben, wird Ihr Zertifikat erstellt und in der Datei <filename>server.crt</filename> abgelegt.</para>
        <warning>
        <para>Wenn Ihr sicherer Server in einer Produktivumgebung benutzt wird, benötigen Sie wahrscheinlich ein von einer Zertifizierungsstelle signiertes Zertifikat. Es wird nicht empfohlen, selbst-signierte Zertifikate zu verwenden.</para>
        </warning>
        </sect2>
        <sect2 id="installing-the-certificate" status="review">
          <title>Installation des Zertifikats</title>

            <para>Sie können die Schlüsseldatei <filename>server.key</filename> und Zertifikatdatei <filename>server.crt</filename> oder das von Ihrer Zertifizierungsstelle herausgegebene Zertifikat installieren, indem Sie folgende Befehle in einem Terminal ausführen:</para>
<screen>
<command>sudo cp server.crt /etc/ssl/certs</command>
<command>sudo cp server.key /etc/ssl/private</command>
</screen>
        <para>Nun konfigurieren Sie einfach jede Anwendung mit der Fähigkeit, Verschlüsselung mit öffentlichen Schlüsseln so, dass sie die <emphasis>certificate</emphasis>- und <emphasis>key</emphasis>-Dateien benutzen. Beispielsweise kann <application>Apache</application> HTTPS bieten, <application>Dovecot</application> kann IMAPS und POP3S, etc. bieten.</para>
        </sect2>
        <sect2 id="certificate-authority" status="review">
          <title>Zertifizierungsstelle</title>

          <para>Wenn die Dienste in Ihrem Netzwerk mehr als einige selbst-signierte Zertifikate erfordern, wäre es sinnvoll, Ihre eigene interne <emphasis>Zertifizierungsstelle</emphasis> einzurichten. Die Nutzung von Zertifikaten, die von Ihrer eigenen Zertifizierungsstelle signiert wurden, erlaubt es verschiedenen Diensten, die diese Zertifikate nutzen, anderen Diensten die diese Zertifikate ebenfalls nutzen, leichter zu vertrauen.</para>

          <procedure>
            <step>
  
              <para>Erstellen Sie zuerst die Ordner, die alle Dateien rund um die Zertifizierungsstelle beinhalten:</para>    

<screen>
<command>sudo mkdir /etc/ssl/CA</command>
<command>sudo mkdir /etc/ssl/newcerts</command>
</screen>

            </step>
            <step>
  
              <para>Die Zertifizierungsstelle (CA) benötigt einige zusätzliche Dateien um zu arbeiten. Eine, um die von der CA benutzte Seriennummer zu verfolgen (jedes Zertifikat muss eine individuelle Seriennummer besitzen) und eine weitere, um aufzuzeichnen, welche Zertifikate herausgegeben wurden:</para>    

<screen>
<command>sudo sh -c "echo '01' &gt; /etc/ssl/CA/serial"</command>
<command>sudo touch /etc/ssl/CA/index.txt</command>
</screen>

            </step>
            <step>
  
              <para>Die dritte Datei ist eine CA-Konfigurationsdatei. Obwohl sie nicht unbedingt notwendig ist, ist es sehr nützlich bei der Herausgabe mehrerer Zertifikate. Editieren Sie <filename>/etc/ssl/openssl.cnf</filename> und ändern Sie in <emphasis>[ CA_default ]</emphasis>:</para>    

<programlisting>
dir             = /etc/ssl/             # Where everything is kept
database        = $dir/CA/index.txt     # database index file.
certificate     = $dir/certs/cacert.pem # The CA certificate
serial          = $dir/CA/serial        # The current serial number
private_key     = $dir/private/cakey.pem# The private key
</programlisting>    

            </step>
            <step>
  
              <para>Erstellen Sie als nächstes das selbst-signierte root-Zertifikat:</para>    

<screen>
<command>openssl req -new -x509 -extensions v3_ca -keyout cakey.pem -out cacert.pem -days 3650</command>
</screen>

              <para>Sie werden dann aufgefordert, die Details über das Zertifikat einzugeben.</para>

            </step>
            <step>
  
              <para>Installieren Sie nun das root-Zertifikat und den Schlüssel:</para>    

<screen>
<command>sudo mv cakey.pem /etc/ssl/private/</command>
<command>sudo mv cacert.pem /etc/ssl/certs/</command>
</screen>

            </step>
            <step>
  
              <para>Sie sind nun in der Lage, Zertifikate zu signieren. Das erste benötigte Element ist ein Antrag zur Signierung eines Zertifikats (CSR), siehe <xref linkend="generating-a-csr"/> für weitere Details. Sobald Sie den CSR haben, geben Sie folgendes ein, ein von der CA-signiertes Zertifikat zu generieren:</para>    

<screen>
<command>sudo openssl ca -in server.csr -config /etc/ssl/openssl.cnf</command>
</screen>

              <para>Nachdem Sie das Passwort für den CA-Schlüssel eingeben haben, werden Sie aufgefordert, das Zertifikat zu signieren und das neue Zertifikat anzuerkennen. Sie sollten dann eine größere Ausgabe sehen, die mit der Erstellung des Zertifikats zusammenhängt.</para>

            </step>
            <step>
  
              <para>Nun sollte es eine neue Datei namens <filename>/etc/ssl/newcerts/01.pem</filename> geben, die diese Ausgabe enthält. Kopieren Sie alles zwischen den Zeilen <emphasis>-----BEGIN CERTIFICATE-----</emphasis> und <emphasis>----END CERTIFICATE-----</emphasis> in eine Datei, die nach dem Hostnamen des Servers benannt ist, auf dem das Zertifikat installiert werden soll. <filename>mail.example.com.crt</filename> ist beispielsweise ein guter, aussagekräftiger Dateiname.</para>    

              <para>Nachfolgende Zertifikate werden mit <filename>02.pem</filename>, <filename>03.pem</filename>, etc. benannt.</para>

              <note>
                <para>Ersetzen Sie <emphasis>mail.example.com.crt</emphasis> mit Ihrem eigenen aussagekräftigen Dateinamen.</para>
              </note>

            </step>
            <step>
  
              <para>Kopieren Sie schließlich das neue Zertifikat auf den Host, der es benötigt und konfigurieren Sie die entsprechenden Anwendungen, um es zu benutzen. Der vorgegebene Ort zur Installation von Zertifikaten ist <filename role="directory">/etc/ssl/certs</filename>. Dies erlaubt es verschiedenen Diensten, das gleiche Zertifikat ohne zu komplizierte Dateifreigaben zu benutzen.</para>    

              <para>Für Anwendungen, die konfiguriert werden können, ein CA-Zertifikat zu nutzen, sollten Sie auch die Datei <filename>/etc/ssl/certs/cacert.pem</filename> in den Ordner <filename role="directory">/etc/ssl/certs/</filename> auf jedem Server kopieren.</para>

            </step>
          </procedure>

        </sect2>
        <sect2 id="certificate-references" status="review">
          <title>Referenzen</title>
          <itemizedlist>
            <listitem>
              <para>Weitere Informationen über die Benutzung von Verschlüsselung finden Sie unter <ulink url="http://tldp.org/HOWTO/SSL-Certificates-HOWTO/index.html">SSL Certificates HOWTO</ulink> von tlpd.org.</para>
            </listitem>
            <listitem>
              <para><ulink url="http://www.pki-page.org/">The PKI Page</ulink> beinhaltet eine Liste von Zertifizierungsstellen (CA).</para>
            </listitem>
            <listitem>
              <para>Die Wikipedia <ulink url="http://en.wikipedia.org/wiki/Https">HTTPS</ulink>-Seite (englisch) enthält mehr Informationen über HTTPS.</para>
            </listitem>
            <listitem>
              <para>Weitere Informationen über <emphasis>OpenSSL</emphasis> finden Sie unter <ulink url="http://www.openssl.org/">OpenSSL Home Page</ulink>.</para>
            </listitem>
            <listitem>
              <para>O'Reilly's <ulink url="http://oreilly.com/catalog/9780596002701/">Network Security with OpenSSL</ulink> ist ebenfalls eine gute, tiefer gehende Literaturquelle.</para>
            </listitem>
          </itemizedlist>
        </sect2>
        </sect1>
        <sect1 id="ecryptfs" status="review">
          <title>eCryptfs</title>
          
          <para><emphasis>eCryptfs</emphasis> ist ein POSIX-konformes ausgereiftes verschlüsselndes Dateisystem für Linux.  Als weitere Schicht über der Dateisystemschicht schützt <emphasis>eCryptfs</emphasis> die Daten unabhängig vom zugrunde liegenden Dateisystem, Partitionstyp usw.</para>

          <para>Während der Installation erhalten Sie die Möglichkeit, die <filename role="directory">/home</filename>-Partition zu verschlüsseln. Dabei werden die zum Verschlüsseln und Einbinden der Partition nötigen Konfigurationsschritte automatisch vorgenommen.</para>

          <para>Als Beispiel wird in diesem Abschnitt die Konfiguration der Verschlüsselung von <filename role="directory">/srv</filename> mittels eCryptfs behandelt.</para>

          <sect2 id="ecryptfs-usage" status="review">
            <title>Benutzung von eCryptfs</title>

            <para>Zuerst müssen Sie die notwendigen Pakete installieren. Geben Sie Folgendes in der Befehlszeile ein:</para>

<screen>
<command>sudo apt-get install ecryptfs-utils</command>
</screen>

            <para>Binden Sie jetzt die zu verschlüsselnde Partition ein:</para>

<screen>
<command>sudo mount -t ecryptfs /srv /srv</command>
</screen>

            <para>Danach werden Sie nach einigen Details dazu gefragt, wie <application>ecryptfs</application> die Daten verschlüsseln soll.</para>
         
            <para>Um zu überprüfen, dass in <filename>/srv</filename> gespeicherte Dateien tatsächlich verschlüsselt werden, kopieren Sie den Ordner <filename>/etc/default</filename> in den Ordner <filename>/srv</filename>.</para>

<screen>
<command>sudo cp -r /etc/default /srv</command>
</screen>

            <para>Hängen Sie jetzt <filename>/srv</filename> aus und versuchen Sie, eine Datei zu lesen:</para>

<screen>
<command>sudo umount /srv</command>
<command>cat /srv/default/cron</command>
</screen>

            <para>Das Wiedereinbinden von <filename>/srv</filename> mittels <application>ecryptfs</application> macht die Daten wieder lesbar.</para>
     
          </sect2>
          <sect2 id="ecryptfs-automount" status="review">
            <title>Automatisches Einbinden veschlüsselter Partitionen</title>
            
            <para>Es gibt einige Möglichkeiten, ein mit <application>ecryptfs</application> verschlüsseltes Dateisystem während des Bootvorgangs zu laden. In diesem Beispiel wird eine Datei namens <filename>/root/.ecryptfsrc</filename> mit mount-Parametern zusammen mit einem auf einem USB-Schlüssel befindlichen Passwort verwendet.</para>

            <para>Erstellen Sie zunächst die Datei <filename>/root/.ecryptfsrc</filename> mit folgendem Inhalt:</para>

<programlisting>
key=passphrase:passphrase_passwd_file=/mnt/usb/passwd_file.txt
ecryptfs_sig=5826dd62cf81c615
ecryptfs_cipher=aes
ecryptfs_key_bytes=16
ecryptfs_passthrough=n
ecryptfs_enable_filename_crypto=n
</programlisting>

            <note>
              <para>Passen Sie <emphasis>ecryptfs_sig</emphasis> entsprechend der Signatur in <filename>/root/.ecryptfs/sig-cache.txt</filename> an.</para>
            </note>

            <para>Erstellen Sie als nächstes die Passwort-Datei <filename>/mnt/usb/passwd_file.txt</filename>:</para>

<programlisting>
passphrase_passwd=[Geheimnis]
</programlisting>

            <para>Fügen Sie jetzt der Datei <filename>/etc/fstab</filename> die notwendigen Zeilen hinzu:</para>

<programlisting>
/dev/sdb1       /mnt/usb        ext3    ro      0 0
/srv /srv ecryptfs defaults 0 0
</programlisting>

            <para>Stellen Sie sicher, dass das USB-Medium vor der verschlüsselten Partition eingebunden wird.</para>

            <para>Starten Sie nun neu. <filename>/srv</filename> sollte unter Benutzung von ecryptfs eingebunden werden.</para>
            
          </sect2>
          <sect2 id="ecryptfs-other-utils" status="review">
            <title>Andere Werkzeuge</title>

            <para>Das Paket <application>ecryptfs-utils</application> enthält einige nützliche Werkzeuge:</para>

            <itemizedlist>
              <listitem>
                <para><emphasis>ecryptfs-setup-private:</emphasis> erstellt einen Ordner <filename>~/Private</filename>, der verschlüsselte Informationen enthält. Dieses Werkzeug kann von unprivilegierten Benutzern ausgeführt werden, um Daten vor anderen Benutzern desselben Systems geheim zu halten.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-mount-private und ecryptfs-umount-private:</emphasis> binden den <filename>~/Private</filename>-Benutzerordner ein beziehungsweise hängen ihn wieder aus.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-add-passphrase:</emphasis> fügt dem Kernel-Schlüsselbund ein neues Passwort hinzu.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-manager:</emphasis> verwaltet <application>eCryptfs</application>-Objekte wie z.B. Schlüssel.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-stat:</emphasis> ermöglicht Ihnen, die <application>ecryptfs</application>-Metainformationen zu einer Datei zu betrachten.</para>
              </listitem>
            </itemizedlist>

          </sect2>
          <sect2 id="ecryptfs-references" status="review">
            <title>Referenzen</title>
            
            <itemizedlist>
              <listitem>
                <para>Mehr Informationen zu eCryptfs finden Sie auf der <ulink url="https://launchpad.net/ecryptfs">Launchpad-Projektseite (englisch)</ulink>.</para>
              </listitem>
              <listitem>
                <para>Es existiert auch ein <ulink url="http://www.linuxjournal.com/article/9400">Linux Journal</ulink>-Artikel (ebenfalls englisch) zum Thema.</para>
              </listitem>
              <listitem>
                <para>Mehr Einstellungsmöglichkeiten von <application>ecryptfs</application> finden Sie auf der <ulink url="http://manpages.ubuntu.com/manpages/jaunty/en/man7/ecryptfs.7.html">ecryptfs-Handbuchseite</ulink>.</para>
              </listitem>
            </itemizedlist>

          </sect2>
        </sect1>
    </chapter>
