<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../libs/global.ent">
<!-- NAMES --><!ENTITY canonical-name "Canonical Ltd.">
<!ENTITY project-name "Ubuntu Documentation Project">
<!ENTITY ubuntu "<phrase>Ubuntu</phrase>">
<!ENTITY sg-title "Server Guide">
<!-- VERSIONS --><!ENTITY distro-version "Jaunty Jackalope">
<!ENTITY distro-rev "9.04">
<!ENTITY distro-release-date "April 2009">
<!ENTITY distro-short-codename "jaunty">
<!ENTITY distro-apt-cd-name "Ubuntu 9.04_Jaunty_Jackalope">
<!ENTITY linux-kernel-version "2.6.27">
<!ENTITY gcc-version "4.3.1">
<!ENTITY glibc-version "2.8">
<!ENTITY python-version "2.5">
<!ENTITY glossary SYSTEM "../common/C/glossary.xml">
<!-- LEGAL URLs --><!ENTITY legalnotice SYSTEM "../libs/C/legalnotice.xml">
<!ENTITY gpl-url '<ulink url="http://www.gnu.org/licenses/gpl.html">GNU General Public License</ulink>'>
<!ENTITY cc "http://creativecommons.org/">
<!ENTITY cc-attrib '<ulink url="http://creativecommons.org/licenses/by-sa/2.5/">Attribution-ShareAlike 2.5</ulink>'>
<!ENTITY cc-fulldeed-url "http://creativecommons.org/licenses/by-sa/2.5/legalcode/">
<!ENTITY fdl-url '<ulink url="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</ulink>'>
<!ENTITY cc-disclaimer-url "http://creativecommons.org/licenses/disclaimer-popup?lang=en">
<!-- CANONICAL URL RESOURCES --><!ENTITY canonical-url "http://www.canonical.com">
<!-- OTHER UBUNTU RELATED RESOURCES --><!ENTITY upstart-url "http://upstart.ubuntu.com">
<!-- UBUNTU IRC INFORMATION --><!ENTITY irc-network "Freenode">
<!ENTITY irc-server "irc.ubuntu.com">
<!ENTITY ubuntu-irc "irc.ubuntu.com channel #ubuntu">
<!ENTITY kubuntu-irc "irc.ubuntu.com channel #kubuntu">
<!ENTITY xubuntu-irc "irc.ubuntu.com channel #xubuntu">
<!ENTITY edubuntu-irc "irc.ubuntu.com channel #edubuntu">
<!-- UBUNTU URL RESOURCES --><!ENTITY ubuntu-packages "http://packages.ubuntu.com">
<!ENTITY ubuntu-web "http://www.ubuntu.com">
<!ENTITY ubuntu-main "http://www.ubuntu.com">
<!ENTITY ubuntu-download "http://www.ubuntu.com/download">
<!ENTITY ubuntu-forums "http://www.ubuntu.com/community/forums">
<!ENTITY ubuntu-components "http://www.ubuntu.com/ubuntu/components">
<!ENTITY ubuntu-lists "http://lists.ubuntu.com">
<!ENTITY ubuntu-wiki "http://wiki.ubuntu.com">
<!ENTITY ubuntu-bugzilla "https://launchpad.net/distros/ubuntu/+bugs">
<!ENTITY ubuntu-doc-bugs "https://launchpad.net/products/ubuntu-doc/+bugs">
<!ENTITY ubuntu-support "http://www.ubuntu.com/support">
<!ENTITY ubuntu-paidsupport "http://www.ubuntu.com/support/paid">
<!ENTITY ubuntu-freesupport "http://www.ubuntu.com/support/free">
<!ENTITY ubuntu-comments "http://www.ubuntuforums.org/showthread.php?p=21787">
<!ENTITY ubuntu-documentation "http://help.ubuntu.com">
<!ENTITY ubuntu-documentation-repos "https://docteam.ubuntu.com/repos/trunk">
<!ENTITY ubuntu-doc-team "https://wiki.ubuntu.com/DocumentationTeam">
<!ENTITY ubuntu-doc-list "http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc">
<!ENTITY ubuntu-shipit "http://shipit.ubuntu.com">
<!ENTITY ubuntu-launchpad "https://launchpad.ubuntu.com">
<!ENTITY ubuntu-rosetta "https://launchpad.ubuntu.com/rosetta">
<!ENTITY ubuntu-planet "http://planet.ubuntu.com">
<!ENTITY ubuntu-philosophy "http://www.ubuntu.com/ubuntu/philosophy">
<!ENTITY ubuntu-participate "http://www.ubuntu.com/community/participate/">
<!ENTITY ubuntu-marketplace "http://www.ubuntu.com/support/marketplace">
<!ENTITY ubuntu-hwdb "http://hwdb.ubuntu.com">
<!-- UBUNTU WIKI RESOURCES --><!ENTITY wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY restricted-formats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-RestrictedFormats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-XChatHowto "https://help.ubuntu.com/community/XChatHowto">
<!ENTITY wiki-RootSudo "https://help.ubuntu.com/community/RootSudo">
<!ENTITY wiki-HowToGetHelp "https://help.ubuntu.com/community/HowToGetHelp">
<!ENTITY transcode "https://help.ubuntu.com/community/DVDRippingandEncoding">
<!ENTITY wiki-Wine "https://help.ubuntu.com/community/Wine">
<!ENTITY wiki-Cedega "https://help.ubuntu.com/community/Cedega">
<!ENTITY wiki-Nano "https://help.ubuntu.com/community/NanoHowto">
<!ENTITY wiki-locoteams "https://wiki.ubuntu.com/LoCoTeamList">
<!ENTITY wiki-BasicCommands "https://help.ubuntu.com/community/BasicCommands">
<!ENTITY wiki-filepermissions "https://help.ubuntu.com/community/FilePermissions">
<!-- KUBUNTU URL RESOURCES --><!ENTITY kubuntu-web "http://www.kubuntu.org">
<!ENTITY kubuntu-main "http://www.kubuntu.org">
<!ENTITY kubuntu-download "http://releases.ubuntu.com/kubuntu/">
<!ENTITY kubuntu-packages "http://packages.ubuntu.com/edgy/">
<!ENTITY kubuntu-cdpackages-nodefault "http://people.ubuntu.com/~cjwatson/seeds/kubuntu-edgy/ship">
<!ENTITY kubuntu-lists "http://lists.ubuntu.com/archives/kubuntu-users/">
<!ENTITY kubuntu-lists-users "http://lists.ubuntu.com/mailman/listinfo/kubuntu-users/">
<!ENTITY kubuntu-lists-devel "http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel/">
<!ENTITY kubuntu-mirrors "http://distrowatch.com/kubuntu">
<!ENTITY kubuntu-forums "http://kubuntuforums.net">
<!ENTITY kubuntu-wiki "https://wiki.kubuntu.org">
<!ENTITY kubuntu-documentation-site "http://www.kubuntu.org/documentation.php">
<!ENTITY kubuntu-wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY kubuntu-support "http://www.kubuntu.org/support.php">
<!-- XUBUNTU URL RESOURCES --><!ENTITY xubuntu-web "http://www.xubuntu.org">
<!ENTITY xubuntu-main "http://www.xubuntu.org">
<!ENTITY xubuntu-web-help "http://www.xubuntu.org/help">
<!-- DEBIAN RESOURCES --><!ENTITY debian-apt "http://www.debian.org/doc/user-manuals#apt-howto">
<!-- EXTERNAL URL RESOURCES --><!ENTITY linmodem "http://www.linmodems.org/">
<!ENTITY gnome "http://www.gnome.org/">
<!ENTITY linuxorg "http://www.linux.org/">
<!ENTITY ooo "http://www.openoffice.org/">
<!ENTITY kde "http://www.kde.org/">
<!ENTITY lugww "http://lugww.counter.li.org/">
<!ENTITY ubuntu-watch "http://distrowatch.com/ubuntu/">
<!ENTITY realplayer-download "http://www.real.com/linux/">
<!ENTITY nvu-download "http://www.nvu.com/download.html">
<!ENTITY sunjava-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY xorg "http://www.x.org">
<!ENTITY dyndns "http://www.dyndns.org">
<!ENTITY shoutcast "http://www.shoutcast.com/">
<!ENTITY freedomtoaster "http://www.freedomtoaster.org/">
<!ENTITY xfce "http://www.xfce.org/">
<!-- ubuntu-screenshots TODO --><!ENTITY kubuntu-screenshots "http://shots.osdir.com/">
<!ENTITY mozilla "http://www.mozilla.org/">
<!ENTITY mozilla-firefox "http://www.mozilla.org/products/firefox/">
<!ENTITY gnu "http://www.gnu.org/">
<!ENTITY gnu-philosophy "http://www.gnu.org/philosophy/">
<!ENTITY win4lin "http://www.win4lin.com">
<!ENTITY codeweavers "http://www.codeweavers.com">
<!ENTITY kernel "http://www.kernel.org">
<!ENTITY google "http://www.google.com">
<!ENTITY kdelook " http://www.kde-look.org">
<!ENTITY lulu-store "http://www.lulu.com/ubuntu-doc">
<!-- this entity controls the url for addons--><!ENTITY java-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY skype-deb "skype_1.2.0.17-1_i386.deb">
<!ENTITY skype-download "http://www.skype.com/go/getskype-linux-deb">
<!ENTITY scanmodem-gz "scanModem.gz">
<!ENTITY scanmodem-url "http://linmodems.technion.ac.il/packages/scanModem.gz">
<!ENTITY ext2fs-url "http://www.fs-driver.org/index.html">
<!ENTITY mvb-tar "mvb_1.6.tgz">
<!ENTITY mvb-url "http://www.xscd.com/pub/mvb/&mvb-tar;">
<!-- TLDP --><!ENTITY ldp-pre-install-check "http://tldp.org/HOWTO/Pre-Installation-Checklist/">
<!-- LANGUAGES (sorted by two letter code)--><!ENTITY Afar "aa">
<!ENTITY Abkhazian "ab">
<!ENTITY Afrikaans "af">
<!ENTITY Amharic "af">
<!ENTITY Arabic "ar">
<!ENTITY Assamese "as">
<!ENTITY Aymara "ay">
<!ENTITY Azerbaijani "az">
<!ENTITY Bashkir "ba">
<!ENTITY Byelorussian "be">
<!ENTITY Bulgarian "bg">
<!ENTITY Bihari "bh">
<!ENTITY Bislama "bi">
<!ENTITY Bangla "bn">
<!ENTITY Bengali "bn">
<!ENTITY Tibetan "bo">
<!ENTITY Breton "br">
<!ENTITY Catalan "ca">
<!ENTITY Corsican "co">
<!ENTITY Czech "cs">
<!ENTITY Welsh "cy">
<!ENTITY Danish "da">
<!ENTITY German "de">
<!ENTITY Bhutani "dz">
<!ENTITY Greek "el">
<!-- <!ENTITY EnglishAmerican 'en'> --><!ENTITY EnglishAmerican "C">
<!ENTITY Esperanto "eo">
<!ENTITY Spanish "es">
<!ENTITY Estonian "et">
<!ENTITY Basque "eu">
<!ENTITY Persian "fa">
<!ENTITY Finnish "fi">
<!ENTITY Fiji "fj">
<!ENTITY Faeroese "fo">
<!ENTITY French "fr">
<!ENTITY Frisian "fy">
<!ENTITY Irish "ga">
<!ENTITY Gaelic "gd">
<!ENTITY ScotsGaelic "gd">
<!ENTITY Galician "gl">
<!ENTITY Guarani "gn">
<!ENTITY Gujarati "gu">
<!ENTITY Hausa "ha">
<!ENTITY Hindi "hi">
<!ENTITY Croatian "hr">
<!ENTITY Hungarian "hu">
<!ENTITY Armenian "hy">
<!ENTITY Interlingua "ia">
<!ENTITY Interlingue "ie">
<!ENTITY Inupiak "ik">
<!ENTITY Indonesian "in">
<!ENTITY Icelandic "is">
<!ENTITY Italian "it">
<!ENTITY Hebrew "iw">
<!ENTITY Japanese "ja">
<!ENTITY Yiddish "ji">
<!ENTITY Javanese "jw">
<!ENTITY Georgian "ka">
<!ENTITY Kazakh "kk">
<!ENTITY Greenlandic "kl">
<!ENTITY Cambodian "km">
<!ENTITY Kannada "kn">
<!ENTITY Korean "ko">
<!ENTITY Kashmiri "ks">
<!ENTITY Kurdish "ku">
<!ENTITY Kirghiz "ky">
<!ENTITY Latin "la">
<!ENTITY Lingala "ln">
<!ENTITY Laothian "lo">
<!ENTITY Lithuanian "lt">
<!ENTITY Latvian "lv">
<!ENTITY Lettish "lv">
<!ENTITY Malagasy "mg">
<!ENTITY Maori "mi">
<!ENTITY Macedonian "mk">
<!ENTITY Malayalam "ml">
<!ENTITY Mongolian "mn">
<!ENTITY Moldavian "mo">
<!ENTITY Marathi "mr">
<!ENTITY Malay "ms">
<!ENTITY Maltese "mt">
<!ENTITY Burmese "my">
<!ENTITY Nauru "na">
<!ENTITY Nepali "ne">
<!ENTITY Dutch "nl">
<!ENTITY Norwegian "no">
<!ENTITY Occitan "oc">
<!ENTITY Afan "om">
<!ENTITY Oromo "om">
<!ENTITY Oriya "or">
<!ENTITY Punjabi "pa">
<!ENTITY Polish "pl">
<!ENTITY Pushto "ps">
<!ENTITY Pashto "ps">
<!ENTITY Portuguese "pt">
<!ENTITY Quechua "qu">
<!ENTITY Rhaeto-Romance "rm">
<!ENTITY Kirundi "rn">
<!ENTITY Romanian "ro">
<!ENTITY Russian "ru">
<!ENTITY Kinyarwanda "rw">
<!ENTITY Sanskrit "sa">
<!ENTITY Sindhi "sd">
<!ENTITY Sangro "sg">
<!ENTITY Serbo-Croatian "sh">
<!ENTITY Singhalese "si">
<!ENTITY Slovak "sk">
<!ENTITY Slovenian "sl">
<!ENTITY Samoan "sm">
<!ENTITY Shona "sn">
<!ENTITY Somali "so">
<!ENTITY Albanian "sq">
<!ENTITY Serbian "sr">
<!ENTITY Siswati "ss">
<!ENTITY Sesotho "st">
<!ENTITY Sudanese "su">
<!ENTITY Swedish "sv">
<!ENTITY Swahili "sw">
<!ENTITY Tamil "ta">
<!ENTITY Tegulu "te">
<!ENTITY Tajik "tg">
<!ENTITY Thai "th">
<!ENTITY Tigrinya "ti">
<!ENTITY Turkmen "tk">
<!ENTITY Tagalog "tl">
<!ENTITY Setswana "tn">
<!ENTITY Tonga "to">
<!ENTITY Turkish "tr">
<!ENTITY Tsonga "ts">
<!ENTITY Tatar "tt">
<!ENTITY Twi "tw">
<!ENTITY Ukrainian "uk">
<!ENTITY Urdu "ur">
<!ENTITY Uzbek "uz">
<!ENTITY Vietnamese "vi">
<!ENTITY Volapuk "vo">
<!ENTITY Wolof "wo">
<!ENTITY Xhosa "xh">
<!ENTITY Yoruba "yo">
<!ENTITY Chinese "zh">
<!ENTITY Zulu "zu">
<!ENTITY % gnome-menus-C SYSTEM "../../libs/gnome-menus-C.ent">
<!-- MENUS --><!-- Please keep entries alphabetical, it makes them much easier to find & use --><!ENTITY about-me "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>About-me</guimenuitem></menuchoice>">
<!ENTITY accessories "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem></menuchoice>">
<!ENTITY acro-read "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Acrobat Reader</guimenuitem></menuchoice>">
<!ENTITY administration "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem></menuchoice>">
<!ENTITY aisleriot "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>AisleRiot Solitaire</guimenuitem></menuchoice>">
<!ENTITY amule "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY anjuta-ide "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Anjuta IDE</guimenuitem></menuchoice>">
<!ENTITY archive-man "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Archive Manager</guimenuitem></menuchoice>">
<!ENTITY assistive-technology-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Assistive Technology Support</guimenuitem></menuchoice>">
<!ENTITY audacity "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Audacity</guimenuitem></menuchoice>">
<!ENTITY azureus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Azureus</guimenuitem></menuchoice>">
<!ENTITY baobab "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Disk Usage Analyzer</guimenuitem></menuchoice>">
<!ENTITY bittorrent "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Bittorrent</guimenuitem></menuchoice>">
<!ENTITY blender3d "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Blender 3d modeller</guimenuitem></menuchoice>">
<!ENTITY bluefish "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Bluefish Editor</guimenuitem></menuchoice>">
<!ENTITY boot "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Boot</guimenuitem></menuchoice>">
<!ENTITY brasero "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Brasero Disc Burning</guimenuitem></menuchoice>">
<!ENTITY bum "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Boot-up Manager</guimenuitem></menuchoice>">
<!ENTITY bzrgtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Olive bazaar Branch Manager</guimenuitem></menuchoice>">
<!ENTITY calculator "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Calculator</guimenuitem></menuchoice>">
<!ENTITY character-map "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Character Map</guimenuitem></menuchoice>">
<!ENTITY compizconfig "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>CompizConfig Settings Manager</guimenuitem></menuchoice>">
<!ENTITY computer "<menuchoice><guimenu>Places</guimenu><guimenuitem>Computer</guimenuitem></menuchoice>">
<!ENTITY connecttoserver "<menuchoice><guimenu>Places</guimenu><guimenuitem>Connect to Server...</guimenuitem></menuchoice>">
<!ENTITY cowbell "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Cowbell Music Organizer</guimenuitem>	</menuchoice>">
<!ENTITY chromium "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Chromium</guisubmenu></menuchoice>">
<!ENTITY computer-janitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guisubmenu>System Janitor</guisubmenu></menuchoice>">
<!ENTITY desktop-background "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Desktop Background</guimenuitem></menuchoice>">
<!ENTITY desktop-effects "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Appearance</guimenuitem><guimenuitem>Visual Effects</guimenuitem></menuchoice>">
<!ENTITY desktop-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem></menuchoice>">
<!ENTITY devhelp "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Devhelp</guimenuitem></menuchoice>">
<!ENTITY device-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Hardware Information</guimenuitem></menuchoice>">
<!ENTITY dictionary "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Dictionary</guimenuitem></menuchoice>">
<!ENTITY disks "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Disks</guimenuitem></menuchoice>">
<!ENTITY downloader-x "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Downloader for X</guimenuitem></menuchoice>">
<!ENTITY eclipse-ide "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Eclipse IDE</guimenuitem></menuchoice>">
<!ENTITY ekiga "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Internet</guimenuitem><guimenuitem>Ekiga Softphone</guimenuitem></menuchoice>">
<!ENTITY efax-gtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Office</guisubmenu><guimenuitem>Efax-gtk</guimenuitem></menuchoice>">
<!ENTITY etherape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Etherape</guimenuitem></menuchoice>">
<!ENTITY evolution-mail "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Evolution Mail</guimenuitem></menuchoice>">
<!ENTITY file-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>File Management</guimenuitem></menuchoice>">
<!ENTITY firefox "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Internet</guisubmenu><guimenuitem>Firefox Web Browser</guimenuitem></menuchoice>">
<!ENTITY firestarter-firewall-tool "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Firestarter</guimenuitem></menuchoice>">
<!ENTITY five-or-more "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Five or More</guimenuitem></menuchoice>">
<!ENTITY font "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Font</guimenuitem></menuchoice>">
<!ENTITY f-spot "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>F-Spot Photo Manager</guimenuitem></menuchoice>">
<!ENTITY frozen-bubble "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Frozen Bubble</guisubmenu></menuchoice> to play <application>Frozen Bubble</application>">
<!ENTITY gambas "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Gambas</guimenuitem></menuchoice>">
<!ENTITY games "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Games</guimenuitem></menuchoice>">
<!ENTITY gdesklets "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>gDesklets</guimenuitem></menuchoice>">
<!ENTITY gftp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>gFTP</guimenuitem></menuchoice>">
<!ENTITY gimp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>GIMP Image Editor</guimenuitem></menuchoice>">
<!ENTITY gnome-app-install "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Add/Remove...</guimenuitem></menuchoice>">
<!ENTITY gnome-config-editor "<screen><command>gconf-editor</command></screen>">
<!ENTITY gnome-sound-recorder "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Sound Recorder</guimenuitem></menuchoice>">
<!ENTITY gparted "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration </guisubmenu><guimenuitem>Gnome Partition Editor</guimenuitem></menuchoice>">
<!ENTITY graphics "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem></menuchoice>">
<!ENTITY gthumb "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>gThumb Image Viewer</guimenuitem></menuchoice>">
<!ENTITY gtkpod "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>gtkpod</guimenuitem></menuchoice>">
<!ENTITY gnucash "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>GnuCash Finance Management</guimenuitem></menuchoice>">
<!ENTITY gxine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>gxine</guimenuitem></menuchoice>">
<!ENTITY home-folder "<menuchoice><guimenu>Places</guimenu><guimenuitem>Home Folder</guimenuitem></menuchoice>">
<!ENTITY homebank "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>HomeBank</guimenuitem></menuchoice>">
<!ENTITY hubackup "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Backup</guimenuitem></menuchoice>">
<!ENTITY hurestore "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Restore</guimenuitem></menuchoice>">
<!ENTITY inkscape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Inkscape SVG Vector Illustrator</guimenuitem></menuchoice>">
<!ENTITY internet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem></menuchoice>">
<!ENTITY kdevelop "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>KDevelop</guimenuitem></menuchoice>">
<!ENTITY keyboard "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard</guimenuitem></menuchoice>">
<!ENTITY keyboard-shortcuts "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard Shortcuts</guimenuitem></menuchoice>">
<!ENTITY language-support "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Language Support</guimenuitem></menuchoice>">
<!ENTITY liferea "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Liferea Feed Reader</guimenuitem></menuchoice>">
<!ENTITY limewire "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>LimeWire</guimenuitem></menuchoice>">
<!ENTITY lockscreen "<menuchoice><guimenu>System</guimenu><guimenuitem>Lock Screen</guimenuitem></menuchoice>">
<!ENTITY login-screen-setup "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Login Window</guimenuitem></menuchoice>">
<!ENTITY mahjongg "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Mahjongg</guimenuitem></menuchoice>">
<!ENTITY menu-editor "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>Applications Menu Editor</guimenuitem></menuchoice>">
<!ENTITY menus-and-toolbars "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Menus &amp; Toolbars</guimenuitem></menuchoice>">
<!ENTITY monodevelop "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDevelop</guimenuitem></menuchoice>">
<!ENTITY monodoc "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDoc</guimenuitem></menuchoice>">
<!ENTITY mouse "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Mouse</guimenuitem></menuchoice>">
<!ENTITY mtink "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>mtink</guimenuitem></menuchoice>">
<!ENTITY music "<menuchoice><guimenu>Places</guimenu><guimenuitem>Music</guimenuitem></menuchoice>">
<!ENTITY multimedia-systems-selector "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Multimedia Systems Selector</guimenuitem></menuchoice>">
<!ENTITY ndisgtk "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Windows Wireless Drivers</guimenuitem></menuchoice>">
<!ENTITY network-proxy "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Network Proxy</guimenuitem></menuchoice>">
<!ENTITY network-tools "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network Tools</guimenuitem></menuchoice>">
<!ENTITY networking "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY network-servers "<menuchoice><guimenu>Places</guimenu><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY neverball "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverball</guisubmenu></menuchoice>">
<!ENTITY neverputt "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverputt</guisubmenu></menuchoice>">
<!ENTITY nexuiz "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Nexuiz</guisubmenu></menuchoice>">
<!ENTITY open-office "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem></menuchoice>">
<!ENTITY openoffice-base "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Database</guimenuitem></menuchoice>">
<!ENTITY openoffice-draw "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>OpenOffice.org Draw</guimenuitem></menuchoice>">
<!ENTITY openoffice-presentation "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Presentation</guimenuitem></menuchoice>">
<!ENTITY openoffice-spreadsheet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Spreadsheet</guimenuitem></menuchoice>">
<!ENTITY openoffice-writer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Word Processor</guimenuitem></menuchoice>">
<!ENTITY palmos-devices "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>PalmOS Devices</guimenuitem></menuchoice>">
<!ENTITY pan "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pan Newsreader</guimenuitem></menuchoice>">
<!ENTITY photoprint "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>PhotoPrint</guimenuitem></menuchoice>">
<!ENTITY pidgin "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pidgin Internet Messenger</guimenuitem></menuchoice>">
<!ENTITY power-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Power Management</guimenuitem></menuchoice>">
<!ENTITY ppracer "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Planet Penguin Racer</guisubmenu></menuchoice>">
<!ENTITY preferences "<menuchoice><guimenu>System</guimenu><guisubmenu>Preferences</guisubmenu></menuchoice>">
<!ENTITY preferred-applications "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Preferred Applications</guimenuitem></menuchoice>">
<!ENTITY print "<menuchoice><guimenu>File</guimenu><guimenuitem>Print</guimenuitem></menuchoice>">
<!ENTITY printing "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Printing</guimenuitem></menuchoice>">
<!ENTITY qtparted "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem><guimenuitem>QTParted</guimenuitem></menuchoice>">
<!ENTITY remote-desktop "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Remote Desktop</guimenuitem></menuchoice>">
<!ENTITY removable-drives-and-media "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Removable Drives and Media</guimenuitem></menuchoice>">
<!ENTITY realplayer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>RealPlayer 11</guimenuitem></menuchoice>">
<!ENTITY restricted-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Hardware Drivers</guimenuitem></menuchoice>">
<!ENTITY rhythmbox "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Rhythmbox Music Player</guimenuitem></menuchoice>">
<!ENTITY route-planner "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY scorched3d "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guimenuitem>Scorched 3D</guimenuitem></menuchoice>">
<!ENTITY screen-resolution "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screen Resolution</guimenuitem></menuchoice>">
<!ENTITY screensaver "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screensaver</guimenuitem></menuchoice>">
<!ENTITY scribus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>Scribus</guimenuitem></menuchoice>">
<!ENTITY serpentine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Serpentine Audio CD Creator</guimenuitem></menuchoice>">
<!ENTITY services "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Services</guimenuitem></menuchoice>">
<!ENTITY sessions "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sessions</guimenuitem></menuchoice>">
<!ENTITY shared-folders "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Shared Folders</guimenuitem></menuchoice>">
<!ENTITY skype "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Skype</guimenuitem></menuchoice>">
<!ENTITY software-properties "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY software-sources "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY sound "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sound</guimenuitem></menuchoice>">
<!ENTITY soundandvideo "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem></menuchoice>">
<!ENTITY soundjuicer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Audio CD Extractor</guimenuitem></menuchoice>">
<!ENTITY supertux "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>SuperTux</guisubmenu></menuchoice>">
<!ENTITY shutdown "<menuchoice><guimenu>System</guimenu><guimenuitem>Shut Down...</guimenuitem></menuchoice>">
<!ENTITY synaptic "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Synaptic Package Manager</guimenuitem></menuchoice>">
<!ENTITY system-monitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>System Monitor</guimenuitem></menuchoice>">
<!ENTITY systemtools "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem></menuchoice>">
<!ENTITY terminal "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Terminal</guimenuitem></menuchoice>">
<!ENTITY text-editor "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Text Editor</guimenuitem></menuchoice>">
<!ENTITY theme "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Theme</guimenuitem></menuchoice>">
<!ENTITY thunderbird "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Mozilla Thunderbird Mail/News</guimenuitem></menuchoice>">
<!ENTITY time-date "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Time and Date</guimenuitem></menuchoice>">
<!ENTITY totem "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Movie Player</guimenuitem></menuchoice>">
<!ENTITY touchpad "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Touchpad</guimenuitem></menuchoice>">
<!ENTITY tremulous "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Tremulous</guisubmenu></menuchoice>">
<!ENTITY ubuntu-update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Ubuntu Update Manager</guimenuitem></menuchoice>">
<!ENTITY update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Update Manager</guimenuitem></menuchoice>">
<!ENTITY users "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY users-groups "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY windows "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Windows</guimenuitem></menuchoice>">
<!ENTITY wireshark "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Wireshark</guimenuitem></menuchoice>">
<!ENTITY xchat-gnome "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Xchat-GNOME IRC Chat</guimenuitem></menuchoice>">
<!ENTITY xine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>xine</guimenuitem></menuchoice>">
<!ENTITY xmms "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>XMMS</guimenuitem></menuchoice>">
<!ENTITY xsane "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>XSane Image Scanner</guimenuitem></menuchoice>">
<!ENTITY % xinclude SYSTEM "../../libs/xinclude.mod">
<!ELEMENT xi:include (xi:fallback)?>
<!ATTLIST xi:include xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ATTLIST xi:include href CDATA #REQUIRED>
<!ATTLIST xi:include parse (xml | text) "xml">
<!ATTLIST xi:include xpointer CDATA #IMPLIED>
<!ATTLIST xi:include encoding CDATA #IMPLIED>
<!ATTLIST xi:include accept CDATA #IMPLIED>
<!ATTLIST xi:include accept-charset CDATA #IMPLIED>
<!ATTLIST xi:include accept-language CDATA #IMPLIED>
<!ELEMENT xi:fallback ANY>
<!ATTLIST xi:fallback xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ENTITY % local.preface.class "| xi:include">
<!ENTITY % local.part.class "| xi:include">
<!ENTITY % local.chapter.class "| xi:include">
<!ENTITY % local.divcomponent.mix "| xi:include">
<!ENTITY % local.para.char.mix "| xi:include">
<!ENTITY % local.info.class "| xi:include">
<!ENTITY % local.common.attrib "xmlns:xi            CDATA       #FIXED       'http://www.w3.org/2001/XInclude'">
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="security" status="review">
	<title>Säkerhet</title>
	<para>Säkerhet skall alltid övervägas vid installation, utveckling och användning av någon typ av datasystem. Även om  en nyinstallation av Ubuntu är relativt säker för omedelbar användning på internet, är det viktigt att ha en balanserad förståelse för sina systems säkerhetstillstånd baserat på hur de kommer att användas efter utplacering.</para>
	<para>Detta kapitel ger en översikt av säkerhetsrelaterade frågor som avser Ubuntu 9.04 Server Edition och beskriver enkla åtgärder som du kan använda för att skydda din server och nätverk från ett obegränsat antal potentiella säkerhetshot.</para>
  <sect1 id="user-management" status="review">
	<title>Användarhantering</title>
	<para>Användarhantering är en kritisk del av underhållet i ett säkert system. Ineffektiv användar- och rättighetshantering leder i många fall till ett komprometterat system. Därför, är det viktigt att du förstår hur du kan skydda din server genom enkla men effektiva kontohanteringstekniker.</para>
  <sect2 id="where-is-root" status="review">
	<title>Var är root?</title>
	<para>Ubuntu-utvecklarna  bestämde efter noga övervägande att som standard inaktivera administratörskontot root i alla Ubuntu installationer. Det innebär inte att root kontot tagits bort eller inte går att komma åt. Det betyder endast att det har fått ett lösenord som inte matchar något möjligt krypterat värde, och kan inte ansluta av sig själv.</para>
	<para>Istället uppmuntras användarna till att använda ett verktyg med namnet <application>sudo</application> för att genomföra administrativa sysslor. <application>Sudo</application> tillåter en auktoriserad användare att temporärt utöka sina rättigheter genom sitt egna lösenord istället för att behöva veta lösenordet till root-kontot. Den här enkla men effektiva metoden ger alla användare ansvarsskyldighet för sina handlingar och ger administratören synlig kontroll över vilka funktioner en användare kan utföra baserat på sina rättigheter.</para>
		<itemizedlist>
		<listitem>
		<para>Om du av någon anledning vill aktivera root-kontot, skapa då ett lösenord:</para>
<screen>
<command>sudo passwd</command>
</screen>
		<para>Som visas nedan, kommer sudo fråga efter ditt lösenord och därefter be dig om ett nytt lösenord för root:</para>
<screen>
<computeroutput>[sudo] lösenord för användaren: <userinput>(skriv in ditt egna lösenord)</userinput>
Skriv in nytt UNIX-lösenord: <userinput>(ange ett nytt lösenord för root)</userinput>
Repetera nytt UNIX-lösenord: <userinput>(repetera det nya lösenordet för root)</userinput>
passwd: lösenordet har uppdaterats framgångsrikt</computeroutput>
</screen>
		</listitem>
		<listitem>
		<para>För att inaktivera root-kontot, använd följande lösenord-syntax:</para>
<screen>
<command>sudo passwd -l root</command>
</screen>
		</listitem>
		<listitem>
		<para>Du kan läsa mer om <application>Sudo</application> genom att öppna manualsidan:</para>
<screen>
<command>man sudo</command>
</screen>
		</listitem>
		</itemizedlist>
		<para>Som standard, är den första användaren som skapas av Ubuntu-installeraren medlem av gruppen "admin" som är adderad till filen <filename>/etc/sudoers</filename> som en auktoriserad sudo-användare. Om du önskar ge något annat konto full root behörighet genom <application>sudo</application>, lägg då till det i gruppen admin.</para>
  </sect2>

  <sect2 id="adding-deleting-users" status="review">
	<title>Lägg till och ta bort användare</title>
	<para>Processen för hanteringen av lokala användare och grupper skiljer sig väldigt lite från de flesta andra GNU/Linux operativsystem. Ubuntu och andra Debian baserade distributioner uppmuntrar användandet av paketet "adduser" för kontohantering.</para>
		<itemizedlist>
		<listitem>
		<para>För att lägga till en användare använd följande syntax och följ inmatningsmarkören för att ge kontot ett lösenord och identifierbara kännetecken såsom ett komplett namn, telefonnummer, etc.</para>
<screen>
<command>sudo adduser användarnamn</command>
</screen>
		</listitem>
		<listitem>
		<para>För att ta bort ett konto och dess primära grupp, använd följande syntax:</para>
<screen>
<command>sudo deluser användarnamn</command>
</screen>
		<para>Att ta bort ett konto tar inte bort respektive hemmakatalog. Det är upp till dig om du vill eller inte vill ta bort mappen manuellt, eller spara den enligt önskade riktlinjer för bevarande av konton.</para>
		<para>Kom ihåg att en användare som senare blir tillagd med samma UID/GID som den tidigare ägaren, kommer att ha behörighet till mappen om du inte vidtagit nödvändiga försiktighetsåtgärder.</para>
		<para>Du vill antagligen ändra UID/GID värdena till något bättre, exempelvis root-kontot och kanske också flytta mappen för att undvika framtida konflikter:</para>
<screen>
<command>sudo chown -R root:root /home/användarnamn/</command>
<command>sudo mkdir /home/archived_users/</command>
<command>sudo mv /home/användarnamn /home/archived_users/</command>
</screen>
		</listitem>
		<listitem>
		<para>För att tillfälligt låsa eller öppna ett användarkonto, använd följande kommando:</para>
<screen>
<command>sudo passwd -l användarnamn</command>
<command>sudo passwd -u användarnamn</command>
</screen>
		</listitem>
		<listitem>
		<para>För att lägga till eller ta bort en personifierad grupp, använd följande syntax, var för sig:</para>
<screen>
<command>sudo addgroup gruppnamn</command>
<command>sudo delgroup gruppnamn</command>
</screen>
		</listitem>
		<listitem>
		<para>För att lägga till en användare i en grupp, använd följande syntax:</para>
<screen>
<command>sudo adduser användarnamn gruppnamn</command>
</screen>
		</listitem>
		</itemizedlist>
  </sect2>

  <sect2 id="user-profile-security" status="review">
	<title>Användarens säkerhetsprofil</title>
	<para>När en ny användare har skapas, så skapar adduser-verktyget en helt ny hemmakatalog med namnet <filename class="directory">/home/användarnamn</filename>. Standardprofilen skapas efter innehållet som finns i mappen <filename class="directory">/etc/skel</filename>, som inkluderar alla basprofiler.</para>
	<para>Om din server kommer att användas av flera användare, skall du vara uppmärksam på rättigheterna för hemmakatalogerna för att säkerställa sekretess. Normalt är användarens hemmakatalog i Ubuntu skapad med allmänna läs/kör-rättigheter. Med detta menas att alla användare kan söka och komma åt innehållet i andra användares hemmakatalog. Det här kanske inte passar för dina förhållanden.</para>
		<itemizedlist>
		<listitem>
		<para>För att verifiera din nuvarande användares mappbehörighet, använd följande syntax:</para>
<screen>
<command>ls -ld /home/användarnamn</command>
</screen>
		<para>Följande resultat visar att mappen <filename class="directory">/home/användarnamn</filename> har allmänna läsbehörigheter:</para>
<screen>
<computeroutput>drwxr-xr-x  2 användarnamn användarnamn    4096 2007-10-02 20:03 användarnamn</computeroutput>
</screen>
		</listitem>
		<listitem>
		<para>Du kan ta bort den allmänna läsbehörigheten genom att använda följande syntax:</para>
<screen>
<command>sudo chmod 0750 /home/användarnamn</command>
</screen>
		<note>
		<para>Vissa användare tenderar att godtyckligt använda den rekursiva flaggan (-R) som modifierar alla undermappar och filer, men detta är inte nödvändigt och kan orsaka andra oönskade resultat.  Föräldramappen ensam är ett tillräckligt skydd för att förhindra otillåten åtkomst till allt under föräldramappen.</para>
		</note>
		<para>Ett mycket mer effektiv sätt att lösa problemet är att i <application>adduser</application> modifiera de globala standardbehörigheterna när en ny användares hemmakatalog skapas. redigera filen <filename>/etc/adduser.conf</filename> och modifiera variabeln <varname>DIR_MODE</varname> till något mer passande, så att alla nya hemmakataloger får rätt behörighet.</para>
<programlisting>
DIR_MODE=0750
</programlisting>
		</listitem>
		<listitem>
		<para>Efter korrigeringen av mappbehörigheterna med någon av tidigare nämnda tekniker, verifiera resultatet genom att använda följande syntax:</para>
<screen>
<command>ls -ld /home/användarnamn</command>
</screen>
		<para>Resultatet nedan visar att den allmänna läsbehörigheten har tagits bort:</para>
<screen>
<computeroutput>drwxr-x---   2 användarnamn användarnamn   4096 2007-10-02 20:03 användarnamn</computeroutput>
</screen>
		</listitem>
		</itemizedlist>
  </sect2>

  <sect2 id="password-policy" status="review">
	<title>Riktlinjer för lösenord</title>
	<para>En kraftfull lösensordspolicy är en av de viktigaste aspekterna för ditt säkerhetstillstånd. Många lyckade säkerhetsbrott involverar enkla lexikon och brute force-attacker mot svaga lösenord. Om du tänker erbjuda någon form av fjärranslutning med inblandning av ditt lokala lösenordsystem, säkerställ  att du kravsätter ett tillräckligt komplext lösenord, maximal lösenordslivslängd och frekvent granskning av ditt behörighetssystem.</para>
  <sect3 id="minimum-password-length" status="review">
	<title>Minimal lösenordslängd</title>
	<para>Som standard kräver Ubuntu att lösenordet består av minst 4 tecken och grundläggande entropi kontroller. Dess värden kontrolleras i filen <filename>/etc/pam.d/common-password</filename>, som sammanfattas nedan.</para>
<programlisting>
password   required   pam_unix.so nullok obscure min=4 max=8 md5
</programlisting>
	<para>Om du vill ändra minimumlängden till 6 tecken, ändra lämplig variabel till min=6. Ändringen sammanfattas nedan.</para>
<programlisting>
password   required   pam_unix.so nullok obscure min=6 max=8 md5
</programlisting>
	<note>
	<para>Variabeln <varname>max=8</varname> betyder inte maximalt antal tecken i ett lösenord. Det betyder att ett lösenord över 8 tecken inte kommer kontrolleras för komplexitetskraven. Du kan kanske vill titta på paketet <application>libpam-cracklib</application> för ytterligare lösenordsassistans.</para>
	</note>
  </sect3>
  <sect3 id="password-expiration" status="review">
	<title>Lösenordsförfallanden</title>
	<para>När du skapar användarkonton bör du ha som policy att lösenorden har en minimi och maximiålder som tvingar användarna att byta sitt lösenord när tiden löpt ut.</para>
		<itemizedlist>
		<listitem>
		<para>För att enkelt se nuvarande status för ett användarkonto, använd följande syntax:</para>
<screen>
<command>sudo chage -l användarnamn</command>
</screen>
		<para>Utdatan nedan visar intressant fakta om användarkontot, nämligen att ingen policy tillämpas:</para>
<screen>
<computeroutput>Last password change                                    : Jan 20, 2008
Password expires                                        : never
Password inactive                                       : never
Account expires                                         : never
Minimum number of days between password change          : 0
Maximum number of days between password change          : 99999
Number of days of warning before password expires       : 7</computeroutput>
</screen>
		</listitem>
		<listitem>
		<para>För att ange något av dessa värden, använd följande syntax och följ de interaktiva inmatningsställena:</para>
<screen>
<command>sudo chage användarnamn</command>
</screen>
		<para>Följande är också ett exempel på hur du manuellt kan ändra förfallodatumet som saknar förbehåll (-E) till 01/31/2008, lösenordets miniålder (-m) på 5 dagar, lösenordets maximiålder (-M) på 90 dagar, inaktiv period (-I) på fem dagar efter lösenordets förfallodag och en varningsperiod (-W) på 14 dagar före lösenordets förfallodag.</para>
<screen>
<command>sudo chage -E 01/31/2008 -m 5 -M 90 -I 30 -W 14 användarnamn</command>
</screen>
		</listitem>
		<listitem>
		<para>För att verifiera ändringarna, använd samma syntax som angavs tidigare:</para>
<screen>
<command>sudo chage -l användarnamn</command>
</screen>
		<para>Utdatan nedan visar den nya policyn som har upprättats för kontot:</para>
<screen>
<computeroutput>Last password change                                    : Jan 20, 2008
Password expires                                        : Apr 19, 2008
Password inactive                                       : May 19, 2008
Account expires                                         : Jan 31, 2008
Minimum number of days between password change          : 5
Maximum number of days between password change          : 90
Number of days of warning before password expires       : 14</computeroutput>
</screen>
		</listitem>
		</itemizedlist>
  </sect3>

  </sect2>


  <sect2 id="other-security-considerations" status="review">
	<title>Andra säkerhetsöverväganden</title>
	<para>Många program använder alternativa autentiseringsmetoder som lätt kan glömmas bort, även av erfarna systemadministratörer. Därför är det viktigt att förstå och kontrollera hur användare autentiserar och får behörighet till tjänster och program på din server.</para>

  <sect3 id="ssh-access-by-disabled-users" status="review">
	<title>SSH åtkomst av inaktiverade användare</title>
	<para>Att bara inaktivera/låsa ett användarkonto kommer inte att hindra användaren från att fjärransluta till servern om de tidigare använt en publik RSA-nyckel för autentisering. De kommer fortfarande att inneha shell-behörighet till servern, utan att behöva ett lösenord. Kom ihåg att kontrollera användarens hemmakatalog efter filer som tillåter den här typen av autentiserad SSH-anslutning, till exempel <filename>/home/username/.ssh/authorized_keys</filename>.</para>
	<para>Ta bort eller döp om katalogen <filename class="directory">.ssh/</filename> i användarens hemmakatalog för att förhindra ytterligare SSH-autentiseringsmöjligheter.</para>
	<para>Kontrollera efter någon etablerad SSH-anslutning från den inaktiverade användaren eftersom det är möjligt att de har en bestående ingående eller utgående anslutning. Avsluta de som hittas.</para>
	<para>Begränsa SSH-anslutningen till enbart användarkonton som måste ha det. Som exempel kan du skapa en grupp med namnet "sshlogin" och lägg till gruppnamnet som värdet associerat med variabeln <varname>AllowGroups</varname> som finns i filen <filename>/etc/ssh/sshd_config</filename>.</para>
<programlisting>
AllowGroups sshlogin
</programlisting>
	<para>Lägg sedan till din tillåtna SSH-användare till gruppen "sshlogin" och starta om SSH-tjänsten.</para>
<screen>
<command>sudo adduser användarnamn sshlogin</command>
<command>sudo /etc/init.d/ssh restart</command>
</screen>
  </sect3>
  <sect3 id="external-db-auth" status="review">
	<title>Extern användardatabasautentisering</title>
	<para>De flesta företagssystem kräver en centraliserad autentisering och behörighetskontroll för alla systemresurser. Om du har konfigurerat din server till att verifiera användare mot externa databaser, säkerställ att användarkontot är inaktiverat både externt och lokalt, på detta sätt säkerställer du att lokal återautentisering inte är möjligt.</para>
  </sect3>
  </sect2>
  </sect1>


   <sect1 id="console-security" status="review">
	<title>Konsolsäkerhet</title>
	<para>Som med andra säkerhetsbarriärer du iordningställt för att skydda din server så är det mycket svårt att skydda sig mot oförberedda skador orsakat av någon med fysisk åtkomst till lokalerna, till exempel hårddiskstöld, ström eller serviceskador o.s.v. Därför skall konsolsäkerhet ses som en del av en övergripande fysisk säkerhetsstrategi. En låst "screen door" bör avskräcka en tillfällig brottsling eller åtminstone fördröja en som är beslutsam, det är fortfarande lämpligt att uppföra ett grundskydd med avseende på konsolsäkerhet.</para>
	<para>Följande instruktioner hjälper till med att skydda din server mot problem som annars skulle kunna orsaka mycket allvarliga konsekvenser.</para>

   <sect2 id="disable-ctrl-alt-delete" status="review">
	<title>Inaktivera Ctrl+Alt+Delete</title>
	<para>Först och främst, vem som helst som har fysisk tillgång till tangentbordet kan enkelt använda tangentbordskombinationen <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Delete</keycap></keycombo> för att starta om servern utan att behöva logga in. Visserligen kan någon dra ut strömkabeln, men du skall ändå skydda dig mot användandet av den här tangentbordskombinationen på en produktionsserver. Det tvingar en angripare att använda mer kraftfulla metoder för att starta om servern och på samma gång förhindra oavsiktliga omstarter.</para>
		<itemizedlist>
	  	<listitem>
		<para>För att inaktivera möjligheten till omstart genom att trycka <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Delete</keycap></keycombo>-kombinationen, avkommentera följande rader i filen <filename>/etc/event.d/control-alt-delete</filename>.</para>
<programlisting>
#exec /sbin/shutdown -r now "Control-Alt-Delete pressed"
</programlisting>
		</listitem>
		</itemizedlist>
   </sect2>
   <sect2 id="grub-password-security" status="review">
	<title>GRUB lösenordssäkerhet</title>
	<para>Ubuntu installerar GNU GRUB som sitt standardstartprogram, vilket ger utymme för stor flexibilitet och återställningsalternativ. Till exempel när du installerar ytterligare kärn-avbilder, läggs dessa automatiskt till som valbara startalternativ i <application>grub</application>-menyn. Som standard finns också alternativa startmöjligheter för varje kärna som kan användas för systemåterställning, lämpligt märkta (systemåterställning). Systemåterställningen startar tillhörande kärna till ett enavändarläge (init 1) vilket lämnar administratören vid en root-prompt utan behov av något lösenord.</para>
	<para>Därför är det nödvändigt att kontrollera vem som skall ha möjlighet att redigera innehållet i <application>grub</application>-menyn, i annat fall så kan vem som helst utföra följande farliga handlingar:</para> 
		<itemizedlist>
	  	<listitem>
	  	<para>Godkänna kärn-alternativ vid upstart.</para>
	  	</listitem>
		<listitem>
		<para>Starta servern till enanvändarläge.</para>
		</listitem>
		</itemizedlist>
	<para>Du kan förhindra att detta händer genom att lägga till ett lösenord till GRUB:s konfigurationsfil <filename>/boot/grub/menu.lst</filename>, vilket kommer att krävas för att låsa upp GRUB: s mer avancerade funktioner innan användning.</para>
		<itemizedlist>
	  	<listitem>
	  	<para>För att lägga till ett lösenord att använda med <application>grub</application>, måste du börja med att skapa ett md5 hash-lösenord, med hjälp av verktyget <application>grub-md5-crypt</application>:</para>
<screen>
<command>grub-md5-crypt</command>
</screen>
		<para>Kommandot kommer be dig att ange ett lösenord och ge ett resulterande hash-värde, såsom visas nedan:</para>
<screen>
<computeroutput>Password: <userinput>(enter new password)</userinput>
Retype password: <userinput>(repeat password)</userinput>
$1$s3YiK$M3lxAbqA6JLm2FbDWnClQ0</computeroutput>
</screen>
	  	</listitem>
	  	<listitem>
		<para>Lägg till hash-värderesultatet i filen <filename>/boot/grub/menu.lst</filename> i följande format:</para>
<programlisting>password --md5 $1$s3YiK$M3lxAbqA6JLm2FbDWnClQ0</programlisting>
	  	</listitem>
	  	<listitem>
	  	<para>För att kräva ett lösenord för att komma in till enanvändarläget, ändra värdena i variabeln <varname>lockalternative</varname> i filen <filename>/boot/grub/menu.lst</filename> till <varname>true</varname>, som visas i följande exempel.</para>
<programlisting># lockalternative=true</programlisting>
		</listitem>
		</itemizedlist>
	<note>
	<para>Det här hindrar inte att någon startar servern från alternativa medier. En beslutsam angripare kommer helt enkelt starta servern i en alternativ miljö, skriva över startsektorn (master boot record), montera eller kopiera dina fysiska volymer, förstöra din data eller  annat som de kan hitta på. Undersök andra möjligheter för att undvika den här typen av attacker.</para>
	</note>
   </sect2>
   </sect1>

	<sect1 id="firewall" status="review">
	  <title>Brandvägg</title>
        <sect2 id="firewall-introduction" status="review">
          <title>Inledning</title>
          <para>Linuxkärnan innehåller systemet <emphasis>Netfilter</emphasis> som används för att manipulera eller avgöra ödet för nätverkstrafik som skickas till eller genom din server. Alla moderna brandväggslösningar för Linux använder det här systemet för nätverksfiltrering.</para>
            <para>Kärnans paketfiltreringssystem skulle vara ganska värdelöst för administratörer utan ett användargränssnitt för att hantera det. Ett sådant gränssnitt är iptables. När ett paket anländer till din server kommer det att skickas till Netfilter-systemet för att accepteras, manipuleras, eller nekas, beroende på de regler det får från iptables. Därför är iptables allt du behöver för att hantera din brandvägg om du är bekant med den, men det finns många gränssnitt för att förenkla uppgiften.</para>
        </sect2>
          <sect2 id="firewall-ufw" status="review">
	    <title>ufw - Uncomplicated Firewall</title>  
	    <para>Konfigurationsverktyget för standardbrandväggen i Ubuntu är <application>ufw</application>. Den är utvecklad för att underlätta konfigurationen av brandväggen iptables, <application>ufw</application> tillhandahåller ett användarvänligt sätt att skapa en IPv4 eller IPv6 värd-baserad brandvägg.</para>
	    <para><application>ufw</application> är normalt inaktiverad. Från <application>ufw</application> manualsidan:</para>
	    <para>
<quote>ufw är inte tänkt att tillhandahålla en komplett brandväggsfunktionalitet genom kommandogränssnittet, utan istället tillhandahålla ett enkelt sätt att lägga till eller ta bort enkla regler. Den används förnärvarande främst till värd-baserade brandväggar.</quote>
	    </para>
	    <para>Följande är några exempel på hur <application>ufw</application> kan användas:</para> 
	    <itemizedlist>
              <listitem>
                <para>Börja med att aktivera <application>ufw</application>. Från terminalprompten skriv:</para>
<screen>
<command>sudo ufw enable</command>
</screen>
	      </listitem>
              <listitem>
                <para>För att öppna en port (ssh i det här exemplet):</para>
<screen>
<command>sudo ufw allow 22</command>
</screen>
	      </listitem>
              <listitem>
                <para>Regler kan också läggas till genom att använda ett <emphasis>nummer</emphasis>-format:</para>
<screen>
<command>sudo ufw insert 1 allow 80</command>
</screen>
	      </listitem>
              <listitem>
                <para>På liknande sätt, för att stänga en öppen port:</para>
<screen>
<command>sudo ufw deny 22</command>
</screen>
	      </listitem>
              <listitem>
                <para>För att ta bort en regel, använd delete följt av regeln:</para>
<screen>
<command>sudo ufw delete deny 22</command>
</screen>
	      </listitem>
              <listitem>
                <para>Det är också möjligt att tillåta åtkomst från en specifik värd eller nätverk till en port. Följande exempel tillåter ssh-anslutning från värden 192.168.0.2 till valfri ip-adress på den här värden:</para>
<screen>
<command>sudo ufw allow proto tcp from 192.168.0.2 to any port 22</command>
</screen>
	        <para>Ersätt 192.168.0.2 med 192.168.0.0/24 för att tillåta ssh-anslutningar från hela subnätet.</para>
	      </listitem>
              <listitem>

                <para>Att lägga till flaggan <emphasis>--dry-run</emphasis> till ett <emphasis>ufw</emphasis> kommando kommer visa regelresultatet, men inte tillämpa det. Till exempel, följande är vad som skulle ha tillämpats om HTTP-porten öppnats:</para>

<screen>
<command>sudo ufw --dry-run allow http</command>
</screen>

<screen>
<computeroutput>*filter
:ufw-user-input - [0:0]
:ufw-user-output - [0:0]
:ufw-user-forward - [0:0]
:ufw-user-limit - [0:0]
:ufw-user-limit-accept - [0:0]
### RULES ###

### tuple ### allow tcp 80 0.0.0.0/0 any 0.0.0.0/0
-A ufw-user-input -p tcp --dport 80 -j ACCEPT

### END RULES ###
-A ufw-user-input -j RETURN
-A ufw-user-output -j RETURN
-A ufw-user-forward -j RETURN
-A ufw-user-limit -m limit --limit 3/minute -j LOG --log-prefix "[UFW LIMIT]: "
-A ufw-user-limit -j REJECT
-A ufw-user-limit-accept -j ACCEPT
COMMIT
Rules updated</computeroutput>
</screen>

              </listitem>
              <listitem>
                <para><application>ufw</application> kan inaktiveras av:</para>
<screen>
<command>sudo ufw disable</command>
</screen>
	      </listitem>
              <listitem>
                <para>För att se brandväggens status, skriv:</para>
<screen>
<command>sudo ufw status</command>
</screen>
	      </listitem>
              <listitem>
                <para>Och för mer detaljerad statusinformation använd:</para>
<screen>
<command>sudo ufw status verbose</command>
</screen>
	      </listitem>
              <listitem>
                <para>För att visa det <emphasis>numrerade</emphasis> formatet:</para>
<screen>
<command>sudo ufw status numbered</command>
</screen>
	      </listitem>
	    </itemizedlist>
	    <note>
	      <para>Om porten du vill öppna eller stänga är definierad i <filename>/etc/services</filename>, kan du använda portnamnet istället för numret. I ovanstående exempel, ersätt <emphasis>22</emphasis> med <emphasis>ssh</emphasis>.</para>
	    </note>

  	    <para>Det här är en snabb introduktion till användandet av <application>ufw</application>. För mer information hänvisas du till manualsidorna för <application>ufw</application>.</para>

            <sect3 id="ufw-application-integration" status="review">
              <title>ufw programintegrering</title>

              <para>Program som öppnar en port kan inkludera en <application>ufw</application>-profil, som beskriver vilka portar programmen behöver för att fungera ordentligt. Profilerna sparas i <filename role="directory">/etc/ufw/applications.d</filename>, och kan redigeras om standardporten har ändrats.</para>

              <itemizedlist>
                <listitem>

                  <para>För att se vilka program som installerat en profil, skriv följande i en terminal:</para>

<screen>
<command>sudo ufw app list</command>
</screen>

                </listitem>
                <listitem>

                  <para>På samma sätt för att tillåta trafik till en port, med hjälp av en programprofil utförs detta genom att skriva:</para>

<screen>
<command>sudo ufw allow Samba</command>
</screen>

                </listitem>
                <listitem>

                  <para>En utökad syntax är också tillgänglig:</para>

<screen>
<command>ufw allow from 192.168.0.0/24 to any app Samba</command>
</screen>

                  <para>Ersätt <emphasis>Samba</emphasis> och <emphasis>192.168.0.0/24</emphasis> med programprofilen du använder och IP-området för ditt nätverk.</para>

                  <note>
                    <para>Det finns ingen anledning att specificera programmets <emphasis>protokoll</emphasis>, eftersom den informationen är beskriven i profilen. Dessutom, notera att <emphasis>app</emphasis>-namnet ersätter <emphasis>port</emphasis>-numret.</para>
                  </note>

                </listitem>
                <listitem>

                  <para>För att se detaljer över vilka portar, protokoll, etc, som är definierade för ett program, ange:</para>

<screen>
<command>sudo ufw app info Samba</command>
</screen>

                </listitem>
              </itemizedlist>

              <para>Inte alla program som kräver att en nätverksport öppnas kommer med en <application>ufw</application> profil, Men om du har skapat en profil för ett program och vill att filen skall inkluderas med paketet, skicka in en felrapport mot paketet i <ulink url="https://launchpad.net/">Launchpad</ulink>.</para>

            </sect3>
	  </sect2>
        <sect2 id="ip-masquerading" status="review">
          <title>IP Masquerading</title>
            <para>Syftet med att maskera IP:n är att ge datorer med privata, icke-routebara IP-adresser på ditt nätverk tillgång till internet genom datorn som sköter maskeringen. Trafik från ditt privata nätverk på väg mot internet måste manipuleras så att svaren kan routas tillbaka till datorn som skickade förfrågan. För att göra detta måste kärnan modifiera <emphasis>den ursprungliga</emphasis> IP-adressen för varje paket så att svaren routas tillbaka till datorn, istället för att skickas till den privata IP-adressen som datorn som skickade förfrågan, vilket inte går att göra över internet. Linux använder <emphasis>spårning av anslutningar</emphasis> (conntrack) för att hålla ordning på vilka anslutningar som hör till vilka datorer, och skicka vidare alla paket baserat på det. Trafik som lämnar ditt privata nätverk "maskeras" därför så att de ser ut att komma från din gateway-dator. Den här funktionen kallas i Microsofts dokumentation, internetanslutningsdelning.</para>
	    <sect3 id="ip-masquerade-ufw" status="review">
	      <title>ufw Maskering</title>
	      <para>IP-maskering kan  uppnås genom särskilda <application>ufw</application>-regler. Detta är möjligt då nuvarande bakände för<application>ufw</application> är <application>iptables-restore</application> med regelfilerna placerade i <filename>/etc/ufw/*.rules</filename>. Dessa filer är en bra plats att lägga till ärvda regler från iptables utan <application>ufw</application>, och regler som är mer relaterade till nätverks-gateway eller brygga.</para>
	      <para>Reglerna är splittrade i två olika filer, regler som skall utföras innan <application>ufw</application> kommandoradsregler, och regler som skall utföras efter <application>ufw</application> kommandoradsregler</para>
	      <itemizedlist>
	        <listitem>
		  <para>Till att börja med, "packet forwarding"  måste vara aktiverat i <application>ufw</application>. Två konfigurationsfiler behöver justeras, i <filename>/etc/default/ufw</filename> ändra <emphasis>DEFAULT_FORWARD_POLICY</emphasis> till <quote>ACCEPT</quote>:</para>
<programlisting>
DEFAULT_FORWARD_POLICY="ACCEPT"
</programlisting>
		  <para>Därefter, redigera <filename>/etc/ufw/sysctl.conf</filename> och avkommentera:</para>
<programlisting>
net.ipv4.ip_forward=1
</programlisting>
		  <para>På liknande sätt, för IPv6 "forwarding" avkommentera:</para>
<programlisting>
net.ipv6.conf.default.forwarding=1
</programlisting>
		</listitem>
	        <listitem>
		  <para>Nu skall vi lägga till reglerna i filen <filename>/etc/ufw/before.rules</filename>. Standardreglerna konfigurerar endast <emphasis>filter</emphasis>tabellen och för att aktivera maskering behöver <emphasis>nat</emphasis>-tabellen konfigureras. Lägg till följande i början av filen precis efter huvudkommentarerna:</para>
<programlisting>
# nat Table rules
*nat
:POSTROUTING ACCEPT [0:0]

# Forward traffic from eth1 through eth0.
-A POSTROUTING -s 192.168.0.0/24 -o eth0 -j MASQUERADE

# don't delete the 'COMMIT' line or these nat table rules won't be processed
COMMIT
</programlisting>
	          <para>Kommentarerna är inte nödvändiga, men det anses vara god sed att dokumentera sin konfiguration. Dessutom, vid modifiering av någon av <emphasis>rules</emphasis>-filerna i <filename class="directory">/etc/ufw</filename>, säkerställ att dessa rader är de sista raderna för varje modifierad tabell:</para>

<programlisting>
# don't delete the 'COMMIT' line or these rules won't be processed
COMMIT
</programlisting>

                  <para>För varje <emphasis>tabell</emphasis> krävs en motsvarande <emphasis>COMMIT</emphasis>. I dessa exempel har endast <emphasis>nat</emphasis> och <emphasis>filter</emphasis> tabellerna visats, men du kan också lägga till regler för tabellerna <emphasis>raw</emphasis> och <emphasis>mangle</emphasis>.</para>

                  <note>
                   <para>I ovanstående exempel ersätt <emphasis>eth0</emphasis>, <emphasis>eth1</emphasis>, och <emphasis>192.168.0.0/24</emphasis> med lämpligt gränssnitt och IP-område för ditt nätverk.</para>
                  </note>

		</listitem>
	        <listitem>
		  <para>Till sist, inaktivera och återaktivera <application>ufw</application> för att aktivera ändringarna:</para>
<programlisting>
<command>sudo ufw disable &amp;&amp; sudo ufw enable</command>
</programlisting>
		</listitem>
	      </itemizedlist>
	      <para>IP-maskering skall nu vara aktiverat. Du kan också lägga till någon ytterligare FORWARD regel till <filename>/etc/ufw/before.rules</filename>. Det är rekommenderat att dessa extraregler läggs till i kedjan <emphasis>ufw-before-forward</emphasis>.</para>
	  </sect3>
	    <sect3 id="ip-masquerading-iptables" status="review">
	    <title>iptables Maskering</title>
	    <para><application>iptables</application> kan också användas för att aktivera maskering.</para>
	    <itemizedlist>
	      <listitem>
  	        <para>Liknande <application>ufw</application>, är första steget att aktivera IPv4 "packet forwarding"  genom att redigera <filename>/etc/sysctl.conf</filename> och avkommentera följande rader</para>
<programlisting>
net.ipv4.ip_forward=1
</programlisting>
	        <para>Om du önskar aktivera IPv6 "forwarding" avkommentera också:</para>
<programlisting>
net.ipv6.conf.default.forwarding=1
</programlisting>
 	      </listitem>
	        <listitem>
		  <para>Nästa, utför kommandot <application>sysctl</application> för att aktivera de nya inställningarna i konfigurationsfilen:</para>
<screen>
<command>sudo sysctl -p</command>
</screen>
		</listitem>
	      <listitem>
	        <para>IP-maskering kan nu utföras med en enkel iptables-regel, som kan skilja sig åt något beroende på din nätverkskonfiguration:</para>
<screen>
sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE
</screen>
	        <para>Ovanstående kommande förutsätter att ditt privata adressutrymme är 192.168.0.0/16 och att din Internetenhet är ppp0. Syntaxens bryts ner enligt följande:</para>
		<itemizedlist>
		  <listitem><para>-t nat -- regeln som skall läggas till nat-tabellen</para></listitem>
		  <listitem><para>-A POSTROUING -- regeln som skall läggas till (-A) till POSTROUTING-kedjan.</para></listitem>
  		  <listitem><para>-s 192.168.0.0/16 -- den här regeln gäller all trafik som kommer från det specificerade adressutrymmet</para></listitem>
  		  <listitem><para>-o ppp0 -- den här regeln gäller trafik som skall skickas genom den specificerade nätverksenheten</para></listitem>
  		  <listitem>
                    <para>-j MASQUERADE -- trafik som matchar den här regeln skall "hoppa" (-j) till MASQUERADE-målet för att bli manipulerad enligt vad som beskrivs ovan</para>
                  </listitem>
	        </itemizedlist>
	      </listitem>
	      <listitem>
		<para>Dessutom, varje kedja i filtertabellen (standardtabellen och där de flesta eller alla paket filtreras) har en standard<emphasis>policy</emphasis> av ACCEPT, men om du skapar en brandvägg utöver en gateway-enhet, kan du ha satt policyn till DROP eller REJECT, i vilket fall behöver din maskerade trafik tillåtas genom FORWARD-kedjan för att ovanstående regel skall fungera:</para>
<screen>
sudo iptables -A FORWARD -s 192.168.0.0/16 -o ppp0 -j ACCEPT
sudo iptables -A FORWARD -d 192.168.0.0/16 -m state --state ESTABLISHED,RELATED -i ppp0 -j ACCEPT
</screen>
		<para>Ovanstående kommandon kommer att tillåta alla anslutningar från ditt lokala nätverk till internet och all trafik som är relaterad till dessa anslutningar att återgå till datorn som initierade dem.</para>
	      </listitem>
	      <listitem>
		<para>Om du vill att maskering skall aktiveras vid omstart, vilket du antagligen vill, redigera <filename>/etc/rc.local</filename> och lägg till något av kommandona som användes ovan. Som exempel lägg till första kommandot utan filtrering:</para>
<screen>
iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE
</screen>
	      </listitem>
	    </itemizedlist>
	    </sect3>
        </sect2>
        <sect2 id="firewall-logs" status="review">
          <title>Loggar</title>
            <para>Loggfilen från brandväggen är nödvändig för att upptäcka attacker, felsöka brandväggens regler och notifiering av ovanliga aktiviteter i ditt nätverk. Du måste inkludera loggningsregler i din brandvägg för att de skall skapas, regler för loggning måste komma före någon användbar avslutande regel ( en regel med mål att besluta ödet för ett paket, såsom ACCEPT, DROP, eller REJECT).</para>
	     <para>Om du använder <application>ufw</application>, kan du aktivera loggning genom att skriva följande i en terminal:</para>
<screen>
<command>sudo ufw logging on</command>
</screen>
	     <para>För att stänga av loggning i <application>ufw</application>, ersätt <emphasis role="italic">on</emphasis> med <emphasis role="italic">off</emphasis> i ovanstående kommando.</para>
	     <para>Om du använder <application>iptables</application> istället för <application>ufw</application>, skriv:</para>
<screen>
sudo iptables -A INPUT -m state --state NEW -p tcp --dport 80 -j LOG --log-prefix "NEW_HTTP_CONN: "
</screen>
	     <para>En förfrågan till port 80 från den lokala maskinen, då kommer en logg skapas i dmesg som ser ut såhär:</para>
			<para>
			  <programlisting>[4304885.870000] NEW_HTTP_CONN: IN=lo OUT= MAC=00:00:00:00:00:00:00:00:00:00:00:00:08:00 SRC=127.0.0.1 DST=127.0.0.1 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=58288 DF PROTO=TCP SPT=53981 DPT=80 WINDOW=32767 RES=0x00 SYN URGP=0</programlisting>
			</para>
			<para>Ovanstående logg hittar du också i <filename>/var/log/messages</filename>, <filename>/var/log/syslog</filename> och <filename>/var/log/kern.log</filename>. Det här beteendet går att ändra på genom att göra lämpliga ändringar i <filename>/etc/syslog.conf</filename> eller genom att installera och konfigurera <application>ulogd</application> och skriv ULOG istället för LOG i den tidigare regeln. Demonen <application>ulogd</application> är en server som lyssnar efter loggningsinstruktioner från kärnan om brandväggar, och kan logga det till vilken fil du vill, eller till och med till databaserna <application>PostgreSQL</application> eller <application>MySQL</application>. Du kan göra det enklare att förstå loggarna genom att använda ett logganalyseringsverktyg som <application>fwanalog</application>, <application> fwlogwatch</application> eller <application>lire</application>.</para>
        </sect2>	
        <sect2 id="other-firewall-tools" status="review">
          <title>Andra verktyg</title>
            <para>Det finns många verktyg tillgängliga för att skapa en komplett brandvägg utan ingående kunskaper i iptables. För den GUI-benägna:</para>
	    <itemizedlist>
	      <listitem>
		<para><ulink url="http://www.fs-security.com/">Firestarter</ulink> är populär och enkel att använda.</para>
	      </listitem>
	      <listitem>
		<para><ulink url="http://www.fwbuilder.org/">fwbuilder</ulink> är väldigt kraftfull och kommer att kännas igen av en administratör som använt ett kommersiellt brandväggsverktyg såsom <application>Checkpoint FireWall-1</application>.</para>
	      </listitem>
	    </itemizedlist>
	    <para>Om du föredrar ett kommandoradsverktyg med ren textfilskonfiguration:</para>
	    <itemizedlist>
	      <listitem>
		<para><ulink url="http://www.shorewall.net/">Shorewall</ulink> är en väldigt kraftfull lösning för att hjälpa dig med att konfigurera en avancerad brandvägg för alla nätverk.</para>
	      </listitem>
	      <listitem>
		<para><ulink url="http://www.linuxkungfu.org/">ipkungfu</ulink> skall ge dig en fungerande brandvägg "out of the box" med noll konfiguration och låter dig enkelt sätta upp en mer avancerad brandvägg genom att redigera enkla väldokumenterade konfigurationsfiler.</para>
	      </listitem>
	      <listitem>
		<para><ulink url="http://fireflier.sourceforge.net/">fireflier</ulink> är framtagen för att vara en skrivbords-brandvägg. Den är byggd på en server (fireflier-server) och ditt val av GUI-klient (GTK eller QT), och beter sig som många populära interaktiva brandväggsprogram för Windows.</para>
	      </listitem>
	    </itemizedlist>
        </sect2>
	<sect2 id="firewall-references" status="review">
	  <title>Referenser</title>
	  <itemizedlist>
	    <listitem>
	      <para>På <ulink url="https://wiki.ubuntu.com/UbuntuFirewall">Ubuntu Firewall</ulink> wiki-sida finns information om utvecklingen av <application>ufw</application>.</para>
	    </listitem> 
	    <listitem>
	      <para>Dessutom, manualsidan för <application>ufw</application> innehåller en del väldigt användbar information: <command>man ufw</command>.</para>
	    </listitem> 
	    <listitem>
	      <para>Se <ulink url="http://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO.html">packet-filtering-HOWTO</ulink> för mer information om att använda <application>iptables</application>.</para>
	    </listitem> 
	    <listitem>
	      <para><ulink url="http://www.netfilter.org/documentation/HOWTO/NAT-HOWTO.html">nat-HOWTO</ulink> innehåller ytterligare information om detaljer i maskering.</para>
	    </listitem> 
	  </itemizedlist>
	</sect2>
	</sect1>
	<sect1 id="apparmor" status="review">
	  <title>AppArmor</title>
	  <para><application>AppArmor</application> är en säkerhetsmodul för Linux som implementerar namnbaserad obligatorisk åtkomstkontroll (MAC). AppArmor begränsar individuella program till en serie listade filer och posix 1003.1e-utkast förmågor.</para>
	  <para><application>AppArmor</application> är installerat och läses in som standard. Det använder <emphasis>profiler</emphasis> för ett program för att fastställa vilka filer och rättigheter programmet kräver. Vissa paket kommer installera sina egna profiler och ytterligare profiler kan hittas i paketet <application>apparmor-profiles</application>.</para>
	  <para>För att installera paketet <application>apparmor-profiles</application> från en terminalprompt:</para>
<screen>
<command>sudo apt-get install apparmor-profiles</command>
</screen>
	  <para>AppArmor profiler har två metoder för att verkställa:</para>
	  <itemizedlist>
	    <listitem>
	      <para>Complaining/Learning: Profilöversträdelse är tillåten och loggad. Användbar vid testning och utveckling av nya profiler.</para>
	    </listitem>
	    <listitem>
	      <para>Enforced/Confined: upprätthållande profilpolicy såväl som loggning av överträdelsen.</para>
	    </listitem>
	  </itemizedlist>
	  <sect2 id="apparmor-usage" status="review">
	    <title>Använda AppArmor</title>
	    <para>Paketet <application>apparmor-utils</application> innehåller kommandoradverktyg  som du kan använda till att ändra <application>AppArmor</application> verkställandemetod, hitta en profilstatus, skapa nya profiler, osv.</para>
	    <itemizedlist>
	      <listitem>
	    	<para><application>apparmor_status</application> används till att visa nuvarande status för AppArmor profiler.</para>
<screen>
<command>sudo apparmor_status</command>
</screen>
	      </listitem>
	      <listitem>
	        <para><application>aa-complain</application> placerar en profil i metoden <emphasis>complain</emphasis>.</para>
<screen>
<command>sudo aa-complain /path/to/bin</command>
</screen>
	      </listitem>
	      <listitem>
	        <para><application>aa-enforce</application> placerar en profil i metoden <emphasis>enforce</emphasis>.</para>
<screen>
<command>sudo aa-enforce /path/to/bin</command>
</screen>
	      </listitem>
	      <listitem>
	    	<para>I katalogen <filename>/etc/apparmor.d</filename> sparas AppArmor-profilerna. Det kan användas till att förändra <emphasis>metoden</emphasis> för alla profiler.</para>
	    	<para>Skriv följande för att placera alla profiler i complain-metoden:</para>
<screen>
<command>sudo aa-complain /etc/apparmor.d/*</command>
</screen>
	    <para>För att placera alla profiler i enforce-metoden:</para>
<screen>
<command>sudo aa-enforce /etc/apparmor.d/*</command>
</screen>
	      </listitem>
	      <listitem>
	        <para><application>apparmor_parser</application> används för att ladda profiler till kärnan. Den kan också användas till att ladda om en nyligen laddad profil med alternativet <emphasis>-r</emphasis>. För att ladda en profil:</para>
<screen>
<command>cat /etc/apparmor.d/profile.name | sudo apparmor_parser -a</command>
</screen>
		<para>För att ladda om en profil:</para>
<screen>
<command>cat /etc/apparmor.d/profile.name | sudo apparmor_parser -r</command>
</screen>
	      </listitem>
	      <listitem>
	   	<para><filename>/etc/init.d/apparmor</filename> kan användas till att <emphasis>återladda</emphasis> alla profiler:</para>
<screen>
<command>sudo /etc/init.d/apparmor reload</command>
</screen>
	      </listitem>
	      <listitem>
	    	<para>Katalogen <filename>/etc/apparmor.d/disable</filename> kan användas tillsammans med alternativet <application>apparmor_parser -R</application> för att <emphasis>inaktivera</emphasis> en profil.</para>
<screen>
<command>sudo ln -s /etc/apparmor.d/profile.name /etc/apparmor.d/disable/</command>
<command>sudo apparmor_parser -R /etc/apparmor.d/profile.name</command>
</screen>
	        <para>För att <emphasis>återaktivera</emphasis> en inaktiverad profil, ta bort den symboliska länken till profilen i <filename>/etc/apparmor.d/disable/</filename>. Ladda sedan profilen genom att använda alternativet <emphasis>-a</emphasis>.</para>
<screen>
<command>sudo rm /etc/apparmor.d/disable/profile.name</command>
<command>cat /etc/apparmor.d/profile.name | sudo apparmor_parser -a</command>
</screen>
	      </listitem>
	      <listitem>
	    	<para><application>AppArmor</application> kan inaktiveras och kärnmodulen frigörs genom att skriva följande:</para>
<screen>
<command>sudo /etc/init.d/apparmor stop</command>
<command>sudo update-rc.d -f apparmor remove</command>
</screen>
	      </listitem>
	      <listitem>
	        <para>För att återaktivera <application>AppArmor</application> skriv:</para>
<screen>
<command>sudo /etc/init.d/apparmor start</command>
<command>sudo update-rc.d apparmor defaults</command>
</screen>
	      </listitem>
	    </itemizedlist>
	    <note>
	      <para>Ersätt <emphasis>profile.name</emphasis> med namnet på profilen du vill behandla. Dessutom, ersätt <filename>/path/to/bin/</filename> med den verkliga sökvägen till den körbara filen. Som exempel, för kommandot <application>ping</application> använd <filename>/bin/ping</filename></para>
	    </note>
	  </sect2>
	  <sect2 id="apparmor-profiles" status="review">
	    <title>Profiler</title>
	    <para><application>AppArmor</application>-profiler är enkla textfiler som är placerade i <filename>/etc/apparmor.d/</filename>. Filerna är namngivna efter den kompletta sökvägen till den körbara filen de styr, ersättande "/" med ".". Som exempel <filename>/etc/apparmor.d/bin.ping</filename> är AppArmor-profilen för kommandot <filename>/bin/ping</filename>.</para>
	    <para>Det är två huvudtyper av regler som används i profiler:</para>
	    <itemizedlist>
	      <listitem>
	        <para><emphasis>Path entries:</emphasis> som specificerar vilken fil ett program kan få tillgång till i filsystemet.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>Capability entries:</emphasis> fastställer vilka privilegier en begränsad process har tillåtelse att använda.</para>
	      </listitem>
	    </itemizedlist>
	    <para>Som exempel, titta närmare på <filename>/etc/apparmor.d/bin.ping</filename>:</para>
<programlisting>
#include &lt;tunables/global&gt;
/bin/ping flags=(complain) {
  #include &lt;abstractions/base&gt;
  #include &lt;abstractions/consoles&gt;
  #include &lt;abstractions/nameservice&gt;

  capability net_raw,
  capability setuid,
  network inet raw,
  
  /bin/ping mixr,
  /etc/modules.conf r,
}
</programlisting>
	    <itemizedlist>
	      <listitem>
	        <para><emphasis>#include &lt;tunables/global&gt;:</emphasis> innehåller uppgifter från andra filer. Det möjliggör att uppgifter som tillhör flera program kan placeras i en gemensam fil.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>/bin/ping flags=(complain):</emphasis> profilens sökväg till programmet, dessutom sätts läget till <emphasis>complain</emphasis>.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>capability net_raw,:</emphasis> tillåter att programmet får behörighet till CAP_NET_RAW Posix.1e.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>/bin/ping mixr,:</emphasis> tillåter programmet att få läs och skriv rättigheter till filen.</para>
	      </listitem>
            </itemizedlist>
	    <note>
	      <para>Efter redigeringen av en profil måste profilen laddas om. För detaljer läs <xref linkend="apparmor-usage"/>.</para>
	    </note>
	    <sect3 id="apparmor-profiles-new" status="review">
	      <title>Skapa en profil</title>
	      <itemizedlist>
		<listitem>
	          <para><emphasis>Skapa en testplan:</emphasis> Försök att tänka dig vad programmet skall utföra. Testplanen skall delas upp i små principfall. Varje principfall skall ha en kort beskrivning och steg att följa.</para>
		  <para>Några standardprinciper är:</para>
	          <itemizedlist>
		    <listitem>		
		      <para>Starta programmet.</para>
		    </listitem>
		    <listitem>		
		      <para>Stoppa programmet.</para>
		    </listitem>
		    <listitem>		
		      <para>Ladda om programmet.</para>
		    </listitem>
		    <listitem>		
		      <para>Testa alla kommandon som stöds av init-skriptet.</para>
		    </listitem>
		  </itemizedlist>
		</listitem>
	        <listitem>
	          <para><emphasis>Skapa en ny profil:</emphasis> Använd <application>aa-genprof</application> för att skapa en ny profil. Från en terminal:</para>
<screen>
<command>sudo aa-genprof executable</command>
</screen>
		    <para>Till exempel:</para>
<screen>
<command>sudo aa-genprof slapd</command>
</screen>
		</listitem>
		<listitem>
		  <para>För att inkludera din nya profil till paketet <application>apparmor-profiles</application>, rapportera en bugg till <emphasis>Launchpad</emphasis> mot paketet <ulink url="https://bugs.launchpad.net/ubuntu/+source/apparmor/+filebug">AppArmor</ulink>:</para>
		  <itemizedlist>
		    <listitem>
		      <para>Inkludera din testplan och testfall.</para>
		    </listitem>
		    <listitem>
		      <para>Bifoga din nya profil till bugg-rapporten</para>
		    </listitem>
		  </itemizedlist>
		</listitem>
	      </itemizedlist>
	    </sect3>
	    <sect3 id="apparmor-profiles-update" status="review">
	      <title>Uppdatera profiler</title>
	      <para>När programmet uppför sig illa, skickas meddelanden till loggfilerna. Programmet <application>aa-logprof</application> kan användas till att söka igenom loggfiler efter <application>AppArmor</application>-meddelanden, granska dem och uppdatera profilerna. Från en terminal:</para>
<screen>
<command>sudo aa-logprof</command>
</screen>
	    </sect3>
	  </sect2>	   
	  <sect2 id="apparmor-references" status="review">
	    <title>Referenser</title>
	    <itemizedlist>
	      <listitem>
	        <para>Se <ulink url="http://www.novell.com/documentation/apparmor/apparmor201_sp10_admin/index.html?page=/documentation/apparmor/apparmor201_sp10_admin/data/book_apparmor_admin.html">AppArmor Administration Guide</ulink> för avancerade konfigurationsalternativ.</para>
	      </listitem>
	    </itemizedlist>
	    <itemizedlist>
	      <listitem>
	        <para>För detaljer om att använda AppArmor med andra Ubuntu-versioner, läs sidan <ulink url="https://help.ubuntu.com/community/AppArmor"> AppArmor Community Wiki</ulink>.</para>
	      </listitem>
	    </itemizedlist>
	    <itemizedlist>
	      <listitem>
	        <para><ulink url="http://en.opensuse.org/AppArmor">OpenSUSE AppArmor</ulink>-sidan är en annan introduktion till AppArmor.</para>
	      </listitem>
	    </itemizedlist>
	    <itemizedlist>
	      <listitem>
	  	<para>En bra plats att fråga efter hjälp med <application>AppArmor</application> och komma i kontakt med  Ubuntu Server gemenskapen, är på IRC-kanalen <emphasis>#ubuntu-server</emphasis> på <ulink url="http://freenode.net">freenode</ulink>.</para>
	      </listitem>
	    </itemizedlist>
	  </sect2>
	</sect1>

        <sect1 id="certificates-and-security" status="review">
          <title>Certifikat</title>
            <para>En av de vanligaste formerna av kryptering idag är kryptering med <emphasis>publik nyckel</emphasis>. Kryptering med en publik nyckel använder en <emphasis>publik nyckel</emphasis> och en <emphasis>privat nyckel</emphasis>. Systemet fungerar genom att <emphasis>kryptera</emphasis> information med en publik nyckel. Informationen kan bara <emphasis>dekrypteras</emphasis> genom en privat nyckel.</para>
            <para>Ett vanligt användningsområde för kryptering med en publik nyckel är kryptering av programtrafik genom att använda en Secure Socket Layer (SSL) eller Transport Layer Security (TLS) anslutning. Till exempel, konfigurera Apache till att erbjuda <emphasis>HTTPS</emphasis>, HTTP protokoll över SSL. Det möjliggör ett sätt att kryptera trafik till ett protokoll som i sig självt inte har möjlighet till kryptering.</para>
            <para>Ett <emphasis>Certifikat</emphasis> är en metod att sprida en <emphasis>publik nyckel</emphasis> och annan information om en server och organisationen som ansvarar för det. Certifikatet kan vara digitalt signerat av en <emphasis>Certificate Authority</emphasis> eller CA. En CA är en pålitlig tredjepart som har styrkt att informationen i certifikatet är korrekt.</para>
        <sect2 id="types-of-certificates" status="review">
          <title>Typer av certifikat</title>
            <para>För att etablera en server som använder kryptering med publik nyckel, skickar du i de flesta fall en certifikatförfrågan (inklusive din publika nyckel), bevis på ditt företags identitet och betalning till en CA. CA verifierar din certifikatförfrågan och din identitet och skickar tillbaka ett certifikat till din server. Alternativt, kan du skapa ditt egna <emphasis>självsignerade</emphasis> certifikat.</para>
            <note>
              <para>Notera, Ett självsignerat certifikat skall i flesta fall inte användas i produktionsmiljöer.</para>
            </note>
            <para>Fortsättning av HTTPS exemplet, ett CA-signerat certifikat tillför två viktiga möjligheter som självsignerade certifikat saknar:</para>

            <itemizedlist>
            <listitem>
            <para>Webbläsare känner (oftast) automatiskt igen certifikatet och tillåter en säker anslutning utan att först fråga användaren.</para>
            </listitem>
            <listitem>
            <para>När en CA ger ut ett signerat certifikat garanterar den identiteten på organisationen som ger webbsidor till webbläsaren.</para>
            </listitem>
            </itemizedlist>
	
            <para>De flesta webbläsare och datorer som stöder SSL har en lista över CA:s vilka certifikat de automatiskt accepterar. Om en webbläsare stöter på ett certifikat där den godkännande CA:n inte finns med i listan, frågar webbläsaren om användaren vill acceptera eller avböja anslutningen. Dessutom kan andra program generera felmeddelanden vid användande av självsignerade certifikat.</para>
            <para>Processen för att få ett certifikat från en CA är enkel. En snabb översikt följer:</para>

            <orderedlist>
            <listitem>
               <para>Skapa ett krypteringsnyckelpar bestående av en privat och en publik nyckel.</para>
            </listitem>
            <listitem>
                 <para>Skicka en förfrågan om ett certifikat baserat på den publika nyckeln. Certifikatet innehåller information om din server och företaget som äger den.</para>
            </listitem>
            <listitem>
                 <para>Skicka certifikatförfrågan, tillsammans med dokument som bevisar din identitet, till en CA. Vi kan inte berätta vilken CA du skall välja. Ditt beslut kan vara baserat på tidigare erfarenheter, vad dina vänner eller kollegor har erfarit, eller helt enkelt på monetära faktorer.</para>

                    <para>När du har bestämt dig för vilken CA du vill använda måste du följa instruktionerna de har för hur du får ett certifikat från dem.</para>
            </listitem>
            <listitem>
               <para>När din CA anser att du har bevisat att du är den du påstår dig vara skickar de dig ett digitalt certifikat.</para>
            </listitem>
            <listitem>
              <para>Installera det här certifikatet på din säkra server och konfigurera lämpligt program till att använda certifikatet.</para>
            </listitem>
            </orderedlist>

        </sect2>
        <sect2 id="generating-a-csr" status="review">
          <title>Skapa ett Certificate Signing Request (CSR)</title>

          <para>Oavsett om du vill skaffa dig ett certifikat från en CA eller skapa ditt eget självsignerade certifikat är det första steget att skapa en nyckel.</para>

          <para>Om certifikatet kommer att användas av tjänste-demoner, så som Apache, Postfix, Dovecot, etc, är en nyckel utan lösenordsfras  ofta lämpligt. Att inte använda en lösenordsfras tillåter tjänsten att starta utan något manuellt ingripande, som vanligtvis är det bästa sättet att starta en demon.</para>

          <para>Detta avsnitt kommer att omfatta skapandet av en nyckel med en lösenordsfras och en utan. Nyckeln utan lösenordsfras kommer sedan att användas för att skapa ett intyg som kan användas med olika tjänste-demoner.</para>

          <warning>
            <para>Att köra din säkra tjänst utan en lösenordsfras är praktiskt eftersom du inte behöver ange lösenord varje gång du startar din säkra tjänst. Men det är osäkert och en kompromiss med nyckeln innebär en kompromiss för servern också.</para>
          </warning>

          <para>För att generera <emphasis>nycklarna</emphasis> för Certificate Signing Request (CSR) kör följande kommando från terminalprompten:</para>

<screen>
<command>openssl genrsa -des3 -out server.key 1024</command>
</screen>

<programlisting>
Generating RSA private key, 1024 bit long modulus
.....................++++++
.................++++++
unable to write 'random state'
e is 65537 (0x10001)
Enter pass phrase for server.key:
</programlisting>

        <para>Du kan nu ange din lösenordsfras. För bästa säkerhet bör det vara minst åtta tecken. Minimilängden när man skriver -des3 är fyra tecken. Det bör innehålla siffror och/eller skiljetecken och inte vara ett ord från en ordbok. Kom också ihåg att lösenordet är skiftlägeskänsligt.</para>

        <para>Skriv om lösenordsfrasen för autentisering. Så snart du skrivit om lösenordet korrekt, genereras server-nyckeln och sparas i filen <filename>server.key</filename>.</para>
      
        <para>Skapa nu din osäkra nyckel, den utan lösenordsfras och blanda nyckelnamnen:</para>

<screen>
<command>openssl rsa -in server.key -out server.key.insecure</command>
<command>mv server.key server.key.secure</command>
<command>mv server.key.insecure server.key</command>
</screen>

        <para>Den osäkra nyckeln har nu namnet <filename>server.key</filename>, och du kan använda denna fil till att skapa din CSR utan lösenordsfras.</para>

        <para>För att skapa ditt CSR, kör följande kommando från en terminalprompt:</para>

<screen>
<command>openssl req -new -key server.key -out server.csr</command>
</screen>

        <para>Du behöver skriva lösenordsfrasen vid inmatningsmarkören. Om du skrivit rätt lösenordsfras kommer du frågas om att skriva in företagsnamnet vid inmatningsmarkören, så snart du angett alla detaljer, skapas din CSR och sparas i filen <filename>server.csr</filename>. Webbplats, e-post ID, o.s.v.</para>
	<para>Du kan nu sända in din CSR-fil till en CA för behandling. CA kommer använda CSR-filen och skapa ett certifikat. Å andra sidan, kan du skapa en själv-signerat certifikat genom att använda CSR-filen.</para>
        
	</sect2>
        <sect2 id="creating-a-self-signed-certificate" status="review">
          <title>Skapa ett självsignerat certifikat</title>
            <para>För att skapa ett självsignerat certifikat, kör följande kommando från en terminalprompt:</para>
<screen>
<command>openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</command>
</screen>

            <para>Ovanstående kommando kommer att be dig att skriva in lösenordsfrasen. När du har skrivit in rätt lösenordsfras kommer ditt certifikat att skapas och det kommer att lagras i filen <filename>server.crt</filename>.</para>
        <warning>
        <para>Om din säkra server används i en produktionsmiljö behöver du troligen ett CA-signerat certifikat. Det är inte rekommenderat att använda självsignerade certifikat.</para>
        </warning>
        </sect2>
        <sect2 id="installing-the-certificate" status="review">
          <title>Installera certifikatet</title>

            <para>Du kan installera nyckelfilen <filename>server.key</filename>och certifikatfilen <filename>server.crt</filename>, eller certifikatfilen som skapats av din CA, genom att köra följande kommandon från terminalprompten:</para>
<screen>
<command>sudo cp server.crt /etc/ssl/certs</command>
<command>sudo cp server.key /etc/ssl/private</command>
</screen>
        <para>Nu kan du enkelt konfigurera något program som har möjligheten att använda kryptering med publik nyckel, till att använda <emphasis>certifikatet</emphasis> och <emphasis>nyckel</emphasis>filerna. Till exempel, <application>Apache</application> kan tillhandahålla HTTPS, <application>Dovecot</application> kan tillhandahålla IMAPS and POP3S, o.s.v.</para>
        </sect2>
        <sect2 id="certificate-authority" status="review">
          <title>Certifieringsinstans</title>

          <para>Om tjänsterna på ditt nätverk kräver mer än några få självsignerade certifikat så kan det vara värt den extra ansträngningen att sätta upp en egen <emphasis>Certification Authority (CA)</emphasis>. Genom att använda certifikat signerade av din egna CA, möjliggör för olika tjänster som använder certifikatet att lita på andra tjänster som använder certifikat publicerade från samma CA.</para>

          <procedure>
            <step>
  
              <para>Börja med att skapa katalogerna som skall innehålla CA-certifikatet och relaterade filer:</para>    

<screen>
<command>sudo mkdir /etc/ssl/CA</command>
<command>sudo mkdir /etc/ssl/newcerts</command>
</screen>

            </step>
            <step>
  
              <para>En CA behöver ytterligare några filer för att fungera, en för att hålla reda på senaste serienumret som används av CA, varje certifikat måste ha ett unikt nummer och en annan fil för att spara vilka certifikat som har utfärdats:</para>    

<screen>
<command>sudo sh -c "echo '01' &gt; /etc/ssl/CA/serial"</command>
<command>sudo touch /etc/ssl/CA/index.txt</command>
</screen>

            </step>
            <step>
  
              <para>Den tredje filen är en konfigurationsfil för CA. Även om det inte är absolut nödvändigt, är det ändå lämpligt då man utfärdar flera certifikat. Redigera <filename>/etc/ssl/openssl.cnf</filename> och under <emphasis>[ CA_default ]</emphasis> ändra:</para>    

<programlisting>
dir             = /etc/ssl/             # Where everything is kept
database        = $dir/CA/index.txt     # database index file.
certificate     = $dir/certs/cacert.pem # The CA certificate
serial          = $dir/CA/serial        # The current serial number
private_key     = $dir/private/cakey.pem# The private key
</programlisting>    

            </step>
            <step>
  
              <para>Nästa steg, skapa det självsignerade root-certifikatet:</para>    

<screen>
<command>openssl req -new -x509 -extensions v3_ca -keyout cakey.pem -out cacert.pem -days 3650</command>
</screen>

              <para>Du kommer därefter bli ombedd att ange detaljer om certifikatet.</para>

            </step>
            <step>
  
              <para>Installera nu root-certifikatet och nyckeln:</para>    

<screen>
<command>sudo mv cakey.pem /etc/ssl/private/</command>
<command>sudo mv cacert.pem /etc/ssl/certs/</command>
</screen>

            </step>
            <step>
  
              <para>Du är nu redo att börja signera certifikat. Första saken som behövs är en Certificate Signing Request (CSR), för detaljer se <xref linkend="generating-a-csr"/>. När du har en CSR, skriv följande för att generera ett certifikat signerat av CA:</para>    

<screen>
<command>sudo openssl ca -in server.csr -config /etc/ssl/openssl.cnf</command>
</screen>

              <para>Efter att du angett lösenordet för CA-nyckeln, kommer du uppmanas att signera certifikatet och  ännu en gång för tt godkänna certifikatet. Du bör sedan se en stor mängd utdata i samband med att certifikatet skapas.</para>

            </step>
            <step>
  
              <para>Det skall nu finnas en ny fil, <filename>/etc/ssl/newcerts/01.pem</filename>, som innehåller samma utdata. Kopiera och klistra in allt mellan raderna <emphasis>-----BEGIN CERTIFICATE-----</emphasis> och <emphasis>----END CERTIFICATE-----</emphasis> till en fil med samma namn som värdnamnet för den server där certifikatet kommer installeras. Till exempel <filename>mail.example.com.crt</filename>, är ett bra beskrivande namn.</para>    

              <para>Efterföljande certifikat kommer namnges till <filename>02.pem</filename>, <filename>03.pem</filename>, etc.</para>

              <note>
                <para>Ersätt <emphasis>mail.example.com.crt</emphasis> med din egna namnbeskrivning.</para>
              </note>

            </step>
            <step>
  
              <para>Till sist, kopiera det nya certifikatet till värden som behöver det och konfigurera lämpligt program till att använda det. Standardplatsen att installera certifikat i är <filename role="directory">/etc/ssl/certs</filename>. Det gör att flera tjänster kan använda samma certifikat utan allt för komplicerade filrättigheter.</para>    

              <para>För program som kan konfigureras till att använda ett CA certifikat, skall du också kopiera filen <filename>/etc/ssl/certs/cacert.pem</filename> till katalogen <filename role="directory">/etc/ssl/certs/</filename> på varje server.</para>

            </step>
          </procedure>

        </sect2>
        <sect2 id="certificate-references" status="review">
          <title>Referenser</title>
          <itemizedlist>
            <listitem>
              <para>För mer detaljer om användandet av kryptering se <ulink url="http://tldp.org/HOWTO/SSL-Certificates-HOWTO/index.html">SSL Certificates HOWTO</ulink> av tlpd.org</para>
            </listitem>
            <listitem>
              <para><ulink url="http://www.pki-page.org/">The PKI Page</ulink> innehåller en lista på Certificate Authorities.</para>
            </listitem>
            <listitem>
              <para>På Wikipedia <ulink url="http://en.wikipedia.org/wiki/Https">HTTPS</ulink> finns mer information om HTTPS.</para>
            </listitem>
            <listitem>
              <para>För mer information om <emphasis>OpenSSL</emphasis>, se webbplatsen för <ulink url="http://www.openssl.org/">OpenSSL</ulink>.</para>
            </listitem>
            <listitem>
              <para>Dessutom, O'Reilly's <ulink url="http://oreilly.com/catalog/9780596002701/">Network Security with OpenSSL</ulink> är en annan bra referens.</para>
            </listitem>
          </itemizedlist>
        </sect2>
        </sect1>
        <sect1 id="ecryptfs" status="review">
          <title>eCryptfs</title>
          
          <para><emphasis>eCryptfs</emphasis> är ett POSIX-kompatibelt företagsklassat kryptografiskt stackande filsystem för Linux. Lägger ett lager ovanpå filsystemets lager, <emphasis> eCryptfs vikt&gt; skyddar filer oavsett underliggande filsystemet, partitionstyp etc.</emphasis></para>

          <para>Under installationen finns ett alternativ för att kryptera partitionen <filename role="directory">/home</filename>. Det kommer automatiskt konfigurera allt som är nödvändigt för att kryptera och montera partitionen.</para>

          <para>Som ett exempel, kommer detta avsnitt att omfatta konfigureringen av <filename role="directory">/srv</filename> till att bli krypterad genom att använda eCryptfs.</para>

          <sect2 id="ecryptfs-usage" status="review">
            <title>Använda eCryptfs</title>

            <para>Först, installera nödvändiga paket, skriv från en terminalprompt:</para>

<screen>
<command>sudo apt-get install ecryptfs-utils</command>
</screen>

            <para>Montera nu partitionen som skall krypteras:</para>

<screen>
<command>sudo mount -t ecryptfs /srv /srv</command>
</screen>

            <para>Du kommer tillfrågas efter några detaljer om hur <application>ecryptfs</application> skall kryptera datan.</para>
         
            <para>För att testa så att filerna i <filename>/srv</filename> verkligen är krypterade kopiera katalogen <filename>/etc/default</filename> till <filename>/srv</filename>:</para>

<screen>
<command>sudo cp -r /etc/default /srv</command>
</screen>

            <para>Avmontera nu <filename>/srv</filename>, och försök att visa en fil:</para>

<screen>
<command>sudo umount /srv</command>
<command>cat /srv/default/cron</command>
</screen>

            <para>Återmontera <filename>/srv</filename> genom att använda <application>ecryptfs</application> kommer gör att datan återigen kan visas.</para>
     
          </sect2>
          <sect2 id="ecryptfs-automount" status="review">
            <title>Automatiskt montera krypterade partitioner</title>
            
            <para>Det finns flera sätt att automatiskt montera en <application>ecryptfs</application>-krypterat filsystem under uppstart. Detta exempel kommer använda en <filename>/root/.ecryptfsrc</filename> fil som innehåller monterings alternativ, tillsammans med en fil med en lösenordsfras som sparats på ett USB-minne.</para>

            <para>Skapa först <filename>/root/.ecryptfsrc</filename> som innehåller:</para>

<programlisting>
key=passphrase:passphrase_passwd_file=/mnt/usb/passwd_file.txt
ecryptfs_sig=5826dd62cf81c615
ecryptfs_cipher=aes
ecryptfs_key_bytes=16
ecryptfs_passthrough=n
ecryptfs_enable_filename_crypto=n
</programlisting>

            <note>
              <para>Justera <emphasis>ecryptfs_sig</emphasis> tillsignaturen i <filename>/root/.ecryptfs/sig-cache.txt</filename>.</para>
            </note>

            <para>Nästa steg, skapa filen <filename>/mnt/usb/passwd_file.txt</filename> som innehåller lösenordsfrasen:</para>

<programlisting>
passphrase_passwd=[secrets]
</programlisting>

            <para>Lägg nu till de nödvändiga raderna till <filename>/etc/fstab</filename>:</para>

<programlisting>
/dev/sdb1       /mnt/usb        ext3    ro      0 0
/srv /srv ecryptfs defaults 0 0
</programlisting>

            <para>Säkerställ att USB-enheten är monterad före den krypterade partitionen.</para>

            <para>Slutligen, starta om och <filename>/srv</filename> skall monteras genom att använda ecryptfs.</para>
            
          </sect2>
          <sect2 id="ecryptfs-other-utils" status="review">
            <title>Andra verktyg</title>

            <para>Paketet <application>ecryptfs-utils</application> inkluderar flera andra användbara verktyg:</para>

            <itemizedlist>
              <listitem>
                <para><emphasis>ecryptfs-setup-private:</emphasis> skapar en <filename>~/Private</filename>-katalog till att innehålla krypterad information. Detta verktyg kan köras av oprivilegierade användare till att bevara data privat från andra användare på systemet.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-mount-private och ecryptfs-umount-private:</emphasis> kommer respektivt montera och avmontera, en användares <filename>~/Private</filename>-katalog.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-add-passphrase:</emphasis> lägger till en ny lösenordsfras till kärnans nyckelring.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-manager:</emphasis> hanterar <application>eCryptfs</application>-objekt såsom nycklar.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-stat:</emphasis> tillåter att du kan visa <application>ecryptfs</application>-metainformation för en fil.</para>
              </listitem>
            </itemizedlist>

          </sect2>
          <sect2 id="ecryptfs-references" status="review">
            <title>Referenser</title>
            
            <itemizedlist>
              <listitem>
                <para>Föe mer information om eCryptfs, se projektsidan på <ulink url="https://launchpad.net/ecryptfs">Launch Pad</ulink></para>
              </listitem>
              <listitem>
                <para>Detfinns också en artikel i <ulink url="http://www.linuxjournal.com/article/9400">Linux Journal</ulink> som handlar om eCryptfs.</para>
              </listitem>
              <listitem>
                <para>Dessutom, för fler <application>ecryptfs</application> alternativ se <ulink url="http://manpages.ubuntu.com/manpages/jaunty/en/man7/ecryptfs.7.html">ecryptfs man-sida</ulink>.</para>
              </listitem>
            </itemizedlist>

          </sect2>
        </sect1>
    </chapter>
