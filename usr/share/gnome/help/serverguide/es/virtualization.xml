<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../libs/global.ent">
<!-- NAMES --><!ENTITY canonical-name "Canonical Ltd.">
<!ENTITY project-name "Ubuntu Documentation Project">
<!ENTITY ubuntu "<phrase>Ubuntu</phrase>">
<!ENTITY sg-title "Server Guide">
<!-- VERSIONS --><!ENTITY distro-version "Jaunty Jackalope">
<!ENTITY distro-rev "9.04">
<!ENTITY distro-release-date "April 2009">
<!ENTITY distro-short-codename "jaunty">
<!ENTITY distro-apt-cd-name "Ubuntu 9.04_Jaunty_Jackalope">
<!ENTITY linux-kernel-version "2.6.27">
<!ENTITY gcc-version "4.3.1">
<!ENTITY glibc-version "2.8">
<!ENTITY python-version "2.5">
<!ENTITY glossary SYSTEM "../common/C/glossary.xml">
<!-- LEGAL URLs --><!ENTITY legalnotice SYSTEM "../libs/C/legalnotice.xml">
<!ENTITY gpl-url '<ulink url="http://www.gnu.org/licenses/gpl.html">GNU General Public License</ulink>'>
<!ENTITY cc "http://creativecommons.org/">
<!ENTITY cc-attrib '<ulink url="http://creativecommons.org/licenses/by-sa/2.5/">Attribution-ShareAlike 2.5</ulink>'>
<!ENTITY cc-fulldeed-url "http://creativecommons.org/licenses/by-sa/2.5/legalcode/">
<!ENTITY fdl-url '<ulink url="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</ulink>'>
<!ENTITY cc-disclaimer-url "http://creativecommons.org/licenses/disclaimer-popup?lang=en">
<!-- CANONICAL URL RESOURCES --><!ENTITY canonical-url "http://www.canonical.com">
<!-- OTHER UBUNTU RELATED RESOURCES --><!ENTITY upstart-url "http://upstart.ubuntu.com">
<!-- UBUNTU IRC INFORMATION --><!ENTITY irc-network "Freenode">
<!ENTITY irc-server "irc.ubuntu.com">
<!ENTITY ubuntu-irc "irc.ubuntu.com channel #ubuntu">
<!ENTITY kubuntu-irc "irc.ubuntu.com channel #kubuntu">
<!ENTITY xubuntu-irc "irc.ubuntu.com channel #xubuntu">
<!ENTITY edubuntu-irc "irc.ubuntu.com channel #edubuntu">
<!-- UBUNTU URL RESOURCES --><!ENTITY ubuntu-packages "http://packages.ubuntu.com">
<!ENTITY ubuntu-web "http://www.ubuntu.com">
<!ENTITY ubuntu-main "http://www.ubuntu.com">
<!ENTITY ubuntu-download "http://www.ubuntu.com/download">
<!ENTITY ubuntu-forums "http://www.ubuntu.com/community/forums">
<!ENTITY ubuntu-components "http://www.ubuntu.com/ubuntu/components">
<!ENTITY ubuntu-lists "http://lists.ubuntu.com">
<!ENTITY ubuntu-wiki "http://wiki.ubuntu.com">
<!ENTITY ubuntu-bugzilla "https://launchpad.net/distros/ubuntu/+bugs">
<!ENTITY ubuntu-doc-bugs "https://launchpad.net/products/ubuntu-doc/+bugs">
<!ENTITY ubuntu-support "http://www.ubuntu.com/support">
<!ENTITY ubuntu-paidsupport "http://www.ubuntu.com/support/paid">
<!ENTITY ubuntu-freesupport "http://www.ubuntu.com/support/free">
<!ENTITY ubuntu-comments "http://www.ubuntuforums.org/showthread.php?p=21787">
<!ENTITY ubuntu-documentation "http://help.ubuntu.com">
<!ENTITY ubuntu-documentation-repos "https://docteam.ubuntu.com/repos/trunk">
<!ENTITY ubuntu-doc-team "https://wiki.ubuntu.com/DocumentationTeam">
<!ENTITY ubuntu-doc-list "http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc">
<!ENTITY ubuntu-shipit "http://shipit.ubuntu.com">
<!ENTITY ubuntu-launchpad "https://launchpad.ubuntu.com">
<!ENTITY ubuntu-rosetta "https://launchpad.ubuntu.com/rosetta">
<!ENTITY ubuntu-planet "http://planet.ubuntu.com">
<!ENTITY ubuntu-philosophy "http://www.ubuntu.com/ubuntu/philosophy">
<!ENTITY ubuntu-participate "http://www.ubuntu.com/community/participate/">
<!ENTITY ubuntu-marketplace "http://www.ubuntu.com/support/marketplace">
<!ENTITY ubuntu-hwdb "http://hwdb.ubuntu.com">
<!-- UBUNTU WIKI RESOURCES --><!ENTITY wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY restricted-formats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-RestrictedFormats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-XChatHowto "https://help.ubuntu.com/community/XChatHowto">
<!ENTITY wiki-RootSudo "https://help.ubuntu.com/community/RootSudo">
<!ENTITY wiki-HowToGetHelp "https://help.ubuntu.com/community/HowToGetHelp">
<!ENTITY transcode "https://help.ubuntu.com/community/DVDRippingandEncoding">
<!ENTITY wiki-Wine "https://help.ubuntu.com/community/Wine">
<!ENTITY wiki-Cedega "https://help.ubuntu.com/community/Cedega">
<!ENTITY wiki-Nano "https://help.ubuntu.com/community/NanoHowto">
<!ENTITY wiki-locoteams "https://wiki.ubuntu.com/LoCoTeamList">
<!ENTITY wiki-BasicCommands "https://help.ubuntu.com/community/BasicCommands">
<!ENTITY wiki-filepermissions "https://help.ubuntu.com/community/FilePermissions">
<!-- KUBUNTU URL RESOURCES --><!ENTITY kubuntu-web "http://www.kubuntu.org">
<!ENTITY kubuntu-main "http://www.kubuntu.org">
<!ENTITY kubuntu-download "http://releases.ubuntu.com/kubuntu/">
<!ENTITY kubuntu-packages "http://packages.ubuntu.com/edgy/">
<!ENTITY kubuntu-cdpackages-nodefault "http://people.ubuntu.com/~cjwatson/seeds/kubuntu-edgy/ship">
<!ENTITY kubuntu-lists "http://lists.ubuntu.com/archives/kubuntu-users/">
<!ENTITY kubuntu-lists-users "http://lists.ubuntu.com/mailman/listinfo/kubuntu-users/">
<!ENTITY kubuntu-lists-devel "http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel/">
<!ENTITY kubuntu-mirrors "http://distrowatch.com/kubuntu">
<!ENTITY kubuntu-forums "http://kubuntuforums.net">
<!ENTITY kubuntu-wiki "https://wiki.kubuntu.org">
<!ENTITY kubuntu-documentation-site "http://www.kubuntu.org/documentation.php">
<!ENTITY kubuntu-wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY kubuntu-support "http://www.kubuntu.org/support.php">
<!-- XUBUNTU URL RESOURCES --><!ENTITY xubuntu-web "http://www.xubuntu.org">
<!ENTITY xubuntu-main "http://www.xubuntu.org">
<!ENTITY xubuntu-web-help "http://www.xubuntu.org/help">
<!-- DEBIAN RESOURCES --><!ENTITY debian-apt "http://www.debian.org/doc/user-manuals#apt-howto">
<!-- EXTERNAL URL RESOURCES --><!ENTITY linmodem "http://www.linmodems.org/">
<!ENTITY gnome "http://www.gnome.org/">
<!ENTITY linuxorg "http://www.linux.org/">
<!ENTITY ooo "http://www.openoffice.org/">
<!ENTITY kde "http://www.kde.org/">
<!ENTITY lugww "http://lugww.counter.li.org/">
<!ENTITY ubuntu-watch "http://distrowatch.com/ubuntu/">
<!ENTITY realplayer-download "http://www.real.com/linux/">
<!ENTITY nvu-download "http://www.nvu.com/download.html">
<!ENTITY sunjava-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY xorg "http://www.x.org">
<!ENTITY dyndns "http://www.dyndns.org">
<!ENTITY shoutcast "http://www.shoutcast.com/">
<!ENTITY freedomtoaster "http://www.freedomtoaster.org/">
<!ENTITY xfce "http://www.xfce.org/">
<!-- ubuntu-screenshots TODO --><!ENTITY kubuntu-screenshots "http://shots.osdir.com/">
<!ENTITY mozilla "http://www.mozilla.org/">
<!ENTITY mozilla-firefox "http://www.mozilla.org/products/firefox/">
<!ENTITY gnu "http://www.gnu.org/">
<!ENTITY gnu-philosophy "http://www.gnu.org/philosophy/">
<!ENTITY win4lin "http://www.win4lin.com">
<!ENTITY codeweavers "http://www.codeweavers.com">
<!ENTITY kernel "http://www.kernel.org">
<!ENTITY google "http://www.google.com">
<!ENTITY kdelook " http://www.kde-look.org">
<!ENTITY lulu-store "http://www.lulu.com/ubuntu-doc">
<!-- this entity controls the url for addons--><!ENTITY java-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY skype-deb "skype_1.2.0.17-1_i386.deb">
<!ENTITY skype-download "http://www.skype.com/go/getskype-linux-deb">
<!ENTITY scanmodem-gz "scanModem.gz">
<!ENTITY scanmodem-url "http://linmodems.technion.ac.il/packages/scanModem.gz">
<!ENTITY ext2fs-url "http://www.fs-driver.org/index.html">
<!ENTITY mvb-tar "mvb_1.6.tgz">
<!ENTITY mvb-url "http://www.xscd.com/pub/mvb/&mvb-tar;">
<!-- TLDP --><!ENTITY ldp-pre-install-check "http://tldp.org/HOWTO/Pre-Installation-Checklist/">
<!-- LANGUAGES (sorted by two letter code)--><!ENTITY Afar "aa">
<!ENTITY Abkhazian "ab">
<!ENTITY Afrikaans "af">
<!ENTITY Amharic "af">
<!ENTITY Arabic "ar">
<!ENTITY Assamese "as">
<!ENTITY Aymara "ay">
<!ENTITY Azerbaijani "az">
<!ENTITY Bashkir "ba">
<!ENTITY Byelorussian "be">
<!ENTITY Bulgarian "bg">
<!ENTITY Bihari "bh">
<!ENTITY Bislama "bi">
<!ENTITY Bangla "bn">
<!ENTITY Bengali "bn">
<!ENTITY Tibetan "bo">
<!ENTITY Breton "br">
<!ENTITY Catalan "ca">
<!ENTITY Corsican "co">
<!ENTITY Czech "cs">
<!ENTITY Welsh "cy">
<!ENTITY Danish "da">
<!ENTITY German "de">
<!ENTITY Bhutani "dz">
<!ENTITY Greek "el">
<!-- <!ENTITY EnglishAmerican 'en'> --><!ENTITY EnglishAmerican "C">
<!ENTITY Esperanto "eo">
<!ENTITY Spanish "es">
<!ENTITY Estonian "et">
<!ENTITY Basque "eu">
<!ENTITY Persian "fa">
<!ENTITY Finnish "fi">
<!ENTITY Fiji "fj">
<!ENTITY Faeroese "fo">
<!ENTITY French "fr">
<!ENTITY Frisian "fy">
<!ENTITY Irish "ga">
<!ENTITY Gaelic "gd">
<!ENTITY ScotsGaelic "gd">
<!ENTITY Galician "gl">
<!ENTITY Guarani "gn">
<!ENTITY Gujarati "gu">
<!ENTITY Hausa "ha">
<!ENTITY Hindi "hi">
<!ENTITY Croatian "hr">
<!ENTITY Hungarian "hu">
<!ENTITY Armenian "hy">
<!ENTITY Interlingua "ia">
<!ENTITY Interlingue "ie">
<!ENTITY Inupiak "ik">
<!ENTITY Indonesian "in">
<!ENTITY Icelandic "is">
<!ENTITY Italian "it">
<!ENTITY Hebrew "iw">
<!ENTITY Japanese "ja">
<!ENTITY Yiddish "ji">
<!ENTITY Javanese "jw">
<!ENTITY Georgian "ka">
<!ENTITY Kazakh "kk">
<!ENTITY Greenlandic "kl">
<!ENTITY Cambodian "km">
<!ENTITY Kannada "kn">
<!ENTITY Korean "ko">
<!ENTITY Kashmiri "ks">
<!ENTITY Kurdish "ku">
<!ENTITY Kirghiz "ky">
<!ENTITY Latin "la">
<!ENTITY Lingala "ln">
<!ENTITY Laothian "lo">
<!ENTITY Lithuanian "lt">
<!ENTITY Latvian "lv">
<!ENTITY Lettish "lv">
<!ENTITY Malagasy "mg">
<!ENTITY Maori "mi">
<!ENTITY Macedonian "mk">
<!ENTITY Malayalam "ml">
<!ENTITY Mongolian "mn">
<!ENTITY Moldavian "mo">
<!ENTITY Marathi "mr">
<!ENTITY Malay "ms">
<!ENTITY Maltese "mt">
<!ENTITY Burmese "my">
<!ENTITY Nauru "na">
<!ENTITY Nepali "ne">
<!ENTITY Dutch "nl">
<!ENTITY Norwegian "no">
<!ENTITY Occitan "oc">
<!ENTITY Afan "om">
<!ENTITY Oromo "om">
<!ENTITY Oriya "or">
<!ENTITY Punjabi "pa">
<!ENTITY Polish "pl">
<!ENTITY Pushto "ps">
<!ENTITY Pashto "ps">
<!ENTITY Portuguese "pt">
<!ENTITY Quechua "qu">
<!ENTITY Rhaeto-Romance "rm">
<!ENTITY Kirundi "rn">
<!ENTITY Romanian "ro">
<!ENTITY Russian "ru">
<!ENTITY Kinyarwanda "rw">
<!ENTITY Sanskrit "sa">
<!ENTITY Sindhi "sd">
<!ENTITY Sangro "sg">
<!ENTITY Serbo-Croatian "sh">
<!ENTITY Singhalese "si">
<!ENTITY Slovak "sk">
<!ENTITY Slovenian "sl">
<!ENTITY Samoan "sm">
<!ENTITY Shona "sn">
<!ENTITY Somali "so">
<!ENTITY Albanian "sq">
<!ENTITY Serbian "sr">
<!ENTITY Siswati "ss">
<!ENTITY Sesotho "st">
<!ENTITY Sudanese "su">
<!ENTITY Swedish "sv">
<!ENTITY Swahili "sw">
<!ENTITY Tamil "ta">
<!ENTITY Tegulu "te">
<!ENTITY Tajik "tg">
<!ENTITY Thai "th">
<!ENTITY Tigrinya "ti">
<!ENTITY Turkmen "tk">
<!ENTITY Tagalog "tl">
<!ENTITY Setswana "tn">
<!ENTITY Tonga "to">
<!ENTITY Turkish "tr">
<!ENTITY Tsonga "ts">
<!ENTITY Tatar "tt">
<!ENTITY Twi "tw">
<!ENTITY Ukrainian "uk">
<!ENTITY Urdu "ur">
<!ENTITY Uzbek "uz">
<!ENTITY Vietnamese "vi">
<!ENTITY Volapuk "vo">
<!ENTITY Wolof "wo">
<!ENTITY Xhosa "xh">
<!ENTITY Yoruba "yo">
<!ENTITY Chinese "zh">
<!ENTITY Zulu "zu">
<!ENTITY % gnome-menus-C SYSTEM "../../libs/gnome-menus-C.ent">
<!-- MENUS --><!-- Please keep entries alphabetical, it makes them much easier to find & use --><!ENTITY about-me "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>About-me</guimenuitem></menuchoice>">
<!ENTITY accessories "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem></menuchoice>">
<!ENTITY acro-read "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Acrobat Reader</guimenuitem></menuchoice>">
<!ENTITY administration "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem></menuchoice>">
<!ENTITY aisleriot "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>AisleRiot Solitaire</guimenuitem></menuchoice>">
<!ENTITY amule "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY anjuta-ide "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Anjuta IDE</guimenuitem></menuchoice>">
<!ENTITY archive-man "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Archive Manager</guimenuitem></menuchoice>">
<!ENTITY assistive-technology-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Assistive Technology Support</guimenuitem></menuchoice>">
<!ENTITY audacity "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Audacity</guimenuitem></menuchoice>">
<!ENTITY azureus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Azureus</guimenuitem></menuchoice>">
<!ENTITY baobab "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Disk Usage Analyzer</guimenuitem></menuchoice>">
<!ENTITY bittorrent "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Bittorrent</guimenuitem></menuchoice>">
<!ENTITY blender3d "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Blender 3d modeller</guimenuitem></menuchoice>">
<!ENTITY bluefish "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Bluefish Editor</guimenuitem></menuchoice>">
<!ENTITY boot "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Boot</guimenuitem></menuchoice>">
<!ENTITY brasero "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Brasero Disc Burning</guimenuitem></menuchoice>">
<!ENTITY bum "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Boot-up Manager</guimenuitem></menuchoice>">
<!ENTITY bzrgtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Olive bazaar Branch Manager</guimenuitem></menuchoice>">
<!ENTITY calculator "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Calculator</guimenuitem></menuchoice>">
<!ENTITY character-map "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Character Map</guimenuitem></menuchoice>">
<!ENTITY compizconfig "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>CompizConfig Settings Manager</guimenuitem></menuchoice>">
<!ENTITY computer "<menuchoice><guimenu>Places</guimenu><guimenuitem>Computer</guimenuitem></menuchoice>">
<!ENTITY connecttoserver "<menuchoice><guimenu>Places</guimenu><guimenuitem>Connect to Server...</guimenuitem></menuchoice>">
<!ENTITY cowbell "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Cowbell Music Organizer</guimenuitem>	</menuchoice>">
<!ENTITY chromium "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Chromium</guisubmenu></menuchoice>">
<!ENTITY computer-janitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guisubmenu>System Janitor</guisubmenu></menuchoice>">
<!ENTITY desktop-background "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Desktop Background</guimenuitem></menuchoice>">
<!ENTITY desktop-effects "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Appearance</guimenuitem><guimenuitem>Visual Effects</guimenuitem></menuchoice>">
<!ENTITY desktop-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem></menuchoice>">
<!ENTITY devhelp "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Devhelp</guimenuitem></menuchoice>">
<!ENTITY device-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Hardware Information</guimenuitem></menuchoice>">
<!ENTITY dictionary "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Dictionary</guimenuitem></menuchoice>">
<!ENTITY disks "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Disks</guimenuitem></menuchoice>">
<!ENTITY downloader-x "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Downloader for X</guimenuitem></menuchoice>">
<!ENTITY eclipse-ide "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Eclipse IDE</guimenuitem></menuchoice>">
<!ENTITY ekiga "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Internet</guimenuitem><guimenuitem>Ekiga Softphone</guimenuitem></menuchoice>">
<!ENTITY efax-gtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Office</guisubmenu><guimenuitem>Efax-gtk</guimenuitem></menuchoice>">
<!ENTITY etherape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Etherape</guimenuitem></menuchoice>">
<!ENTITY evolution-mail "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Evolution Mail</guimenuitem></menuchoice>">
<!ENTITY file-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>File Management</guimenuitem></menuchoice>">
<!ENTITY firefox "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Internet</guisubmenu><guimenuitem>Firefox Web Browser</guimenuitem></menuchoice>">
<!ENTITY firestarter-firewall-tool "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Firestarter</guimenuitem></menuchoice>">
<!ENTITY five-or-more "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Five or More</guimenuitem></menuchoice>">
<!ENTITY font "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Font</guimenuitem></menuchoice>">
<!ENTITY f-spot "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>F-Spot Photo Manager</guimenuitem></menuchoice>">
<!ENTITY frozen-bubble "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Frozen Bubble</guisubmenu></menuchoice> to play <application>Frozen Bubble</application>">
<!ENTITY gambas "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Gambas</guimenuitem></menuchoice>">
<!ENTITY games "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Games</guimenuitem></menuchoice>">
<!ENTITY gdesklets "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>gDesklets</guimenuitem></menuchoice>">
<!ENTITY gftp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>gFTP</guimenuitem></menuchoice>">
<!ENTITY gimp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>GIMP Image Editor</guimenuitem></menuchoice>">
<!ENTITY gnome-app-install "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Add/Remove...</guimenuitem></menuchoice>">
<!ENTITY gnome-config-editor "<screen><command>gconf-editor</command></screen>">
<!ENTITY gnome-sound-recorder "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Sound Recorder</guimenuitem></menuchoice>">
<!ENTITY gparted "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration </guisubmenu><guimenuitem>Gnome Partition Editor</guimenuitem></menuchoice>">
<!ENTITY graphics "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem></menuchoice>">
<!ENTITY gthumb "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>gThumb Image Viewer</guimenuitem></menuchoice>">
<!ENTITY gtkpod "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>gtkpod</guimenuitem></menuchoice>">
<!ENTITY gnucash "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>GnuCash Finance Management</guimenuitem></menuchoice>">
<!ENTITY gxine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>gxine</guimenuitem></menuchoice>">
<!ENTITY home-folder "<menuchoice><guimenu>Places</guimenu><guimenuitem>Home Folder</guimenuitem></menuchoice>">
<!ENTITY homebank "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>HomeBank</guimenuitem></menuchoice>">
<!ENTITY hubackup "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Backup</guimenuitem></menuchoice>">
<!ENTITY hurestore "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Restore</guimenuitem></menuchoice>">
<!ENTITY inkscape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Inkscape SVG Vector Illustrator</guimenuitem></menuchoice>">
<!ENTITY internet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem></menuchoice>">
<!ENTITY kdevelop "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>KDevelop</guimenuitem></menuchoice>">
<!ENTITY keyboard "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard</guimenuitem></menuchoice>">
<!ENTITY keyboard-shortcuts "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard Shortcuts</guimenuitem></menuchoice>">
<!ENTITY language-support "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Language Support</guimenuitem></menuchoice>">
<!ENTITY liferea "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Liferea Feed Reader</guimenuitem></menuchoice>">
<!ENTITY limewire "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>LimeWire</guimenuitem></menuchoice>">
<!ENTITY lockscreen "<menuchoice><guimenu>System</guimenu><guimenuitem>Lock Screen</guimenuitem></menuchoice>">
<!ENTITY login-screen-setup "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Login Window</guimenuitem></menuchoice>">
<!ENTITY mahjongg "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Mahjongg</guimenuitem></menuchoice>">
<!ENTITY menu-editor "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>Applications Menu Editor</guimenuitem></menuchoice>">
<!ENTITY menus-and-toolbars "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Menus &amp; Toolbars</guimenuitem></menuchoice>">
<!ENTITY monodevelop "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDevelop</guimenuitem></menuchoice>">
<!ENTITY monodoc "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDoc</guimenuitem></menuchoice>">
<!ENTITY mouse "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Mouse</guimenuitem></menuchoice>">
<!ENTITY mtink "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>mtink</guimenuitem></menuchoice>">
<!ENTITY music "<menuchoice><guimenu>Places</guimenu><guimenuitem>Music</guimenuitem></menuchoice>">
<!ENTITY multimedia-systems-selector "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Multimedia Systems Selector</guimenuitem></menuchoice>">
<!ENTITY ndisgtk "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Windows Wireless Drivers</guimenuitem></menuchoice>">
<!ENTITY network-proxy "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Network Proxy</guimenuitem></menuchoice>">
<!ENTITY network-tools "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network Tools</guimenuitem></menuchoice>">
<!ENTITY networking "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY network-servers "<menuchoice><guimenu>Places</guimenu><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY neverball "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverball</guisubmenu></menuchoice>">
<!ENTITY neverputt "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverputt</guisubmenu></menuchoice>">
<!ENTITY nexuiz "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Nexuiz</guisubmenu></menuchoice>">
<!ENTITY open-office "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem></menuchoice>">
<!ENTITY openoffice-base "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Database</guimenuitem></menuchoice>">
<!ENTITY openoffice-draw "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>OpenOffice.org Draw</guimenuitem></menuchoice>">
<!ENTITY openoffice-presentation "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Presentation</guimenuitem></menuchoice>">
<!ENTITY openoffice-spreadsheet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Spreadsheet</guimenuitem></menuchoice>">
<!ENTITY openoffice-writer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Word Processor</guimenuitem></menuchoice>">
<!ENTITY palmos-devices "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>PalmOS Devices</guimenuitem></menuchoice>">
<!ENTITY pan "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pan Newsreader</guimenuitem></menuchoice>">
<!ENTITY photoprint "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>PhotoPrint</guimenuitem></menuchoice>">
<!ENTITY pidgin "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pidgin Internet Messenger</guimenuitem></menuchoice>">
<!ENTITY power-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Power Management</guimenuitem></menuchoice>">
<!ENTITY ppracer "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Planet Penguin Racer</guisubmenu></menuchoice>">
<!ENTITY preferences "<menuchoice><guimenu>System</guimenu><guisubmenu>Preferences</guisubmenu></menuchoice>">
<!ENTITY preferred-applications "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Preferred Applications</guimenuitem></menuchoice>">
<!ENTITY print "<menuchoice><guimenu>File</guimenu><guimenuitem>Print</guimenuitem></menuchoice>">
<!ENTITY printing "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Printing</guimenuitem></menuchoice>">
<!ENTITY qtparted "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem><guimenuitem>QTParted</guimenuitem></menuchoice>">
<!ENTITY remote-desktop "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Remote Desktop</guimenuitem></menuchoice>">
<!ENTITY removable-drives-and-media "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Removable Drives and Media</guimenuitem></menuchoice>">
<!ENTITY realplayer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>RealPlayer 11</guimenuitem></menuchoice>">
<!ENTITY restricted-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Hardware Drivers</guimenuitem></menuchoice>">
<!ENTITY rhythmbox "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Rhythmbox Music Player</guimenuitem></menuchoice>">
<!ENTITY route-planner "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY scorched3d "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guimenuitem>Scorched 3D</guimenuitem></menuchoice>">
<!ENTITY screen-resolution "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screen Resolution</guimenuitem></menuchoice>">
<!ENTITY screensaver "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screensaver</guimenuitem></menuchoice>">
<!ENTITY scribus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>Scribus</guimenuitem></menuchoice>">
<!ENTITY serpentine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Serpentine Audio CD Creator</guimenuitem></menuchoice>">
<!ENTITY services "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Services</guimenuitem></menuchoice>">
<!ENTITY sessions "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sessions</guimenuitem></menuchoice>">
<!ENTITY shared-folders "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Shared Folders</guimenuitem></menuchoice>">
<!ENTITY skype "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Skype</guimenuitem></menuchoice>">
<!ENTITY software-properties "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY software-sources "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY sound "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sound</guimenuitem></menuchoice>">
<!ENTITY soundandvideo "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem></menuchoice>">
<!ENTITY soundjuicer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Audio CD Extractor</guimenuitem></menuchoice>">
<!ENTITY supertux "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>SuperTux</guisubmenu></menuchoice>">
<!ENTITY shutdown "<menuchoice><guimenu>System</guimenu><guimenuitem>Shut Down...</guimenuitem></menuchoice>">
<!ENTITY synaptic "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Synaptic Package Manager</guimenuitem></menuchoice>">
<!ENTITY system-monitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>System Monitor</guimenuitem></menuchoice>">
<!ENTITY systemtools "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem></menuchoice>">
<!ENTITY terminal "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Terminal</guimenuitem></menuchoice>">
<!ENTITY text-editor "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Text Editor</guimenuitem></menuchoice>">
<!ENTITY theme "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Theme</guimenuitem></menuchoice>">
<!ENTITY thunderbird "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Mozilla Thunderbird Mail/News</guimenuitem></menuchoice>">
<!ENTITY time-date "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Time and Date</guimenuitem></menuchoice>">
<!ENTITY totem "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Movie Player</guimenuitem></menuchoice>">
<!ENTITY touchpad "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Touchpad</guimenuitem></menuchoice>">
<!ENTITY tremulous "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Tremulous</guisubmenu></menuchoice>">
<!ENTITY ubuntu-update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Ubuntu Update Manager</guimenuitem></menuchoice>">
<!ENTITY update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Update Manager</guimenuitem></menuchoice>">
<!ENTITY users "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY users-groups "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY windows "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Windows</guimenuitem></menuchoice>">
<!ENTITY wireshark "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Wireshark</guimenuitem></menuchoice>">
<!ENTITY xchat-gnome "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Xchat-GNOME IRC Chat</guimenuitem></menuchoice>">
<!ENTITY xine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>xine</guimenuitem></menuchoice>">
<!ENTITY xmms "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>XMMS</guimenuitem></menuchoice>">
<!ENTITY xsane "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>XSane Image Scanner</guimenuitem></menuchoice>">
<!ENTITY % xinclude SYSTEM "../../libs/xinclude.mod">
<!ELEMENT xi:include (xi:fallback)?>
<!ATTLIST xi:include xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ATTLIST xi:include href CDATA #REQUIRED>
<!ATTLIST xi:include parse (xml | text) "xml">
<!ATTLIST xi:include xpointer CDATA #IMPLIED>
<!ATTLIST xi:include encoding CDATA #IMPLIED>
<!ATTLIST xi:include accept CDATA #IMPLIED>
<!ATTLIST xi:include accept-charset CDATA #IMPLIED>
<!ATTLIST xi:include accept-language CDATA #IMPLIED>
<!ELEMENT xi:fallback ANY>
<!ATTLIST xi:fallback xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ENTITY % local.preface.class "| xi:include">
<!ENTITY % local.part.class "| xi:include">
<!ENTITY % local.chapter.class "| xi:include">
<!ENTITY % local.divcomponent.mix "| xi:include">
<!ENTITY % local.para.char.mix "| xi:include">
<!ENTITY % local.info.class "| xi:include">
<!ENTITY % local.common.attrib "xmlns:xi            CDATA       #FIXED       'http://www.w3.org/2001/XInclude'">
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="virtualization" status="review">
  <title>Virtualización</title>
  <para>La virtualización está siendo adoptada en muchos entornos y situaciones diferentes. Si usted es un desarrollador, la virtualización le puede proporcionar un entorno contenido en el cual puede hacer casi cualquier tipo de desarrollo con la seguridad de que no comprometerá su entorno de trabajo principal. Si es un administrador de sistemas, puede usar la virtualización para separar más fácilmente sus servicios y ubicarlos según su demanda.</para>
  <para>La tecnología de virtualización soportada por omisión en Ubuntu es <application>KVM</application>, una tecnología que aprovecha las extensiones de virtualización incluidas en el hardware de Intel y AMD. Para el hardware sin extensiones de virtualización, <application>Xen</application> y <application>Qemu</application> son soluciones populares.</para>
  <sect1 id="libvirt" status="review">
    <title>libvirt</title>
    <para>La biblioteca <application>libvirt</application> se usa como interfaz con diferentes tecnologías de virtualización. Antes de comenzar con <application>libvirt</application> es mejor asegurarse de que su hardware admite las extensiones de virtualización necesarias para <application>KVM</application>. Introduzca lo siguiente en un terminal:</para>
<screen> <command>egrep '(vmx|svm)' /proc/cpuinfo</command>
</screen>
    <para>Si no se imprimió nada, significa que su cpu <emphasis>no</emphasis> soporta virtualización de hardware.</para>
    <note>
      <para>En la mayoría de computadores en que sus procesadores soportan virtualización, es necesario activar una opción en la bios para habilitarlo. El método descrito arriba no muestra el estado de esta activación.</para>
    </note>
    <sect2 id="virtual-networking" status="review">
      <title>Redes Virtuales</title>

      <para>Hay varias formas distintas de permitir que una máquina virtual pueda acceder a la red externa. La configuración predeterminada de la red virtual es la red <emphasis>en modo usuario («usermode»)</emphasis>, que usa el protocolo SLIRP y el tráfico se procesa por NAT a través de la interfaz del anfitrión a la red externa.</para>

      <para>Para permitir que anfitriones externos accedan directamente a servicios en máquinas virtuales, necesita configurarse un <emphasis>puente</emphasis>. Esto permite que las interfaces virtuales se conecten a una red del exterior a través de la interfaz física, haciéndolos parecer anfitriones normales para el resto de la red. <xref linkend="bridging"/> para más información sobre la configuración de un puente.</para>

    </sect2>
    <sect2 id="libvirt-installation" status="review">
      <title>Instalación</title>
      <para>Para instalar los paquetes necesarios, en una terminal introduzca:</para>
<screen>
<command>sudo apt-get install kvm libvirt-bin</command>
</screen>
      <para>Después de instalar <application>libvirt-bin</application>, el usuario utilizado para manejar las máquinas virtuales necesitará ser agregado al grupo <emphasis>libvirtd</emphasis>. Haciendo esto, se permitirá al usuario acceder a las opciones avanzadas de la red.</para>
      <para>En una terminal introduzca:</para>
<screen>
<command>sudo adduser $USER libvirtd</command>
</screen>
      <note>
	<para>Si el usuario seleccionado es el usuario actual, usted necesitará salir de la sesión y volver a entrar para que los cambios en la membresía del nuevo grupo hagan efecto.</para>
      </note>
      <para>Ya está listo para instalar un sistema operativo <emphasis>Invitado</emphasis>. Instalar una máquina virtual sigue el mismo procedimiento que instalar el sistema operativo directamente sobre el hardware. Necesitará una forma de automatizar la instalación, o bien será necesario conectar un teclado y un monitor a la máquina física.</para>
      <para>En las máquinas virtuales, una Interfaz Gráfica de Usuario (GUI) es análoga al uso de un teclado y ratón físicos. En lugar de instalar una GUI, puede usar la aplicación <application>virt-viewer</application> para conectarse a la consola de una máquina virtual usando <application>VNC</application>. Consulte <xref linkend="libvirt-virt-viewer"/> para más información.</para>
      <para>Hay distintas maneras de automatizar el proceso de instalación de  Ubuntu, por ejemplo usando preseeds, kickstart, etc.  Vea <ulink url="https://help.ubuntu.com/9.04/installation-guide/">La guía de instalación de Ubuntu</ulink> para los detalles.</para>
      <para>Otra forma de instalar una máquina virtual de Ubuntu es utilizando <application>ubuntu-vm-builder</application>. <application>ubuntu-vm-builder</application> le permite configurar particiones avanzadas, ejecutar guiones para después de la instalación, etc. <xref linkend="jeos-and-vmbuilder"/> para más información.</para>
    </sect2>
    <sect2 id="libvirt-virt-install" status="review">
      <title>virt-install</title>
      <para><application>virt-install</application> es parte del paquete <application>python-virtinst</application>. Para instalarlo, introduzca en una terminal:</para>
<screen>
<command>sudo apt-get install python-virtinst</command>
</screen>
      <para>Hay varias opciones disponibles cuando se utiliza <application>virt-install</application>. Por ejemplo:</para>
<screen>
<command>sudo virt-install -n web_devel -r 256 -f web_devel.img \ -s 4 -c jeos.iso --accelerate \ --connect=qemu:///system --vnc \ --noautoconsole -v</command>
</screen>
      <itemizedlist>
        <listitem>
          <para><emphasis>-n web_devel:</emphasis> el nombre de la nueva máquina virtual en este ejemplo será <emphasis>web_devel</emphasis>.</para>
        </listitem>
        <listitem>
          <para><emphasis>-r 256:</emphasis> especifica la cantidad de memoria que usará la máquina virtual.</para>
        </listitem>
        <listitem>
          <para><emphasis>-f web_devel.img:</emphasis> indica la ruta al disco virtual que puede ser un archivo, una partición, o un volumen lógico. En este ejemplo es un archivo llamado <filename>web_devel.img</filename>.</para>
        </listitem>
        <listitem>
          <para><emphasis>-s 4:</emphasis> el tamaño del disco virtual.</para>
        </listitem>
        <listitem>
          <para><emphasis>-c jeos.iso:</emphasis> archivo que será usado como CD-ROM virtual. El archivo puede ser un archivo ISO o la ruta al dispositivo de CD-ROM del anfitrión.</para>
        </listitem>
        <listitem>
          <para><emphasis>--accelerate:</emphasis> habilita las tecnologías de aceleración del núcleo.</para>
        </listitem>
        <listitem>
          <para><emphasis>--vnc:</emphasis> exporta la consola virtual del invitado usando VNC.</para>
        </listitem>
        <listitem>
          <para><emphasis>--noautoconsole:</emphasis> no conectará automáticamente con la consola de la máquina virtual.</para>
        </listitem>
        <listitem>
          <para><emphasis>-v:</emphasis> crea un invitado completamente virtualizado.</para>
        </listitem>
      </itemizedlist>
      <para>Después de lanzar <application>virt-install</application>, podrá conectarse a la consola de la máquina virtual usando, bien localmente usando una GUI, o bien mediante la utilidad <application>virt-viewer</application>.</para>
    </sect2>
    <sect2 id="libvirt-virt-clone" status="review">
      <title>virt-clone</title>
      <para>La aplicación <application>virt-clone</application> puede usarse para copiar una máquina virtual en otra. Por ejemplo:</para>
<screen>
<command>sudo virt-clone -o web_devel -n database_devel -f /ruta/a/database_devel.img --connect=qemu:///system</command> 
</screen>
      <itemizedlist>
        <listitem>
          <para><emphasis>-o:</emphasis> máquina virtual original.</para>
        </listitem>
        <listitem>
          <para><emphasis>-n:</emphasis> nombre de la nueva máquina virtual.</para>
        </listitem>
        <listitem>
          <para><emphasis>-f:</emphasis> ruta al archivo, volumen lógico, o partición que será utilizada por la máquina virtual.</para>
        </listitem>
        <listitem>
          <para><emphasis>--connect:</emphasis> especifica a qué supervisor conectarse.</para>
        </listitem>
      </itemizedlist>
      <para>Además, use la opción <emphasis>-d</emphasis> o <emphasis>--debug</emphasis> para resolver problemas con <application>virt-clone</application>.</para>
      <note>
        <para>Sustituya <emphasis>web_devel</emphasis> y <emphasis>database_devel</emphasis> por nombres apropiados de máquinas virtuales.</para>
      </note>
    </sect2>
    <sect2 id="libvirt-management" status="review">
      <title>Gestión de Máquinas Virtuales</title>
      <sect3 id="virsh" status="review">
        <title>virsh</title>
        <para>Hay varias utilidades disponibles para gestionar máquinas virtuales y <application>libvirt</application>. La utilidad <application>virsh</application> puede usarse desde la línea de órdenes. Algunos ejemplos:</para>
        <itemizedlist>
          <listitem>
            <para>Para listar las máquinas virtuales en ejecución:</para>
<screen>
<command>virsh -c qemu:///system list</command>
</screen>
          </listitem>
          <listitem>
            <para>Para iniciar una máquina virtual:</para>
<screen>
<command>virsh -c qemu:///system start web_devel</command>
</screen>
          </listitem>
          <listitem>
            <para>De igual manera, para iniciar una máquina virtual en el arranque:</para>
<screen>
<command>virsh -c qemu:///system autostart web_devel</command>
</screen>
          </listitem>
          <listitem>
            <para>Reiniciar una máquina virtual con:</para>
<screen>
<command>virsh -c qemu:///system reboot web_devel</command>
</screen>
          </listitem>
          <listitem>
            <para>El <emphasis>estado</emphasis> de una máquina virtual puede guardarse en un archivo de manera que pueda recuperarse luego. Lo siguiente guardará el estado de la máquina virtual en un archivo cuyo nombre va asociado a la fecha:</para>
<screen>
<command>virsh -c qemu:///system save web_devel web_devel-022708.state</command>
</screen>
            <para>Una vez guardada, la máquina virtual dejará de ejecutarse.</para>
          </listitem>
          <listitem>
            <para>Una máquina virtual guardada puede ser restaurada utilizando:</para>
<screen>
<command>virsh -c qemu:///system restore web_devel-022708.state</command>
</screen>
          </listitem>
          <listitem>
            <para>Para apagar una máquina virtual haga:</para>
<screen>
<command>virsh -c qemu:///system shutdown web_devel</command>
</screen>
          </listitem>
          <listitem>
            <para>Un dispositivo de CD-ROM puede montarse en una máquina virtual introduciendo:</para>
<screen>
<command>virsh -c qemu:///system attach-disk web_devel /dev/cdrom /media/cdrom</command>
</screen>
          </listitem>
        </itemizedlist>
        <note>
          <para>En los ejemplos anteriores, sustituya <emphasis>web_devel</emphasis> por el nombre apropiado de la máquina virtual y <filename>web_devel-022708.state</filename> por un nombre de archivo descriptivo.</para>
        </note>
      </sect3>
      <sect3 id="virt-manager" status="review">
        <title>Gestor de máquinas virtuales</title>
        <para>El paquete <application>virt-manager</application> contiene una utilidad gráfica para manejar máquinas virtuales locales y remotas. Para instalar virt-manager introduzca:</para>
<screen>
<command>sudo apt-get install virt-manager</command>
</screen>
        <para>Como <application>virt-manager</application> necesita un entorno con interfaz gráfica de usuario (GUI), es recomendable instalarlo en una estación de trabajo o en una máquina de prueba en lugar de hacerlo en un servidor en producción. Para conectarse al servicio local de <application>libvirt</application>, introduzca:</para>
<screen>
<command>virt-manager -c qemu:///system</command>
</screen>
        <para>Puede conectarse al servicio de <application>libvirt</application> que se esté ejecutando en otro anfitrión introduciendo lo siguiente en un terminal:</para>
<screen>
<command>virt-manager -c qemu+ssh://nodovirt1.midominio.com/sistema</command>
</screen>
        <note>
          <para>El ejemplo anterior supone que ya se ha configurado la conectividad <application>SSH</application> entre el sistema de gestión y nodovirt1.midominio.com, y que se usan claves SSH para la autenticación. Las <emphasis>claves</emphasis> SSH son necesarias porque <application>libvirt</application> envía la petición de contraseña a otro proceso. Para más detalles sobre la configuración de <application>SSH</application>, consulte <xref linkend="openssh-server"/>.</para>
        </note>
      </sect3>
    </sect2>
    <sect2 id="libvirt-virt-viewer" status="review">
      <title>Visor de máquinas virtuales</title> 
      <para>La aplicación <application>virt-viewer</application> le permite conectarse a la consola de una máquina virtual. <application>virt-viewer</application> necesita una Interfaz Gráfica de Usuario (GUI) para conectarse con la máquina virtual.</para>
      <para>Para instalar <application>virt-viewer</application> desde una terminal introduzca:</para>
<screen>
<command>sudo apt-get install virt-viewer</command>
</screen>
      <para>Cuando la máquina virtual esté instalada y ejecutándose, podrá conectarse a su consola usando:</para>
<screen>
<command>virt-viewer -c qemu:///system web_devel</command>
</screen>
      <para>De la misma forma que <application>virt-manager</application>, <application>virt-viewer</application> puede conectarse a un anfitrión remoto usando <emphasis>SSH</emphasis> con autenticación de clave, como también:</para>
<screen>
<command>virt-viewer -c qemu+ssh://nodovirt1.midominio.com/sistema web_devel</command>
</screen>
      <para>Asegúrese de sustituir <emphasis role="italic">web_devel</emphasis> por el nombre apropiado de la máquina virtual.</para>
      <para>Si se configuró para utilizar una interfaz de red tipo <emphasis>bridge</emphasis>, también puede configurarse el acceso <application>SSH</application> hacia la máquina virtual. Vea <xref linkend="openssh-server"/> y <xref linkend="bridging"/> para más detalles.</para>
    </sect2>
    <sect2 id="libvirt-resources" status="review">
      <title>Recursos</title> 
      <itemizedlist>
        <listitem>
          <para>Consulte el sitio web de <ulink url="http://kvm.qumranet.com/kvmwiki">KVM</ulink> para más detalles.</para>
        </listitem>
        <listitem>
          <para>Para más información sobre <application>libvirt</application>, consulte el <ulink url="http://libvirt.org/">sitio web de libvirt</ulink></para>
        </listitem>
        <listitem>
          <para>El sitio del <ulink url="http://virt-manager.et.redhat.com/">Gestor de máquinas virtuales</ulink> tiene más información sobre el desarrollo de <application>virt-manager</application>.</para>
        </listitem>
        <listitem>
          <para>Además, puede pasarse por el canal IRC <emphasis>#ubuntu-virt</emphasis> en <ulink url="http://freenode.net/">freenode</ulink> para discutir sobre la tecnología de virtualización en Ubuntu.</para>
        </listitem>
      </itemizedlist>
    </sect2>
  </sect1>
  <sect1 id="jeos-and-vmbuilder" status="review">
  <title>JeOS y vmbuilder</title>

  <sect2 id="jeos-introduction" status="review">
    <title>Introducción</title>

    <sect3 id="what-is-jeos" status="review">
      <title>Qué es JeOS</title>

  <para>Ubuntu <emphasis>JeOS</emphasis> (pronunciado "yius", como "jugo", en inglés) es una variante eficiente del sistema operativo Ubuntu Server, configurada especialmente para cuestiones virtuales. Ya no está disponible como imagen ISO de CD-ROM, sino como una opción:</para>

  <itemizedlist>
    <listitem>
      <para>Durante la instalación de la imagen ISO del Server Edition (presionando <emphasis>F4</emphasis> en la primer pantalla podrá seleccionar "Instalación mínima", que es la selección de paquete equivalente al JeOS).</para>
    </listitem>
    <listitem>
      <para>O construirlo usando vmbuilder de Ubuntu, el cual se describe aquí.</para>
    </listitem>
  </itemizedlist>
      
  <para>JeOS es una instalación especializada de la Ubuntu Server Edition con un núcleo modificado que solo contiene los elementos básicos que se necesitan ejecutar dentro de un ambiente virtualizado.</para>

  <para>Ubuntu JeOS ha sido modificado para tomar ventaja del desempeño clave de tecnologías en los últimos productos de virtualización de VMware. Esta combinación de tamaño reducido y un desempeño optimizado asegura que Ubuntu JeOS Edition le de un uso altamente eficiente a los recursos del servidor en implementaciones virtuales grandes.</para>
  
  <para>Sin controladores innecesarios, y sólo con los mínimos paquetes requeridos, los ISVs pueden configurar su SO de soporte exactamente como ellos necesitan. Tienen la tranquilidad de que las actualizaciones, ya sean por motivos de seguridad o de otras mejoras, se limitarán al mínimo necesario en su entorno específico. De hecho, los usuarios que distribuyan aplicaciones virtuales sobre JeOS sufrirán menos actualizaciones y, por tanto, menos mantenimiento del que tendrían con una completa instalación estándar de un servidor.</para>
 
    </sect3>
    <sect3 id="what-is-vmbuilder">
      <title>Qué es vmbuilder</title>

      <para>Con vmbuilder, ya no hay necesidad de descargar una imagen ISO de JeOS. vmbuilder proporcionará los diferentes paquetes y construirá una máquina virtual de acuerdo a nuestras necesidades en un minuto. Vmbuilder es un guión que automatiza el proceso de crear una máquina virtual lista para usar basada en Linux. Los hipervisores soportados son KVM y Xen.</para>

      <para>Puede pasar parámetros en línea de órdenes para añadir paquetes extra, quitar paquetes, elegir la versión de Ubutnu, que servidor de instalación, etc. En máquinas modernas, con suficiente memoria RAM, tmpdir en <filename>/dev/shm</filename> o usando un tmpfs,, y un servidor de instalación local, puede arrancar una máquina virtual en menos de un minuto.</para>

      <para>Primero, introducido como un intérprete en Ubuntu 8.04LTS, <application>ubuntu-vm-builder</application> comenzó con un pequeño énfasis como un truco para ayudar a los desarrolladores a probar sus nuevos códigos en una máquina virtual sin tener que reiniciarla cada vez. Unos cuántos administradores Ubuntu comenzaron a darse cuenta de este guión, y algunos comenzaron a mejorarlo y adaptarlo para tantos casos de uso, que Soren Hansen (el autor del guión y especialista en virtualización de Ubuntu, no el golfista) decidió reescribirlo desde cero para Intrepid como un guión en Python con algunas nuevas metas:</para>

      <itemizedlist>
        <listitem>
          <para>Desarróllelo de tal manera que pueda ser reutilizado por otras distribuciones.</para>
        </listitem>
        <listitem>
          <para>Use un mecanismo de complemento para todas las interacciones de virtualización, para que otros puedan fácilmente agregar lógica para otros ambientes virtualizados.</para>
        </listitem>
        <listitem>
          <para>Proporciona un interfaz web fácil de mantener como otra opción a la interfaz de consola.</para>
        </listitem>
      </itemizedlist>

      <para>Pero las premisas y órdenes permanecen igual.</para>

    </sect3>
  </sect2>
  <sect2 id="jeos-initial-setup" status="review">
    <title>Configuración inicial</title>

    <para>Se asume que tiene instalado y configurado <application>libvirt</application> y <application>KVM</application> de manera local en la máquina que usa. Para más detalles de cómo realizar esto, vea:</para>

    <itemizedlist>
      <listitem>
        <para>
        <xref linkend="libvirt"/>
        </para>
      </listitem>
      <listitem>
        <para>La <ulink url="https://help.ubuntu.com/community/KVM">KVM</ulink> página Wiki.</para>
      </listitem>
    </itemizedlist>

    <para>También asumimos que sabe cómo utilizar un editor de textos basado en texto como nano o vi. Si no ha utilizado ninguno antes, puede ver una revisión de diferentes editores disponibles leyendo la página <ulink url="https://help.ubuntu.com/community/PowerUsersTextEditors">PowerUsersTextEditors</ulink>. Aunque este tutorial ha sido hecho en KVM, el principio general debe prevalecer en otras tecnologías de virtualización.</para>
  
      <sect3 id="install-vmbuilder" status="review">
        <title>Instalar vmbuilder</title>

        <para>El nombre del paquete que necesitamos instalar es <application>python-vm-builder</application>. En una terminal introduzca:</para>

<screen>
<command>sudo apt-get install python-vm-builder</command>
</screen>

        <note>
          <para>Si se encuentras ejecutando Hardy, aún así puedes utilizar parte de esto, utilizando una versión anterior del paquete llamado <application>ubuntu-vm-builder</application>, solo hay algunos cambios en la sintaxis de la herramienta.</para>
        </note>

      </sect3>
    </sect2>
    <sect2 id="defining-vm" status="review">
      <title>Definir su máquina virtual</title>

      <para>Definir una máquina virtual con vmbuilder de Ubuntu es sencillo, pero aquí hay algunas cosas que considerar:</para>

      <itemizedlist>
        <listitem>
          <para>Si planea liberar una aplicación virtual, no asuma que el usuario final sabrá cómo hacer que el tamaño de su disco crezca para cubrir sus necesidades, así que planéelo para un disco virtual grande para permitirle crecer a su aplicación, o explique bastante bien en su documentación cómo reservar más espacio. Debería ser buena idea almacenar información en alguna unidad de almacenamiento externo.</para>
	</listitem>
        <listitem>
          <para>Dado que la RAM es mucho más fácil de ubicar en una máquina virtual, el tamaño de la RAM debería ser el que mínimo que crea suficiente para su aplicación.</para>
	</listitem>
      </itemizedlist>

      <para>La orden <application>vmbuilder</application> tiene dos parámetros principales: la <emphasis>tecnología de virtualización (hypervisor)</emphasis> y la <emphasis>distribución</emphasis> objetivo. Los parámetros opcionales con muchos y pueden ser vistos utilizando la siguiente orden:</para>

<screen>
<command>vmbuilder --help</command>
</screen>

    <sect3 id="vm-base-parameters" status="review">
      <title>Parámetros básicos</title>

      <para>Como este ejemplo está basado en <application>KVM</application> y Ubuntu 9.04 (Jaunty Jackalope), y probablemente regeneraremos múchas veces la misma máquina virtual, llamaremos a vmbuilder con los siguientes primeros parámetros:</para>

<screen>
<command>sudo vmbuilder kvm ubuntu --suite jaunty --flavour virtual --arch i386 -o --libvirt qemu:///system</command>
</screen>

      <para>El parámetro <emphasis>--suite</emphasis> define la liberación de Ubuntu, <emphasis>--flavour</emphasis> especifica que queremos utilizar el núcleo Virtual (el utilizado para construir una imagen JeOS), <emphasis>--arch</emphasis> especifica que queremos utilizar una máquina de 32 bits, <emphasis>-o</emphasis> le dice a vmbuilder que sobrescriba la versión anterior de VM y <emphasis>--libvirt</emphasis> pide informar el ambiente local de virtualización para añadir la VM resultante en la lista de máquinas disponibles.</para>

      <para>Notas:</para>

      <itemizedlist>
        <listitem>
          <para>Por la naturaleza de las operaciones ejecutadas por vmbuilder, necesita tener privilegios de superusuario, por ello el uso de sudo.</para>
        </listitem>
        <listitem>
          <para>Si su máquina virtual necesita usar mas de 3Gb de ram, debería construir una máquina virtual 64bit (--arch amd64)</para>
        </listitem>
        <listitem>
          <para>Hasta la version 8.10 de Ubuntu, el núcleo virtual sólo estaba construido para la arquitectura 32 bit, así que si quiere definir una máquina amd64 en Hardy, deberá usar <emphasis>--flavour</emphasis> server.</para>
        </listitem> 
      </itemizedlist>
    </sect3>
    <sect3 id="jeos-installation-parameters" status="review">
      <title>Parámetros de instalación de JeOS</title>

      <sect4 id="jeos-networking" status="review">
        <title>Red JeOS</title>

      <sect5 id="jeos-fixed-ip" status="review">
        <title>Asignar una dirección IP fija</title>

        <para>Como una aplicación virtual se puede implantar en redes muy diferentes, es muy difícil saber qué aspecto tiene la red en realidad. Para simplificar la configuración, es una buena idea seguir un enfoque similar a lo que hacen normalmente los vendedores de hardware de red, es decir, asignar una dirección IP fija inicial a la aplicación en una red de clase privada, que indicará en su documentación. Una dirección del rango 192.168.0.0/255 suele ser una buena elección.</para>
        
        <para>Para realizarlo se usarán los siguientes parámetros:</para>
	
        <itemizedlist>
          <listitem>
            <para><emphasis> --ip ADDRESS emphasis&gt;: la direcci</emphasis></para>
	  </listitem>
          <listitem>
            <para><emphasis>--mask VALUEemphasis&gt;: m</emphasis></para>
          </listitem>
          <listitem>
            <para><emphasis>--net VALUE</emphasis>: dirección de red IP (predeterminado: X.X.X.0)</para>
	  </listitem>
          <listitem>
            <para><emphasis>--bcast VALUEemphasis&gt;: difusi</emphasis></para>
	  </listitem>
          <listitem>
            <para><emphasis>--gw ADDRESS</emphasis>: Dirección de puerta de enlace (predeterminado: X.X.X.1)</para>
	  </listitem>
          <listitem>
            <para><emphasis>--dns ADDRESS</emphasis>: Dirección del servidor de nombres (predeterminado: X.X.X.1)</para>
	  </listitem>
        </itemizedlist>

        <para>Asumimos ahora que los valores por defecto son lo suficientemente buenos, así que la llamada se convierte en:</para>

<screen>
<command>sudo vmbuilder kvm ubuntu --suite jaunty --flavour virtual --arch i386 -o --libvirt qemu:///system --ip 192.168.0.100</command>
</screen>

        </sect5>
        <sect5 id="jeos-bridging" status="review">
          <title>Modificar la plantilla libvirt para usar Bridging</title>

          <para>Como es probable que nuestro dispositivo necesite ser accesible desde equipos remotos, necesitamos configurar libvirt de forma que el dispositivo utilice bridge networking. Para ello, utilizamos el mecanismo de plantillas vmbuilder para modificar el valor por defecto.</para>

          <para>En nuestro directorio de trabajo creamos la jerarquía de plantillas y copiamos la plantilla predeterminada:</para>

<screen>
<command>mkdir -p VMBuilder/plugins/libvirt/templates</command>
<command>cp /etc/vmbuilder/libvirt/* VMBuilder/plugins/libvirt/templates/</command>
</screen>

          <para>Podemos editar <filename> VMBuilder/plugins/libvirt/templates/libvirtxml.tmpl </filename> para cambiar:</para>

<programlisting>
          &lt;interface type='network'&gt;
            &lt;source network='default'/&gt;
          &lt;/interface&gt;
</programlisting>

          <para>A:</para>

<programlisting>
          &lt;interface type='bridge'&gt;
            &lt;source bridge='br0'/&gt;
          &lt;/interface&gt;
</programlisting>


        </sect5>
      </sect4>
      <sect4 id="jeos-partitioning" status="review">
        <title>Particionar</title>
          
        <para>Al particionar el dispositivo virtual tendrá que tener en cuenta de qué manera va a utilizar el mismo. Como la mayoría de los dispositivos preferirán almacenamiento independiente para los datos, tener un <filename>/var</filename> diferente, no tendría mucho sentido.</para>
           
        <para>Para ello vmbuilder proporciona <emphasis>-- part</emphasis>:</para>

<programlisting>
--part PATH
  Permite especificar una tabla de particiones en un archivo de particiones. Cada línea de este archivo debería especificar
  (root primero):
      punto_de_montaje tamaño
  donde tamaño está en megabytes. Puede tener hasta 4 discos virtuales. Cada disco nuevo empieza en una
  línea con ’---’.  Por ejemplo:
      root 1000
      /opt 1000
      swap 256
      ---
      /var 2000
      /log 1500
</programlisting>

        <para>En nuestro caso definiremos un archivo de texto <filename>vmbuilder.partition</filename> el cual contendrá lo siguiente:</para>

<programlisting>
root 8000
swap 4000
---
/var 20000
</programlisting>

        <note>
          <para>Tenga en cuenta que como esta usando imágenes de disco virtual, el tamaño real que se pone aquí es el tamaño máximo para estos volúmenes.</para>
        </note>

        <para>Nuestra línea de órdenes se muestra así:</para>

<screen>
<command>sudo vmbuilder kvm ubuntu --suite jaunty --flavour virtual --arch i386 \ -o --libvirt qemu:///system --ip 192.168.0.100 --part vmbuilder.partition</command>
</screen>

        <note>
          <para>Usar un «\» en un comando permite que los comandos largos continúen en la línea siguiente.</para>
        </note>

      </sect4>
      <sect4 id="jeos-user-password" status="review">
        <title>Usuario y contraseña</title>

        <para>Al configurar una aplicación virtual, necesitará proporcionar un usuario y una contraseña predeterminados que sean genéricos de forma que pueda incluirlos en su documentación. Más adelante veremos en este tutorial cómo proporcionaremos algo de seguridad definiendo un script que se ejecutará la primera vez que un usuario inicie una sesión en la aplicación, y que, entre otras cosas, le pedirá al usuario que cambie su contraseña. En este ejemplo usaré <emphasis>'usuario'</emphasis> como mi nombre de usuario, y <emphasis>'defecto'</emphasis> como la contraseña.</para>

        <para>Para hacer esto use los siguientes parámetros opcionales:</para>

        <itemizedlist>
          <listitem>
            <para><emphasis>--user USERNAME:</emphasis> Establezca el nombre del usuario a añadir. Predeterminado: ubuntu.</para>
          </listitem>
          <listitem>
            <para><emphasis>--name FULLNAME:</emphasis> Establezca el nombre completo del usuario a añadir. Predeterminado: Ubuntu.</para>
          </listitem>
          <listitem>
            <para><emphasis>--pass CONTRASEÑA:</emphasis> Establece la contraseña para el usuario. Predeterminada: ubuntu.</para>
          </listitem>
        </itemizedlist>

        <para>El resultado se convierte en la línea de órdenes:</para>

<screen>
<command>sudo vmbuilder kvm ubuntu --suite intrepid --flavour virtual --arch i386 \ -o --libvirt qemu:///system --ip 192.168.0.100 --part vmbuilder.partition \ --user user --name user --pass default</command>
</screen>

      </sect4>
    </sect3>
    <sect3 id="jeos-required-packages" status="review">
      <title>Instalar los paquetes necesarios</title>

      <para>En este ejemplo vamos a instalar un paquete <application>(Limesurvey)application&gt; que accede a una base de datos MySQLapplication&gt; y tiene una interfaz web. Por lo tanto, requiere que nuestro SO nos proporcione:</application></para>

      <itemizedlist>
        <listitem><para>Apache</para></listitem>
        <listitem><para>PHP</para></listitem>
        <listitem><para>MySQL</para></listitem>
        <listitem><para>Servidor OpenSSH</para></listitem>
        <listitem><para>Limesurvey (como una aplicación de ejemplo que hemos empaquetado)</para></listitem>
      </itemizedlist>

      <para>Esto se hace utilizando vmbuilder especificando la orden --addpkg múltiples veces:</para>

<programlisting>
--addpkg PKG
  Instala PKG en el  invitado (se puede especificar varias veces)
</programlisting>

      <para>De todas formas, debido a la forma en que vmbuilder trabaja, los paquetes que necesitan hacer preguntas al usuario justo después de la instalación no pueden ser gestionados y deben ser instalados cuando es posible la interactividad. Este es el caso de Limesurvey, el cual tendremos que instalar más tarde, una vez el usuario haya iniciado sesión.</para>

      <para>Otros paquetes que hacen algún tipo de pregunta de configuración, como por ejemplo <application>mysql-server</application>, que pide una contraseña, pueden ser instalados automáticamente, pero tendremos que reconfigurarlos la primera vez que el usuario inicie sesión.</para>


     <para>Si algunos paquetes que necesitamos instalar no están en main , tiene que permitir el uso de repositorios adicionales --comp y --ppa:</para>

<programlisting>
--components COMP1,COMP2,...,COMPN
           Una lista separada por comas de componentes de distribución a incluir (por ejemplo, main o universe). Por defecto,
           vale "main".
--ppa=PPA  Añadir el ppa que pertenece al PPA del archivo sources.list de la vm.
</programlisting>

      <para>Limesurvey no forma parte del archivo por ahora. Especificaremos su dirección PPA (archivador de paquetes personal-personal package archive) para que se añada a la VM <filename>/etc/apt/source.list</filename>. Añadiremos las siguientes opciones en la línea de órdenes:</para>

<screen>
<command>--addpkg apache2 --addpkg apache2-mpm-prefork --addpkg apache2-utils --addpkg apache2.2-common \ --addpkg dbconfig-common --addpkg libapache2-mod-php5 --addpkg mysql-client --addpkg php5-cli \ --addpkg php5-gd --addpkg php5-ldap --addpkg php5-mysql --addpkg wwwconfig-common \ --addpkg mysql-server --ppa nijaba</command>
</screen>

        <sect4 id="jeos-openssh" status="review">
          <title>OpenSSH</title>

          <para>Otra conveniente herramienta que queremos tener en nuestro appliance es OpenSSH, ya que permite a nuestros administradores el poder acceder al appliance de forma remota. Sin embargo, poner en producción un appliance con un servidor OpenSSH preinstalado conlleva un grave riesgo de seguridad, ya que todos esos servidores compartirán la misma clave secreta, facilitando a los hackers el acto de atacar a nuestro appliance con todas las herramientas que necesiten para reventarlos en un suspiro. Para la contraseña del usuario, deberemos por contra usar un script que instale OpenSSH la primera vez que el usuario inicie una sesión, de forma que la clave generada sea distinta para cada appliance. Para ello usaremos un script <emphasis>--firstboot</emphasis>, que no necesita de ninguna interacción con el usuario.</para>

        </sect4>
      </sect3>
      <sect3 id="jeos-speed-consideration" status="review">
        <title>Consideraciones de velocidad</title>
        
        <sect4 id="jeos-package-caching" status="review">
          <title>Caché de paquetes</title>

          <para>Cuando vmbuilder crea construcciones en su sistema, tiene que ir a buscar cada uno de los paquetes que envía por la red a alguno de los repositorios oficiales. Esto puede tener un gran impacto en el tiempo de construcción, dependiendo de la velocidad de su conexión a Internet y la sobrecarga del repositorio. Para reducir este impacto, se recomienda bien añadir un repositorio local (utilizando <application>apt-mirror</application>) o bien usando un proxy caché como <application>apt-cache</application>. La última opción es más sencilla de implementar y requiere menos espacio en disco, y es la que utilizaremos en este tutorial. Para instalarlo, introduzca:</para>

<screen>
<command>sudo apt-get install apt-proxy</command>
</screen>

          <para>Una vez que se completa, tu proxy (vacío) está listo para usarse en http://mirroraddress:9999 y va a encontrar el repositorio ubuntu bajo la dirección /ubuntu. Para utilizar vmbuilder, tendremos que usar la opción <emphasis>--mirror</emphasis>:</para>

<programlisting>
--mirror=URL  Utiliza la réplica de Ubuntu desde la URL especificada, el cual
              es http://archive.ubuntu.com/ubuntu oficialmente
              arches y http://ports.ubuntu.com/ubuntu-ports
              si no
</programlisting>

          <para>Luego lo añadimos en la línea de órdenes:</para>

<screen>
<command>--mirror http://mirroraddress:9999/ubuntu</command>
</screen>

          <note>
            <para>La dirección de la réplica especificada aquí también se usará en el <filename>/etc/apt/source.list</filename>del invitado creado. Por tanto, es útil especificar aquí una dirección que pueda ser resuelta por él, o bien, planificar más adelante el restablecimiento de la dirección, como en el guión <emphasis>--firstboot</emphasis>.</para>
          </note>

          </sect4>
          <sect4 id="jeos-local-mirror" status="review">
            <title>Instalar una réplica local</title>

            <para>Si estamos en un entorno grande, tiene sentido establecer una réplica local de los repositiorios de Ubuntu. EL paquete apt-mirror le proporciona con un guión que él maneja al réplica para usted. Debe prever tener aproximadamente 20 gigabytes de espacio libre para la distribución y la arquitectura.</para>

            <para>Por defecto, <application>apt-mirror</application> utiliza el archivo de configuración <filename>/etc/apt/mirror.list</filename>. Replicará sólo la arquitectura de la máquina local. Si desea que soporte arquitectura en su réplica, simplemente duplique las líneas que comienzan con "deb", reemplazando la palabra deb por /dev-{arch}, donde arch puede ser i386, amd64, etc. Por ejemplo, para una máquina amd64, para tener los archivos de i386 también, la línea quedará de esta manera:</para>

<programlisting>
deb  http://archive.ubuntu.com/ubuntu jaunty main restricted universe multiverse 
/deb-i386  http://archive.ubuntu.com/ubuntu jaunty main restricted universe multiverse

deb  http://archive.ubuntu.com/ubuntu jaunty-updates main restricted universe multiverse 
/deb-i386  http://archive.ubuntu.com/ubuntu jaunty-updates main restricted universe multiverse 

deb http://archive.ubuntu.com/ubuntu/ jaunty-backports main restricted universe multiverse 
/deb-i386  http://archive.ubuntu.com/ubuntu jaunty-backports main restricted universe multiverse 

deb http://security.ubuntu.com/ubuntu jaunty-security main restricted universe multiverse 
/deb-i386  http://security.ubuntu.com/ubuntu jaunty-security main restricted universe multiverse 

deb http://archive.ubuntu.com/ubuntu jaunty main/debian-installer restricted/debian-installer universe/debian-installer multiverse/debian-installer 
/deb-i386 http://archive.ubuntu.com/ubuntu jaunty main/debian-installer restricted/debian-installer universe/debian-installer multiverse/debian-installer 
</programlisting>

            <para>Note que los paquetes fuente no están respaldados ya que son utilizados ellos mismos para ser comparados con los binarios y no hay mucho espacio, aunque pueden ser fácilmente añadidos a la lista.</para>

            <para>Una vez que la réplica haya terminado la réplica (y esto puede tardar mucho), tendrá que configurar Apache para que tus archivos espejo (que están, si no cambió la opción por defecto, en <filename>/var/spool/apt-mirror</filename>) sean publicados por su servidor Apache. Para más información sobre Apache, vea <xref linkend="httpd"/>.</para>

          </sect4>
        </sect3>
        <sect3 id="jeos-ramdisk" status="review">
          <title>Instalar en un disco RAM</title>
        
          <para>Como puede imaginar, escribir en la RAM es <emphasis>MUCHO</emphasis> más rápido que escribir en el disco. Si tiene memoria libre, dejar que vmbuilder haga esta operación en un disco RAMd le ayudará mucho y la opción <emphasis>--tmpfs</emphasis> le ayudará a hacer justo esto:</para>

<programlisting>
--tmpfs OPTS  Utiliza un sistema de archivos temporal en el directorio de trabajo, especificando
              su tamaño, o bien "-" para utilizar uno por defecto (suid,dev,size=1G).
</programlisting>

          <para>Así que añadair <command>--tmpfs -</command> parece una muy buena idea si tiene 1G de ram libre.</para>

        </sect3>
      </sect2>
      <sect2 id="jeos-package-application" status="review">
        <title>Empaquetar la aplicación</title>

        <para>Hay dos opciones habilitadas para nosotros:</para>

        <itemizedlist>
          <listitem>
	    <para>El método recomendado para hacerlo es crear un paquete <emphasis>Debian</emphasis>. Puesto que eso se sale del ámbito de este tutorial, no haremos eso ahora e invitamos al lector a leer la documentación sobre cómo hacerlo en la <ulink url="https://wiki.ubuntu.com/PackagingGuide">Guía de Empaquetado de Ubuntu</ulink> (en inglés). En este caso, también es una buena idea configurar un repositorio para su paquete, de forma que las actualizaciones se puedan recoger convenientemente desde él. Consulte el artículo sobre <ulink url="http://www.debian-administration.org/articles/286">Administración de Debian</ulink> (en inglés) para ver un tutorial sobre ello.</para> 
          </listitem>
          <listitem>
	    <para>Instale manualmente la aplicación bajo <filename>/opt</filename> como se recomienda en las <ulink url="http://www.pathname.com/fhs/">guías FHS</ulink>.</para> 
          </listitem>
        </itemizedlist>

        <para>En nuestro caso, utilizaremos <application>Limesurvey</application> como ejemplo de una aplicación web para la cual queremos proveer una aplicación virtual. Como se vio anteriormente, hemos hecho una versión del paquete disponible en PPA (Personal Package Archive).</para>

      </sect2>
      <sect2 id="jeos-finish-install" status="review">
        <title>Terminar la instalación</title>
  
        <sect3 id="jeos-first-boot" status="review">
          <title>Primer arranque</title>

          <para>Tal y como dijimos antes, la primera vez que arranca la máquina necesitaremos instalar <application>openssh-server</application> con lo que la clave generada es única para cada máquina. Para hacer esto, escribiremos un guión llamado <filename>boot.sh</filename> como sigue:</para>

<programlisting>
# Este guión correrá por primera vez el arranque de la máquina virtual
# Corriendo como superusuario.

apt-get update
apt-get install -qqy --force-yes openssh-server
</programlisting>

          <para>Y añadimos la opción <command>--firstboot boot.sh</command> en nuestra línea de órdenes.</para>

        </sect3>
        <sect3 id="jeos-first-login" status="review">
          <title>Primera entrada</title>

          <para>Mysql y Limesurvey necesitan interacción del usuario durante su configuración. Los configuraremos la primera vez que un usuario inicie sesión, utilizando un guión llamado login.sh. También utilizaremos este guión para permitir que el usuario especifique lo siguiente:</para>

          <itemizedlist>
            <listitem><para>Su propia contraseña</para></listitem>
            <listitem><para>Definir el teclado y otra información de locales que el necesita usar</para></listitem>
          </itemizedlist>

          <para>Entonces, defina <filename>login.sh</filename> como sigue:</para>

<programlisting>
# Este guión correrá la primera vez que entren los usuarios

echo "Su aplicación va a terminar de configurarse."
echo "Para lo cual, necesitamos preguntarle unas cosas,"
echo "empezando por cambiar su contraseña."

passwd

#dé la oportunidad de cambiar el teclado
sudo dpkg-reconfigure console-setup

#configure la contraseña raíz del servidor mysql
sudo dpkg-reconfigure mysql-server-5.0

#instale limesurvey
sudo apt-get install -qqy --force-yes limesurvey

echo "Su aplicación ahora está configurada.  Para usarla escriba en su"
echo "navegador http://serverip/limesurvey/admin"
</programlisting>

          <para>Y añada la opción <command>--firstlogin login.sh</command> en nuestra línea de órdenes.</para>

        </sect3>
      </sect2>
      <sect2 id="jeos-additions" status="review">
        <title>Adiciones útiles</title>

      <sect3 id="jeos-automatic-updates" status="review">
        <title>Configurar actualizaciones automáticas</title>
        
        <para>Para hacer que su sistema esté configurado para actualizarse él solo periódicamente, tan sólo tiene que instalar <application>unattended-upgrades</application>, por lo que añadiremos la siguiente opción en nuestra línea de comandos:</para>

<screen>
<command>--addpkg unattended-upgrades</command>
</screen>

      <para>Como hemos colocado nuestro paquete de aplicación en un PPA, el proceso actualizará no sólo el sistema, sino también la aplicación cada vez que actualicemos la versión en el PPA.</para>
 
      </sect3>
      <sect3 id="jeos-acpi" status="review">
        <title>Manejo de evento ACPI</title>

        <para>Para que su máquina virtual pueda manejar los eventos de reinicio y de apagado que se envíen, es una buena idea instalar también el paquete acpid. Para ello, añada la siguiente opción:</para>

<screen>
<command>--addpkg acpid</command>
</screen>

      </sect3>
    </sect2>
    <sect2 id="jeos-final-command">
      <title>Orden final</title>

      <para>Este es el comando con todas las opciones que hemos discutido:</para>

<screen>
<command>sudo vmbuilder kvm ubuntu --suite intrepid --flavour virtual --arch i386 -o \ --libvirt qemu:///system --ip 192.168.0.100 --part vmbuilder.partition --user user \ --name user --pass default --addpkg apache2 --addpkg apache2-mpm-prefork \ --addpkg apache2-utils --addpkg apache2.2-common --addpkg dbconfig-common \ --addpkg libapache2-mod-php5 --addpkg mysql-client --addpkg php5-cli \ --addpkg php5-gd --addpkg php5-ldap --addpkg php5-mysql --addpkg wwwconfig-common \ --addpkg mysql-server --addpkg unattended-upgrades --addpkg acpid --ppa nijaba \ --mirror http://mirroraddress:9999/ubuntu --tmpfs - --firstboot boot.sh \ --firstlogin login.sh es</command>
</screen>

    </sect2>
    <sect2 id="jeos-resources" status="review">
      <title>Recursos</title>
      <para>Si esta interesado en saber más, o tiene preguntas o sugerencias, por favor contacte con el equipo de Ubuntu Server en:</para>
      <itemizedlist>
        <listitem>
          <para>IRC: #ubuntu-server on freenode</para>
        </listitem>
        <listitem>
          <para>Lista de correo: <ulink url="https://lists.ubuntu.com/mailman/listinfo/ubuntu-server">ubuntu-server en lists.ubuntu.com</ulink></para>
        </listitem>
      </itemizedlist>
    </sect2>
  </sect1>
  <sect1 id="eucalyptus" status="review">
    <title>Eucalyptus</title>

    <sect2 id="eucalyptus-overview" status="review">
      <title>Vista general</title>

      <para><emphasis>Eucalyptus</emphasis> es una infraestructura de software libre para implementar «computación en nube» (o «cloud computing») en sus propios clústers. <emphasis>Eucalyptus</emphasis> le permite crear su propio entorno de computación en nube con el objetivo de maximizar los recursos informáticos y proporcionar un entorno de computación en nube a sus usuarios.</para>

      <para>Esta sección cubre cómo configurar un entorno de computación en nube usando <application>Eucalyptus</application> con <application>KVM</application>. Para más información sobre KVM consulte <xref linkend="libvirt"/>.</para>

      <para>El entorno de computación en nube consistirá en tres componentes, que normalmente se instalan como mínimo en dos máquinas separadas (denominadas «front-end» y «nodo(s)» en el resto del documento):</para>

      <itemizedlist>
        <listitem>
          <para><emphasis>Un «front-end»:</emphasis> aloja un Controlador de nube, una interfaz de configuración web basada en Java y un Controlador de clúster, que determina dónde se hospedarán las máquinas virtuales (MVs) y gestiona la red de MVs a nivel de clúster.</para>
        </listitem>
        <listitem>
          <para><emphasis>Uno o más «nodos de computación»:</emphasis> ejecutan el componente denominado «controlador de nodo» de Eucalyptus, lo que permite a la máquina formar parte de la nube como un anfitrión de MVs.</para>
        </listitem>
      </itemizedlist>

      <para>Se usará de forma predeterminada la opción de red sencilla <emphasis>Sistema (System)</emphasis>. Esta opción de red permite a las instancias de máquinas virtuales obtener direcciones IP desde la LAN local, suponiendo que exista un servidor DHCP adecudamente configurado en la LAN para conceder direcciones IP dinámicamente a las MVs que las soliciten. Cada nodo será configurado para como puente (bridge networking). Para más información, consulte <xref linkend="bridging"/>.</para>

    </sect2>
    <sect2 id="eucalyptus-configuration" status="review">
      <title>Configuración</title>

      <para>En primer lugar, en el <emphasis>front-end</emphasis> instale los paquetes apropiados. En un intérprete de terminal en el front-end, introduzca:</para>

<screen>
<command>sudo apt-get install eucalyptus-cloud eucalyptus-cc</command>
</screen>

      <para>A continuación, en cada <emphasis>nodo de computación</emphasis> instale el paquete controlador del nodo. En un intérprete de terminal en cada nodo de computación, introduzca:</para>

<screen>
<command>sudo apt-get install eucalyptus-nc</command>
</screen>

      <para>Cuando se haya completado la instalación (y puede llevar un rato) abra un navegador, vaya a <emphasis>https://front-end:8443</emphasis> e inicie una sesión en el interfaz de administración usando el nombre de usuario y la contraseña predeterminados de <emphasis>admin</emphasis>. Se le pedirá que cambie la contraseña, que configure una dirección de correo electrónico para el usuario admin, y que establezca el URL de almacenamiento.</para>

      <para>En la solapa <emphasis>«Configuración»</emphasis> de la interfaz web, añada un clúster bajo el apartado <emphasis>Clústers</emphasis> (en esta configuración, el controlador del clúster está en el mismo sistema que el controlador de la nube, por lo que es correcto introducir «localhost» como nombre de host del clúster). Cuando haya rellenado el formulario, pulse en el botón <emphasis>«Añadir clúster»</emphasis>.</para>

      <para>Ahora, de nuevo en el <emphasis>front-end</emphasis>, añada los nodos al clúster:</para>

<screen>
<command>sudo euca_conf -addnode nombre_de_host_del_nodo</command>
</screen>

      <para>A continuación se le pedirá que inicie una sesión en su nodo, que instale el paquete <application>eucalyptus-nc</application>, que añada la clave ssh del usuario <emphasis>eucalyptus</emphasis> al archivo <filename>authorized_keys</filename> del nodo y que confirme la autenticidad de la huella dactilar de la clave OpenSSH RSA del host. Finalmente, el comando acabará sincronizando las claves componente de eucalyptus y así se completará el registro del nodo.</para>

      <para>En el nodo, necesitará editar el archivo de configuración <filename>/etc/eucalyptus/eucalyptus.conf</filename> para usar su interfaz de puente de nodo (asumiendo que la interfaz se llama <emphasis>'br0'</emphasis>):</para>

<programlisting>
VNET_INTERFACE="br0"
...
VNET_BRIDGE="br0"
</programlisting>

      <para>Finalmente, reinicie <application>eucalyptus-nc</application>:</para>

<screen>
<command>sudo /etc/init.d/eucalyptus-nc restart</command>
</screen>


      <note>
        <para>Asegúrese de sustituir <emphasis>nodecontroller</emphasis>, <emphasis>node01</emphasis> y <emphasis>node02</emphasis> con los nombres reales de los equipos.</para>
      </note>

      <para><application>Eucalyptus</application> ya está listo para alojar imágenes en la nube.</para>

    </sect2>
    <sect2 id="eucalyptus-references" status="review">
      <title>Referencias</title>

      <itemizedlist>
        <listitem>
          <para>Consulte la <ulink url="http://eucalyptus.cs.ucsb.edu/">página web de Eucalyptus</ulink> para más información.</para>
        </listitem>
        <listitem>
          <para>Para obtener información sobre cómo cargar instancias, consulte la <ulink url="https://help.ubuntu.com/community/Eucalyptus">wiki de Eucalyptus</ulink>.</para>
        </listitem>
        <listitem>
          <para>También puede encontrar ayuda en los canales de IRC <emphasis>#ubuntu-virt</emphasis>, <emphasis>#eucalyptus</emphasis> y <emphasis>#ubuntu-server</emphasis> de <ulink url="http://freenode.net">Freenode</ulink>.</para>
        </listitem>
      </itemizedlist>
      
    </sect2>
  </sect1>  
<sect1 id="opennebula" status="review">
    <title>OpenNebula</title>

    <para><application>OpenNebula</application> permite colocar y recolocar dinámicamente máquinas virtuales en un almacén de recursos físicos.</para>

    <para>Esta sección detallará la configuración de un clúster OpenNebula que use tres máquinas: un equipo <emphasis>front-end</emphasis> y dos <emphasis>nodos de computación</emphasis> usados para ejecutar las máquinas virtuales. Los nodos de computación además necesitarán un puente («bridge») configurado para permitir que las máquinas virtuales accedan a la red local. Para más detalles, consulte <xref linkend="bridging"/>.</para>

    <sect2 id="opennebula-installation" status="review">
      <title>Instalación</title>

      <para>Primero, en una terminal de la interfaz introduzca:</para>

<screen>
<command>sudo apt-get install opennebula</command>
</screen>
  
      <para>En cada nodo de computación, instale:</para>

<screen>
<command>sudo apt-get install opennebula-node</command>
</screen>

      <para>Para poder copiar claves SSH, el usuario <emphasis>oneadmin</emphasis> necesitará disponer de una contraseña. En cada máquina, ejecute:</para>

<screen>
<command>sudo passwd oneadmin</command>
</screen>

      <para>Después, copie la clave SSH del usuario <emphasis>oneadmin</emphasis> en los nodos de computación y en el archivo <filename>authorized_keys</filename> del front-end:</para>

<screen>
<command>sudo scp /var/lib/one/.ssh/id_rsa.pub oneadmin@node01:/var/lib/one/.ssh/authorized_keys</command>
<command>sudo scp /var/lib/one/.ssh/id_rsa.pub oneadmin@node02:/var/lib/one/.ssh/authorized_keys</command>
<command>sudo sh -c "cat /var/lib/one/.ssh/id_rsa.pub &gt;&gt; /var/lib/one/.ssh/authorized_keys"</command>
</screen>  

      <para>Hay que añadir la clave SSH de los nodos de computación en el archivo <filename>/etc/ssh/ssh_known_hosts</filename> del equipo front-end. Para ello, conéctese por <application>ssh</application> a cada nodo de computación con un usuario que no sea <emphasis>oneadmin</emphasis>. Después, salga de la sesión SSH y ejecute lo siguiente para copiar la clave SSH de <filename>~/.ssh/known_hosts</filename> a <filename>/etc/ssh/ssh_known_hosts</filename>:</para>

<screen>
<command>sudo sh -c "ssh-keygen -f .ssh/known_hosts -F node01 1&gt;&gt; /etc/ssh/ssh_known_hosts"</command>
<command>sudo sh -c "ssh-keygen -f .ssh/known_hosts -F node02 1&gt;&gt; /etc/ssh/ssh_known_hosts"</command>
</screen>

      <note>
        <para>reemplace <emphasis>node01</emphasis> y <emphasis>node02</emphasis> con los nombres de anfitrión apropiados.</para>
      </note>

      <para>Esto habilita al usuario <emphasis>oneadmin</emphasis> a usar <application>scp</application> sin contraseña ni intervención manual, para enviar una imagen a los nodos de computación.</para>

      <para>En la interfaz cree un directorio para almacenar imágenes VM, dando al usuario <emphasis>oneadmin</emphasis> acceso al directorio:</para>

<screen>
<command>sudo mkdir /var/lib/one/images</command>
<command>sudo chown oneadmin /var/lib/one/images/</command>
</screen>

      <para>Finalmente copie un archivo de disco de máquina virtual en <filename>/var/lib/one/images</filename>. Puede crear una máquina virtual de Ubuntu mediante <application>vmbuilder</application>. Consulte <xref linkend="jeos-and-vmbuilder"/> para más información.</para>

    </sect2>
    <sect2 id="opennebula-configuration" status="review">
      <title>Configuración</title>
    
      <para>El <emphasis>clúster OpenNebula</emphasis> ya está listo para ser configurado, y las máquinas virtuales añadidas al clúster.</para>

      <para>En una terminal introduzca:</para>

<screen>
<command>onehost create node01 im_kvm vmm_kvm tm_ssh</command>
<command>onehost create node02 im_kvm vmm_kvm tm_ssh</command>
</screen>

      <para>Ahora cree un archivo de plantilla de <emphasis>red virtual</emphasis> llamado <filename>vnet01.template</filename>:</para>

<programlisting>
NAME            = "LAN"
TYPE            = RANGED
BRIDGE          = br0
NETWORK_SIZE    = C
NETWORK_ADDRESS = 192.168.0.0
</programlisting>

      <note>
        <para>Asegúrese de cambiar <emphasis>192.168.0.0</emphasis> en su red local.</para>
      </note>

      <para>Usando la utilidad <application>onevnet</application> añada la red virtual a OpenNebula:</para>

<screen>
<command>onevnet create vnet01.template</command>
</screen>

      <para>Ahora cree un archivo de <emphasis>Plantilla VM</emphasis> llamado <filename>vm01.template</filename>:</para>

<programlisting>
NAME   = vm01
CPU    = 0.5
MEMORY = 512

OS      = [ BOOT   = hd ]

DISK   = [
  source   = "/var/lib/one/images/vm01.qcow2",
  target   = "hda",
  readonly = "no" ]

NIC    = [ NETWORK="LAN" ]

GRAPHICS = [type="vnc",listen="127.0.0.1",port="-1"]
</programlisting>

      <para>Inicie la máquina virtual usando <application>onevm</application>:</para>

<screen>
<command>onevm submit vm01.template</command>
</screen>

      <para>Use la opción <application>onevm list</application> para ver información sobre las máquinas virtuales. Además, la opción <application>onevm show vm01</application> mostrará más información sobre una máquina virtual específica.</para>

    </sect2>
    <sect2 id="opennebula-references" status="review">
      <title>Referencias</title>

      <itemizedlist>
        <listitem>
          <para>Vea el <ulink url="http://www.opennebula.org/doku.php?id=start">Sitio web de OpenNebula</ulink> para más información.</para>
        </listitem>
        <listitem>
          <para>También puede encontrar ayuda en los canales IRC <emphasis>#ubuntu-virt</emphasis> y <emphasis>#ubuntu-server</emphasis>de <ulink url="http://freenode.net">Freenode</ulink>.</para>
        </listitem>
      </itemizedlist>

    </sect2>
  </sect1>
</chapter>
