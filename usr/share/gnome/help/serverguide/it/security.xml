<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../libs/global.ent">
<!-- NAMES --><!ENTITY canonical-name "Canonical Ltd.">
<!ENTITY project-name "Ubuntu Documentation Project">
<!ENTITY ubuntu "<phrase>Ubuntu</phrase>">
<!ENTITY sg-title "Server Guide">
<!-- VERSIONS --><!ENTITY distro-version "Jaunty Jackalope">
<!ENTITY distro-rev "9.04">
<!ENTITY distro-release-date "April 2009">
<!ENTITY distro-short-codename "jaunty">
<!ENTITY distro-apt-cd-name "Ubuntu 9.04_Jaunty_Jackalope">
<!ENTITY linux-kernel-version "2.6.27">
<!ENTITY gcc-version "4.3.1">
<!ENTITY glibc-version "2.8">
<!ENTITY python-version "2.5">
<!ENTITY glossary SYSTEM "../common/C/glossary.xml">
<!-- LEGAL URLs --><!ENTITY legalnotice SYSTEM "../libs/C/legalnotice.xml">
<!ENTITY gpl-url '<ulink url="http://www.gnu.org/licenses/gpl.html">GNU General Public License</ulink>'>
<!ENTITY cc "http://creativecommons.org/">
<!ENTITY cc-attrib '<ulink url="http://creativecommons.org/licenses/by-sa/2.5/">Attribution-ShareAlike 2.5</ulink>'>
<!ENTITY cc-fulldeed-url "http://creativecommons.org/licenses/by-sa/2.5/legalcode/">
<!ENTITY fdl-url '<ulink url="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</ulink>'>
<!ENTITY cc-disclaimer-url "http://creativecommons.org/licenses/disclaimer-popup?lang=en">
<!-- CANONICAL URL RESOURCES --><!ENTITY canonical-url "http://www.canonical.com">
<!-- OTHER UBUNTU RELATED RESOURCES --><!ENTITY upstart-url "http://upstart.ubuntu.com">
<!-- UBUNTU IRC INFORMATION --><!ENTITY irc-network "Freenode">
<!ENTITY irc-server "irc.ubuntu.com">
<!ENTITY ubuntu-irc "irc.ubuntu.com channel #ubuntu">
<!ENTITY kubuntu-irc "irc.ubuntu.com channel #kubuntu">
<!ENTITY xubuntu-irc "irc.ubuntu.com channel #xubuntu">
<!ENTITY edubuntu-irc "irc.ubuntu.com channel #edubuntu">
<!-- UBUNTU URL RESOURCES --><!ENTITY ubuntu-packages "http://packages.ubuntu.com">
<!ENTITY ubuntu-web "http://www.ubuntu.com">
<!ENTITY ubuntu-main "http://www.ubuntu.com">
<!ENTITY ubuntu-download "http://www.ubuntu.com/download">
<!ENTITY ubuntu-forums "http://www.ubuntu.com/community/forums">
<!ENTITY ubuntu-components "http://www.ubuntu.com/ubuntu/components">
<!ENTITY ubuntu-lists "http://lists.ubuntu.com">
<!ENTITY ubuntu-wiki "http://wiki.ubuntu.com">
<!ENTITY ubuntu-bugzilla "https://launchpad.net/distros/ubuntu/+bugs">
<!ENTITY ubuntu-doc-bugs "https://launchpad.net/products/ubuntu-doc/+bugs">
<!ENTITY ubuntu-support "http://www.ubuntu.com/support">
<!ENTITY ubuntu-paidsupport "http://www.ubuntu.com/support/paid">
<!ENTITY ubuntu-freesupport "http://www.ubuntu.com/support/free">
<!ENTITY ubuntu-comments "http://www.ubuntuforums.org/showthread.php?p=21787">
<!ENTITY ubuntu-documentation "http://help.ubuntu.com">
<!ENTITY ubuntu-documentation-repos "https://docteam.ubuntu.com/repos/trunk">
<!ENTITY ubuntu-doc-team "https://wiki.ubuntu.com/DocumentationTeam">
<!ENTITY ubuntu-doc-list "http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc">
<!ENTITY ubuntu-shipit "http://shipit.ubuntu.com">
<!ENTITY ubuntu-launchpad "https://launchpad.ubuntu.com">
<!ENTITY ubuntu-rosetta "https://launchpad.ubuntu.com/rosetta">
<!ENTITY ubuntu-planet "http://planet.ubuntu.com">
<!ENTITY ubuntu-philosophy "http://www.ubuntu.com/ubuntu/philosophy">
<!ENTITY ubuntu-participate "http://www.ubuntu.com/community/participate/">
<!ENTITY ubuntu-marketplace "http://www.ubuntu.com/support/marketplace">
<!ENTITY ubuntu-hwdb "http://hwdb.ubuntu.com">
<!-- UBUNTU WIKI RESOURCES --><!ENTITY wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY restricted-formats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-RestrictedFormats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-XChatHowto "https://help.ubuntu.com/community/XChatHowto">
<!ENTITY wiki-RootSudo "https://help.ubuntu.com/community/RootSudo">
<!ENTITY wiki-HowToGetHelp "https://help.ubuntu.com/community/HowToGetHelp">
<!ENTITY transcode "https://help.ubuntu.com/community/DVDRippingandEncoding">
<!ENTITY wiki-Wine "https://help.ubuntu.com/community/Wine">
<!ENTITY wiki-Cedega "https://help.ubuntu.com/community/Cedega">
<!ENTITY wiki-Nano "https://help.ubuntu.com/community/NanoHowto">
<!ENTITY wiki-locoteams "https://wiki.ubuntu.com/LoCoTeamList">
<!ENTITY wiki-BasicCommands "https://help.ubuntu.com/community/BasicCommands">
<!ENTITY wiki-filepermissions "https://help.ubuntu.com/community/FilePermissions">
<!-- KUBUNTU URL RESOURCES --><!ENTITY kubuntu-web "http://www.kubuntu.org">
<!ENTITY kubuntu-main "http://www.kubuntu.org">
<!ENTITY kubuntu-download "http://releases.ubuntu.com/kubuntu/">
<!ENTITY kubuntu-packages "http://packages.ubuntu.com/edgy/">
<!ENTITY kubuntu-cdpackages-nodefault "http://people.ubuntu.com/~cjwatson/seeds/kubuntu-edgy/ship">
<!ENTITY kubuntu-lists "http://lists.ubuntu.com/archives/kubuntu-users/">
<!ENTITY kubuntu-lists-users "http://lists.ubuntu.com/mailman/listinfo/kubuntu-users/">
<!ENTITY kubuntu-lists-devel "http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel/">
<!ENTITY kubuntu-mirrors "http://distrowatch.com/kubuntu">
<!ENTITY kubuntu-forums "http://kubuntuforums.net">
<!ENTITY kubuntu-wiki "https://wiki.kubuntu.org">
<!ENTITY kubuntu-documentation-site "http://www.kubuntu.org/documentation.php">
<!ENTITY kubuntu-wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY kubuntu-support "http://www.kubuntu.org/support.php">
<!-- XUBUNTU URL RESOURCES --><!ENTITY xubuntu-web "http://www.xubuntu.org">
<!ENTITY xubuntu-main "http://www.xubuntu.org">
<!ENTITY xubuntu-web-help "http://www.xubuntu.org/help">
<!-- DEBIAN RESOURCES --><!ENTITY debian-apt "http://www.debian.org/doc/user-manuals#apt-howto">
<!-- EXTERNAL URL RESOURCES --><!ENTITY linmodem "http://www.linmodems.org/">
<!ENTITY gnome "http://www.gnome.org/">
<!ENTITY linuxorg "http://www.linux.org/">
<!ENTITY ooo "http://www.openoffice.org/">
<!ENTITY kde "http://www.kde.org/">
<!ENTITY lugww "http://lugww.counter.li.org/">
<!ENTITY ubuntu-watch "http://distrowatch.com/ubuntu/">
<!ENTITY realplayer-download "http://www.real.com/linux/">
<!ENTITY nvu-download "http://www.nvu.com/download.html">
<!ENTITY sunjava-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY xorg "http://www.x.org">
<!ENTITY dyndns "http://www.dyndns.org">
<!ENTITY shoutcast "http://www.shoutcast.com/">
<!ENTITY freedomtoaster "http://www.freedomtoaster.org/">
<!ENTITY xfce "http://www.xfce.org/">
<!-- ubuntu-screenshots TODO --><!ENTITY kubuntu-screenshots "http://shots.osdir.com/">
<!ENTITY mozilla "http://www.mozilla.org/">
<!ENTITY mozilla-firefox "http://www.mozilla.org/products/firefox/">
<!ENTITY gnu "http://www.gnu.org/">
<!ENTITY gnu-philosophy "http://www.gnu.org/philosophy/">
<!ENTITY win4lin "http://www.win4lin.com">
<!ENTITY codeweavers "http://www.codeweavers.com">
<!ENTITY kernel "http://www.kernel.org">
<!ENTITY google "http://www.google.com">
<!ENTITY kdelook " http://www.kde-look.org">
<!ENTITY lulu-store "http://www.lulu.com/ubuntu-doc">
<!-- this entity controls the url for addons--><!ENTITY java-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY skype-deb "skype_1.2.0.17-1_i386.deb">
<!ENTITY skype-download "http://www.skype.com/go/getskype-linux-deb">
<!ENTITY scanmodem-gz "scanModem.gz">
<!ENTITY scanmodem-url "http://linmodems.technion.ac.il/packages/scanModem.gz">
<!ENTITY ext2fs-url "http://www.fs-driver.org/index.html">
<!ENTITY mvb-tar "mvb_1.6.tgz">
<!ENTITY mvb-url "http://www.xscd.com/pub/mvb/&mvb-tar;">
<!-- TLDP --><!ENTITY ldp-pre-install-check "http://tldp.org/HOWTO/Pre-Installation-Checklist/">
<!-- LANGUAGES (sorted by two letter code)--><!ENTITY Afar "aa">
<!ENTITY Abkhazian "ab">
<!ENTITY Afrikaans "af">
<!ENTITY Amharic "af">
<!ENTITY Arabic "ar">
<!ENTITY Assamese "as">
<!ENTITY Aymara "ay">
<!ENTITY Azerbaijani "az">
<!ENTITY Bashkir "ba">
<!ENTITY Byelorussian "be">
<!ENTITY Bulgarian "bg">
<!ENTITY Bihari "bh">
<!ENTITY Bislama "bi">
<!ENTITY Bangla "bn">
<!ENTITY Bengali "bn">
<!ENTITY Tibetan "bo">
<!ENTITY Breton "br">
<!ENTITY Catalan "ca">
<!ENTITY Corsican "co">
<!ENTITY Czech "cs">
<!ENTITY Welsh "cy">
<!ENTITY Danish "da">
<!ENTITY German "de">
<!ENTITY Bhutani "dz">
<!ENTITY Greek "el">
<!-- <!ENTITY EnglishAmerican 'en'> --><!ENTITY EnglishAmerican "C">
<!ENTITY Esperanto "eo">
<!ENTITY Spanish "es">
<!ENTITY Estonian "et">
<!ENTITY Basque "eu">
<!ENTITY Persian "fa">
<!ENTITY Finnish "fi">
<!ENTITY Fiji "fj">
<!ENTITY Faeroese "fo">
<!ENTITY French "fr">
<!ENTITY Frisian "fy">
<!ENTITY Irish "ga">
<!ENTITY Gaelic "gd">
<!ENTITY ScotsGaelic "gd">
<!ENTITY Galician "gl">
<!ENTITY Guarani "gn">
<!ENTITY Gujarati "gu">
<!ENTITY Hausa "ha">
<!ENTITY Hindi "hi">
<!ENTITY Croatian "hr">
<!ENTITY Hungarian "hu">
<!ENTITY Armenian "hy">
<!ENTITY Interlingua "ia">
<!ENTITY Interlingue "ie">
<!ENTITY Inupiak "ik">
<!ENTITY Indonesian "in">
<!ENTITY Icelandic "is">
<!ENTITY Italian "it">
<!ENTITY Hebrew "iw">
<!ENTITY Japanese "ja">
<!ENTITY Yiddish "ji">
<!ENTITY Javanese "jw">
<!ENTITY Georgian "ka">
<!ENTITY Kazakh "kk">
<!ENTITY Greenlandic "kl">
<!ENTITY Cambodian "km">
<!ENTITY Kannada "kn">
<!ENTITY Korean "ko">
<!ENTITY Kashmiri "ks">
<!ENTITY Kurdish "ku">
<!ENTITY Kirghiz "ky">
<!ENTITY Latin "la">
<!ENTITY Lingala "ln">
<!ENTITY Laothian "lo">
<!ENTITY Lithuanian "lt">
<!ENTITY Latvian "lv">
<!ENTITY Lettish "lv">
<!ENTITY Malagasy "mg">
<!ENTITY Maori "mi">
<!ENTITY Macedonian "mk">
<!ENTITY Malayalam "ml">
<!ENTITY Mongolian "mn">
<!ENTITY Moldavian "mo">
<!ENTITY Marathi "mr">
<!ENTITY Malay "ms">
<!ENTITY Maltese "mt">
<!ENTITY Burmese "my">
<!ENTITY Nauru "na">
<!ENTITY Nepali "ne">
<!ENTITY Dutch "nl">
<!ENTITY Norwegian "no">
<!ENTITY Occitan "oc">
<!ENTITY Afan "om">
<!ENTITY Oromo "om">
<!ENTITY Oriya "or">
<!ENTITY Punjabi "pa">
<!ENTITY Polish "pl">
<!ENTITY Pushto "ps">
<!ENTITY Pashto "ps">
<!ENTITY Portuguese "pt">
<!ENTITY Quechua "qu">
<!ENTITY Rhaeto-Romance "rm">
<!ENTITY Kirundi "rn">
<!ENTITY Romanian "ro">
<!ENTITY Russian "ru">
<!ENTITY Kinyarwanda "rw">
<!ENTITY Sanskrit "sa">
<!ENTITY Sindhi "sd">
<!ENTITY Sangro "sg">
<!ENTITY Serbo-Croatian "sh">
<!ENTITY Singhalese "si">
<!ENTITY Slovak "sk">
<!ENTITY Slovenian "sl">
<!ENTITY Samoan "sm">
<!ENTITY Shona "sn">
<!ENTITY Somali "so">
<!ENTITY Albanian "sq">
<!ENTITY Serbian "sr">
<!ENTITY Siswati "ss">
<!ENTITY Sesotho "st">
<!ENTITY Sudanese "su">
<!ENTITY Swedish "sv">
<!ENTITY Swahili "sw">
<!ENTITY Tamil "ta">
<!ENTITY Tegulu "te">
<!ENTITY Tajik "tg">
<!ENTITY Thai "th">
<!ENTITY Tigrinya "ti">
<!ENTITY Turkmen "tk">
<!ENTITY Tagalog "tl">
<!ENTITY Setswana "tn">
<!ENTITY Tonga "to">
<!ENTITY Turkish "tr">
<!ENTITY Tsonga "ts">
<!ENTITY Tatar "tt">
<!ENTITY Twi "tw">
<!ENTITY Ukrainian "uk">
<!ENTITY Urdu "ur">
<!ENTITY Uzbek "uz">
<!ENTITY Vietnamese "vi">
<!ENTITY Volapuk "vo">
<!ENTITY Wolof "wo">
<!ENTITY Xhosa "xh">
<!ENTITY Yoruba "yo">
<!ENTITY Chinese "zh">
<!ENTITY Zulu "zu">
<!ENTITY % gnome-menus-C SYSTEM "../../libs/gnome-menus-C.ent">
<!-- MENUS --><!-- Please keep entries alphabetical, it makes them much easier to find & use --><!ENTITY about-me "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>About-me</guimenuitem></menuchoice>">
<!ENTITY accessories "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem></menuchoice>">
<!ENTITY acro-read "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Acrobat Reader</guimenuitem></menuchoice>">
<!ENTITY administration "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem></menuchoice>">
<!ENTITY aisleriot "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>AisleRiot Solitaire</guimenuitem></menuchoice>">
<!ENTITY amule "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY anjuta-ide "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Anjuta IDE</guimenuitem></menuchoice>">
<!ENTITY archive-man "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Archive Manager</guimenuitem></menuchoice>">
<!ENTITY assistive-technology-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Assistive Technology Support</guimenuitem></menuchoice>">
<!ENTITY audacity "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Audacity</guimenuitem></menuchoice>">
<!ENTITY azureus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Azureus</guimenuitem></menuchoice>">
<!ENTITY baobab "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Disk Usage Analyzer</guimenuitem></menuchoice>">
<!ENTITY bittorrent "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Bittorrent</guimenuitem></menuchoice>">
<!ENTITY blender3d "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Blender 3d modeller</guimenuitem></menuchoice>">
<!ENTITY bluefish "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Bluefish Editor</guimenuitem></menuchoice>">
<!ENTITY boot "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Boot</guimenuitem></menuchoice>">
<!ENTITY brasero "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Brasero Disc Burning</guimenuitem></menuchoice>">
<!ENTITY bum "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Boot-up Manager</guimenuitem></menuchoice>">
<!ENTITY bzrgtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Olive bazaar Branch Manager</guimenuitem></menuchoice>">
<!ENTITY calculator "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Calculator</guimenuitem></menuchoice>">
<!ENTITY character-map "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Character Map</guimenuitem></menuchoice>">
<!ENTITY compizconfig "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>CompizConfig Settings Manager</guimenuitem></menuchoice>">
<!ENTITY computer "<menuchoice><guimenu>Places</guimenu><guimenuitem>Computer</guimenuitem></menuchoice>">
<!ENTITY connecttoserver "<menuchoice><guimenu>Places</guimenu><guimenuitem>Connect to Server...</guimenuitem></menuchoice>">
<!ENTITY cowbell "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Cowbell Music Organizer</guimenuitem>	</menuchoice>">
<!ENTITY chromium "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Chromium</guisubmenu></menuchoice>">
<!ENTITY computer-janitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guisubmenu>System Janitor</guisubmenu></menuchoice>">
<!ENTITY desktop-background "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Desktop Background</guimenuitem></menuchoice>">
<!ENTITY desktop-effects "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Appearance</guimenuitem><guimenuitem>Visual Effects</guimenuitem></menuchoice>">
<!ENTITY desktop-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem></menuchoice>">
<!ENTITY devhelp "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Devhelp</guimenuitem></menuchoice>">
<!ENTITY device-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Hardware Information</guimenuitem></menuchoice>">
<!ENTITY dictionary "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Dictionary</guimenuitem></menuchoice>">
<!ENTITY disks "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Disks</guimenuitem></menuchoice>">
<!ENTITY downloader-x "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Downloader for X</guimenuitem></menuchoice>">
<!ENTITY eclipse-ide "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Eclipse IDE</guimenuitem></menuchoice>">
<!ENTITY ekiga "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Internet</guimenuitem><guimenuitem>Ekiga Softphone</guimenuitem></menuchoice>">
<!ENTITY efax-gtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Office</guisubmenu><guimenuitem>Efax-gtk</guimenuitem></menuchoice>">
<!ENTITY etherape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Etherape</guimenuitem></menuchoice>">
<!ENTITY evolution-mail "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Evolution Mail</guimenuitem></menuchoice>">
<!ENTITY file-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>File Management</guimenuitem></menuchoice>">
<!ENTITY firefox "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Internet</guisubmenu><guimenuitem>Firefox Web Browser</guimenuitem></menuchoice>">
<!ENTITY firestarter-firewall-tool "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Firestarter</guimenuitem></menuchoice>">
<!ENTITY five-or-more "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Five or More</guimenuitem></menuchoice>">
<!ENTITY font "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Font</guimenuitem></menuchoice>">
<!ENTITY f-spot "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>F-Spot Photo Manager</guimenuitem></menuchoice>">
<!ENTITY frozen-bubble "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Frozen Bubble</guisubmenu></menuchoice> to play <application>Frozen Bubble</application>">
<!ENTITY gambas "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Gambas</guimenuitem></menuchoice>">
<!ENTITY games "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Games</guimenuitem></menuchoice>">
<!ENTITY gdesklets "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>gDesklets</guimenuitem></menuchoice>">
<!ENTITY gftp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>gFTP</guimenuitem></menuchoice>">
<!ENTITY gimp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>GIMP Image Editor</guimenuitem></menuchoice>">
<!ENTITY gnome-app-install "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Add/Remove...</guimenuitem></menuchoice>">
<!ENTITY gnome-config-editor "<screen><command>gconf-editor</command></screen>">
<!ENTITY gnome-sound-recorder "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Sound Recorder</guimenuitem></menuchoice>">
<!ENTITY gparted "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration </guisubmenu><guimenuitem>Gnome Partition Editor</guimenuitem></menuchoice>">
<!ENTITY graphics "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem></menuchoice>">
<!ENTITY gthumb "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>gThumb Image Viewer</guimenuitem></menuchoice>">
<!ENTITY gtkpod "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>gtkpod</guimenuitem></menuchoice>">
<!ENTITY gnucash "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>GnuCash Finance Management</guimenuitem></menuchoice>">
<!ENTITY gxine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>gxine</guimenuitem></menuchoice>">
<!ENTITY home-folder "<menuchoice><guimenu>Places</guimenu><guimenuitem>Home Folder</guimenuitem></menuchoice>">
<!ENTITY homebank "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>HomeBank</guimenuitem></menuchoice>">
<!ENTITY hubackup "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Backup</guimenuitem></menuchoice>">
<!ENTITY hurestore "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Restore</guimenuitem></menuchoice>">
<!ENTITY inkscape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Inkscape SVG Vector Illustrator</guimenuitem></menuchoice>">
<!ENTITY internet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem></menuchoice>">
<!ENTITY kdevelop "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>KDevelop</guimenuitem></menuchoice>">
<!ENTITY keyboard "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard</guimenuitem></menuchoice>">
<!ENTITY keyboard-shortcuts "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard Shortcuts</guimenuitem></menuchoice>">
<!ENTITY language-support "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Language Support</guimenuitem></menuchoice>">
<!ENTITY liferea "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Liferea Feed Reader</guimenuitem></menuchoice>">
<!ENTITY limewire "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>LimeWire</guimenuitem></menuchoice>">
<!ENTITY lockscreen "<menuchoice><guimenu>System</guimenu><guimenuitem>Lock Screen</guimenuitem></menuchoice>">
<!ENTITY login-screen-setup "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Login Window</guimenuitem></menuchoice>">
<!ENTITY mahjongg "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Mahjongg</guimenuitem></menuchoice>">
<!ENTITY menu-editor "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>Applications Menu Editor</guimenuitem></menuchoice>">
<!ENTITY menus-and-toolbars "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Menus &amp; Toolbars</guimenuitem></menuchoice>">
<!ENTITY monodevelop "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDevelop</guimenuitem></menuchoice>">
<!ENTITY monodoc "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDoc</guimenuitem></menuchoice>">
<!ENTITY mouse "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Mouse</guimenuitem></menuchoice>">
<!ENTITY mtink "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>mtink</guimenuitem></menuchoice>">
<!ENTITY music "<menuchoice><guimenu>Places</guimenu><guimenuitem>Music</guimenuitem></menuchoice>">
<!ENTITY multimedia-systems-selector "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Multimedia Systems Selector</guimenuitem></menuchoice>">
<!ENTITY ndisgtk "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Windows Wireless Drivers</guimenuitem></menuchoice>">
<!ENTITY network-proxy "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Network Proxy</guimenuitem></menuchoice>">
<!ENTITY network-tools "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network Tools</guimenuitem></menuchoice>">
<!ENTITY networking "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY network-servers "<menuchoice><guimenu>Places</guimenu><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY neverball "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverball</guisubmenu></menuchoice>">
<!ENTITY neverputt "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverputt</guisubmenu></menuchoice>">
<!ENTITY nexuiz "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Nexuiz</guisubmenu></menuchoice>">
<!ENTITY open-office "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem></menuchoice>">
<!ENTITY openoffice-base "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Database</guimenuitem></menuchoice>">
<!ENTITY openoffice-draw "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>OpenOffice.org Draw</guimenuitem></menuchoice>">
<!ENTITY openoffice-presentation "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Presentation</guimenuitem></menuchoice>">
<!ENTITY openoffice-spreadsheet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Spreadsheet</guimenuitem></menuchoice>">
<!ENTITY openoffice-writer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Word Processor</guimenuitem></menuchoice>">
<!ENTITY palmos-devices "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>PalmOS Devices</guimenuitem></menuchoice>">
<!ENTITY pan "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pan Newsreader</guimenuitem></menuchoice>">
<!ENTITY photoprint "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>PhotoPrint</guimenuitem></menuchoice>">
<!ENTITY pidgin "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pidgin Internet Messenger</guimenuitem></menuchoice>">
<!ENTITY power-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Power Management</guimenuitem></menuchoice>">
<!ENTITY ppracer "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Planet Penguin Racer</guisubmenu></menuchoice>">
<!ENTITY preferences "<menuchoice><guimenu>System</guimenu><guisubmenu>Preferences</guisubmenu></menuchoice>">
<!ENTITY preferred-applications "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Preferred Applications</guimenuitem></menuchoice>">
<!ENTITY print "<menuchoice><guimenu>File</guimenu><guimenuitem>Print</guimenuitem></menuchoice>">
<!ENTITY printing "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Printing</guimenuitem></menuchoice>">
<!ENTITY qtparted "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem><guimenuitem>QTParted</guimenuitem></menuchoice>">
<!ENTITY remote-desktop "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Remote Desktop</guimenuitem></menuchoice>">
<!ENTITY removable-drives-and-media "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Removable Drives and Media</guimenuitem></menuchoice>">
<!ENTITY realplayer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>RealPlayer 11</guimenuitem></menuchoice>">
<!ENTITY restricted-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Hardware Drivers</guimenuitem></menuchoice>">
<!ENTITY rhythmbox "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Rhythmbox Music Player</guimenuitem></menuchoice>">
<!ENTITY route-planner "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY scorched3d "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guimenuitem>Scorched 3D</guimenuitem></menuchoice>">
<!ENTITY screen-resolution "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screen Resolution</guimenuitem></menuchoice>">
<!ENTITY screensaver "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screensaver</guimenuitem></menuchoice>">
<!ENTITY scribus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>Scribus</guimenuitem></menuchoice>">
<!ENTITY serpentine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Serpentine Audio CD Creator</guimenuitem></menuchoice>">
<!ENTITY services "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Services</guimenuitem></menuchoice>">
<!ENTITY sessions "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sessions</guimenuitem></menuchoice>">
<!ENTITY shared-folders "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Shared Folders</guimenuitem></menuchoice>">
<!ENTITY skype "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Skype</guimenuitem></menuchoice>">
<!ENTITY software-properties "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY software-sources "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY sound "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sound</guimenuitem></menuchoice>">
<!ENTITY soundandvideo "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem></menuchoice>">
<!ENTITY soundjuicer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Audio CD Extractor</guimenuitem></menuchoice>">
<!ENTITY supertux "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>SuperTux</guisubmenu></menuchoice>">
<!ENTITY shutdown "<menuchoice><guimenu>System</guimenu><guimenuitem>Shut Down...</guimenuitem></menuchoice>">
<!ENTITY synaptic "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Synaptic Package Manager</guimenuitem></menuchoice>">
<!ENTITY system-monitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>System Monitor</guimenuitem></menuchoice>">
<!ENTITY systemtools "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem></menuchoice>">
<!ENTITY terminal "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Terminal</guimenuitem></menuchoice>">
<!ENTITY text-editor "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Text Editor</guimenuitem></menuchoice>">
<!ENTITY theme "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Theme</guimenuitem></menuchoice>">
<!ENTITY thunderbird "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Mozilla Thunderbird Mail/News</guimenuitem></menuchoice>">
<!ENTITY time-date "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Time and Date</guimenuitem></menuchoice>">
<!ENTITY totem "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Movie Player</guimenuitem></menuchoice>">
<!ENTITY touchpad "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Touchpad</guimenuitem></menuchoice>">
<!ENTITY tremulous "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Tremulous</guisubmenu></menuchoice>">
<!ENTITY ubuntu-update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Ubuntu Update Manager</guimenuitem></menuchoice>">
<!ENTITY update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Update Manager</guimenuitem></menuchoice>">
<!ENTITY users "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY users-groups "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY windows "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Windows</guimenuitem></menuchoice>">
<!ENTITY wireshark "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Wireshark</guimenuitem></menuchoice>">
<!ENTITY xchat-gnome "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Xchat-GNOME IRC Chat</guimenuitem></menuchoice>">
<!ENTITY xine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>xine</guimenuitem></menuchoice>">
<!ENTITY xmms "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>XMMS</guimenuitem></menuchoice>">
<!ENTITY xsane "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>XSane Image Scanner</guimenuitem></menuchoice>">
<!ENTITY % xinclude SYSTEM "../../libs/xinclude.mod">
<!ELEMENT xi:include (xi:fallback)?>
<!ATTLIST xi:include xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ATTLIST xi:include href CDATA #REQUIRED>
<!ATTLIST xi:include parse (xml | text) "xml">
<!ATTLIST xi:include xpointer CDATA #IMPLIED>
<!ATTLIST xi:include encoding CDATA #IMPLIED>
<!ATTLIST xi:include accept CDATA #IMPLIED>
<!ATTLIST xi:include accept-charset CDATA #IMPLIED>
<!ATTLIST xi:include accept-language CDATA #IMPLIED>
<!ELEMENT xi:fallback ANY>
<!ATTLIST xi:fallback xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ENTITY % local.preface.class "| xi:include">
<!ENTITY % local.part.class "| xi:include">
<!ENTITY % local.chapter.class "| xi:include">
<!ENTITY % local.divcomponent.mix "| xi:include">
<!ENTITY % local.para.char.mix "| xi:include">
<!ENTITY % local.info.class "| xi:include">
<!ENTITY % local.common.attrib "xmlns:xi            CDATA       #FIXED       'http://www.w3.org/2001/XInclude'">
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="security" status="review">
	<title>Sicurezza</title>
	<para>La sicurezza deve essere sempre considerata come uno degli aspetti più importanti durante l'installazione, lo sviluppo e l'uso di un sistema. Anche se un'installazione base di Ubuntu offre un livello di sicurezza sufficientemente elevato per l'utilizzo immediato su Internet, è importante avere una buona conoscenza della sicurezza del proprio sistema in base a come verrà usato in produzione.</para>
	<para>Questo capitolo fornisce una panoramica sugli argomenti di sicurezza relativi a Ubuntu 9.04 Server Edition e descrive alcune semplici misure da adottare per proteggere il proprio server e la propria rete da possibili rischi di sicurezza.</para>
  <sect1 id="user-management" status="review">
	<title>Gestione utenti</title>
	<para>L'amministrazione degli utenti è una parte critica per il mantenimento di un sistema sicuro. Utenti poco esperti con privilegi di amministrazione spesso sono la causa della compromissione di sistemi. Pertanto, è importante capire come proteggere il proprio server tramite delle semplici ed efficaci tecniche di gestione degli account utente.</para>
  <sect2 id="where-is-root" status="review">
	<title>Dove è l'utente root?</title>
	<para>Gli sviluppatori di Ubuntu hanno deciso di disattivare in modo predefinito l'account di amministrazione (root) in tutte le installazioni di Ubuntu. Questo non significa che l'account root sia stato eliminato o che non sia più accessibile, è stata impostata una password che non corrisponde ad alcun possibile valore codificato, pertanto, l'accesso come root non è direttamente possibile.</para>
	<para>Gli utenti sono incoraggiati a utilizzare lo strumento <application>sudo</application> per svolgere i compiti di amministrazione di sistema. Lo strumento <application>sudo</application> permette a un utente autorizzato di elevare temporaneamente i propri privilegi usando la propria password, invece di dover conoscere direttamente la password di root. Questo semplice, ma efficace, metodo cerca di fornire responsabilità per tutte le azioni degli utenti e dà all'amministratore un controllo granulare sulle azioni che un utente può eseguire con tali privilegi.</para>
		<itemizedlist>
		<listitem>
		<para>Se per qualche ragione è necessario abilitare l'account root, basta assegnargli semplicemente una password:</para>
<screen>
<command>sudo passwd</command>
</screen>
		<para>Il programma «sudo» chiederà di inserire la propria password e successivamente di inserirne una nuova per l'account root:</para>
<screen>
<computeroutput>[sudo] password for NOME_UTENTE: <userinput>(inserire la propria password)</userinput>
Inserire nuova password UNIX: <userinput>(inserire una nuova password per root)</userinput>
Reinserire la nuova password UNIX: <userinput>(reinserire la nuova password per root)</userinput>
passwd: password aggiornata correttamente</computeroutput>
</screen>
		</listitem>
		<listitem>
		<para>Per disabilitare l'account root, utilizzare la seguente sintassi per passwd:</para>
<screen>
<command>sudo passwd -l root</command>
</screen>
		</listitem>
		<listitem>
		<para>Per maggiori informazioni riguardo <application>sudo</application>, consultarne il manuale:</para>
<screen>
<command>man sudo</command>
</screen>
		</listitem>
		</itemizedlist>
		<para>In modo predefinito, l'utente iniziale creato dall'installazione di Ubuntu è un membro del gruppo «admin» ed è stato aggiunto al file <filename>/etc/sudoers</filename> come utente autorizzato all'utilizzo di sudo. Per autorizzare altri utenti ai pieni poteri amministrativi di root attraverso l'uso del comando <application>sudo</application>, è sufficiente aggiungerli al gruppo «admin».</para>
  </sect2>

  <sect2 id="adding-deleting-users" status="review">
	<title>Aggiungere e rimuovere utenti</title>
	<para>Il processo per la gestione di utenti e gruppi locali è molto intuitivo e differisce poco dalla maggior parte degli altri sistemi GNU/Linux. Ubuntu e altre distribuzioni basate su Debian, incoraggiano l'utilizzo del pacchetto «adduser»  per la gestione degli utenti.</para>
		<itemizedlist>
		<listitem>
		<para>Per aggiungere un nuovo utente, utilizzare i seguenti comandi e seguire le istruzioni per impostare all'account una password e fornire le caratteristiche identificabili come nome, cognome, numero di telefono, ecc...</para>
<screen>
<command>sudo adduser NOME_UTENTE</command>
</screen>
		</listitem>
		<listitem>
		<para>Per eliminare un utente e il suo gruppo principale, digitare:</para>
<screen>
<command>sudo deluser NOME_UTENTE</command>
</screen>
		<para>Quando si elimina un account utente non viene rimossa la sua cartella home. È decisione dell'amministratore se rimuoverla o no in base alle proprie scelte.</para>
		<para>Ricordare che, se non sono state prese le necessarie precauzioni, ogni nuovo utente aggiunto successivamente con gli stessi UID/GID del precedente proprietario della cartella, avrà accesso a tale cartella.</para>
		<para>È possibile modificare questi valori UID/GID con qualcosa di più appropriato, come per esempio l'account root, e spostare la cartella per evitare futuri conflitti:</para>
<screen>
<command>sudo chown -R root:root /home/NOME_UTENTE/</command>
<command>sudo mkdir /home/archived_users/</command>
<command>sudo mv /home/NOME_UTENTE /home/archived_users/</command>
</screen>
		</listitem>
		<listitem>
		<para>Per bloccare o sbloccare temporaneamente l'account di un utente, utilizzare, rispettivamente, i seguenti comandi:</para>
<screen>
<command>sudo passwd -l NOME_UTENTE</command>
<command>sudo passwd -u NOME_UTENTE</command>
</screen>
		</listitem>
		<listitem>
		<para>Per aggiungere o rimuovere un gruppo personalizzato, utilizzare, rispettivamente, i seguenti comandi:</para>
<screen>
<command>sudo addgroup NOME_GRUPPO</command>
<command>sudo delgroup NOME_GRUPPO</command>
</screen>
		</listitem>
		<listitem>
		<para>Per aggiungere un utente a un gruppo, digitare:</para>
<screen>
<command>sudo adduser NOME_UTENTE NOME_GRUPPO</command>
</screen>
		</listitem>
		</itemizedlist>
  </sect2>

  <sect2 id="user-profile-security" status="review">
	<title>Sicurezza dei profili utente</title>
	<para>Quando viene creato un nuovo utente, l'applicazione «adduser» crea una nuova directory chiamata <filename class="directory">/home/NOME_UTENTE</filename>. Il profilo predefinito è modellato secondo i contenuti presenti nella directory <filename class="directory">/etc/skel</filename> che contiene tutti i profili di base.</para>
	<para>Se il proprio server ospiterà più utenti, è necessario prestare la massima attenzione alle autorizzazioni delle home degli utenti, al fine di garantirne la riservatezza. In modo predefinito, in Ubuntu, le home degli utenti sono create con permessi di lettura e di esecuzione per tutti gli utenti. Questo significa che tutti gli utenti possono visualizzare e accedere al contenuto delle home degli altri utenti, cosa che potrebbe non essere soddisfacente per il proprio ambiente.</para>
		<itemizedlist>
		<listitem>
		<para>Per verificare i permessi attuali della home degli utenti, utilizzare il seguente comando:</para>
<screen>
<command>ls -ld /home/NOME_UTENTE</command>
</screen>
		<para>Il seguente output mostra che la directory <filename class="directory">/home/NOME_UTENTE</filename> è accessibile in lettura da parte di tutti gli utenti:</para>
<screen>
<computeroutput>drwxr-xr-x 2 nomeutente nomeutente 4096 2007-10-02 20:03 nomeutente</computeroutput>
</screen>
		</listitem>
		<listitem>
		<para>È possibile rimuovere il permesso in lettura da tutti con il seguente comando:</para>
<screen>
<command>sudo chmod 0750 /home/NOME_UTENTE</command>
</screen>
		<note>
		<para>Alcuni amministratori utilizzano anche l'opzione per la modifica ricorsiva (-R) di tutte le sotto-cartelle e file della home, ma questo non è necessario e potrebbe inoltre causare degli effetti indesiderati. Modificare i permessi alla cartella principale è più che sufficiente per prevenire degli accessi non autorizzati.</para>
		</note>
		<para>Un modo più efficiente potrebbe essere quello di modificare direttamente le impostazioni predefinite dell'applicazione <application>adduser</application> sui permessi da assegnare alle home degli utenti appena creati. È sufficiente modificare la variabile <varname>DIR_MODE</varname>, nel file <filename>/etc/adduser.conf</filename>, secondo le proprie esigenze.</para>
<programlisting>
DIR_MODE=0750
</programlisting>
		</listitem>
		<listitem>
		<para>Dopo aver corretto opportunamente i permessi di accesso alle directory home come descritto precedentemente, verificare il risultato con il seguente comando:</para>
<screen>
<command>ls -ld /home/NOME_UTENTE</command>
</screen>
		<para>Il risultato qui sotto mostra come i permessi di lettura per tutti gli altri utenti siano stati rimossi:</para>
<screen>
<computeroutput>drwxr-x--- 2 nomeutente nomeutente 4096 2007-10-02 20:03 nomeutente</computeroutput>
</screen>
		</listitem>
		</itemizedlist>
  </sect2>

  <sect2 id="password-policy" status="review">
	<title>Politica delle password</title>
	<para>Una severa politica delle password è uno dei più importanti aspetti della sicurezza di un sistema. Le più frequenti violazioni di un sistema avvengono tramite attacchi di forza bruta con degli elenchi di parole che statisticamente possono comprende delle parole chiavi utilizzate come password. Se si vuole di offrire un qualsiasi tipo di accesso remoto utilizzando la propria password locale, assicurarsi che la complessità della stessa superi dei limiti minimi di adeguatezza, di impostare delle password con durate massime e controllare frequentemente i propri sistemi di autenticazione.</para>
  <sect3 id="minimum-password-length" status="review">
	<title>Lungezza minima di una password</title>
	<para>Ubuntu richiede, in modo predefinito, una lunghezza minima per le password pari a 4 caratteri, oltre ad alcuni controlli di entropia. Questi valori sono impostati nel file <filename>/etc/pam.d/common-password</filename> alla riga:</para>
<programlisting>
password   required   pam_unix.so nullok obscure min=4 max=8 md5
</programlisting>
	<para>Per modificare la lunghezza minima delle password impostandola a 6 caratteri, modificare la variabile appropriata con «min=6». Ecco un esempio della modifica:</para>
<programlisting>
password   required   pam_unix.so nullok obscure min=6 max=8 md5
</programlisting>
	<note>
	<para>La variabile <varname>max=8</varname> non rappresenta la massima lunghezza di una password, ma indica semplicemente che le password con numero di caratteri maggiore a quello indicato non saranno sottoposte al controllo sulla complessità. Per  maggiori informazioni sulla complessità delle password, fare riferimento all'applicazione <application>libpam-cracklib</application>.</para>
	</note>
  </sect3>
  <sect3 id="password-expiration" status="review">
	<title>Scadenza delle password</title>
	<para>Quando vengono creati dei nuovi utenti è possibile impostare una durata minima e massima per le loro password, obbligando gli stessi a modificarla alla scadenza.</para>
		<itemizedlist>
		<listitem>
		<para>Per visualizzare facilmente lo stato attuale di un account utente, utilizzare il seguente comando:</para>
<screen>
<command>sudo chage -l NOME_UTENTE</command>
</screen>
		<para>L'output seguente mostra informazioni interessanti sull'account dell'utente, in particolare che non ci sono politiche applicate:</para>
<screen>
<computeroutput>Ultimo cambio della password : gen 20, 2008
Scadenza della password : mai
Inattività della password : mai
Scadenza dell'account : mai
Numero minimo di giorni tra i cambi di password : 0
Numero massimo di giorni tra i cambi di password : 99999
Giorni di preavviso prima della scadenza della password : 7</computeroutput>
</screen>
		</listitem>
		<listitem>
		<para>Per impostare uno qualsiasi di questi campi, utilizzare il seguente comando e seguire le istruzioni:</para>
<screen>
<command>sudo chage NOME_UTENTE</command>
</screen>
		<para>Quello che segue è un esempio di come sia possibile modificare manualmente la data di scadenza dell'account (-E) al 31/01/2008 (inserirla nel formato mm/gg/aaaa o nel formato aaaa/mm/gg), l'età minima della password (-m) a 5 giorni, l'età massima (-M) a 90 giorni, il periodo di inattività (-I) a 5 giorni dopo la scadenza della password e un avvertimento (-W) di 14 giorni prima della scadenza delle password.</para>
<screen>
<command>sudo chage -E 01/31/2008 -m 5 -M 90 -I 30 -W 14 username</command>
</screen>
		</listitem>
		<listitem>
		<para>Per verificare le modifiche, utilizzare lo stesso comando di prima:</para>
<screen>
<command>sudo chage -l NOME_UTENTE</command>
</screen>
		<para>Il seguente output mostra i cambiamenti effettuati sull'account:</para>
<screen>
<computeroutput>Ultimo cambio della password : gen 20, 2008
Scadenza della password : apr 19, 2008
Inattività della password : mag 19, 2008
Scadenza dell'account : gen 31, 2008
Numero minimo di giorni tra i cambi di password : 5
Numero massimo di giorni tra i cambi di password : 90
Giorni di preavviso prima della scadenza della password : 14</computeroutput>
</screen>
		</listitem>
		</itemizedlist>
  </sect3>

  </sect2>


  <sect2 id="other-security-considerations" status="review">
	<title>Ulteriori considerazioni sulla sicurezza</title>
	<para>Molte applicazioni usano meccanismi di autenticazione alternativi che possono essere facilmente trascurati anche da esperti amministratori di sistema. Pertanto, è importante comprendere e controllare come avviene l'autenticazione degli utenti e come accedono ai servizi e alle applicazioni sul proprio server.</para>

  <sect3 id="ssh-access-by-disabled-users" status="review">
	<title>Accesso SSH per gli utenti disabilitati</title>
	<para>Disattivando o bloccando l'account di un utente non impedisce che quest'ultimo riesca a effettuare l'accesso al server se precedentemente utilizzava una chiave pubblica RSA; saranno ancora in grado di ottenere l'accesso al server senza la necessità della password. Controllare sempre se nella directory home degli utenti sono presenti dei file che permettano questo tipo di autenticazione SSH, come per esempio <filename>/home/nomeutente/.ssh/authorized_keys</filename>.</para>
	<para>Eliminare o rinominare la directory <filename class="directory">.ssh/</filename> nella home degli utenti per prevenire future autenticazioni SSH.</para>
	<para>Assicurarsi di controllare qualsiasi connessione SSH stabilita dagli utenti disabilitati, dato che potrebbero esserci connessioni aperti in entrata o in uscita. Terminare tutte quelle che vengono trovate.</para>
	<para>Limitare l'accesso SSH solo agli utenti che ne hanno il diritto. Per esempio, è possibile creare un gruppo chiamato «sshlogin» e aggiungere il nome del gruppo alla voce <varname>AllowGroupsvarname&gt; nel file /etc/ssh/sshd_config.</varname></para>
<programlisting>
AllowGroups sshlogin
</programlisting>
	<para>Dopo aver aggiunto gli utenti con diritto di accesso SSH al gruppo «sshlogin», riavviare il server SSH.</para>
<screen>
<command>sudo adduser NOME_UTENTE sshlogin</command>
<command>sudo /etc/init.d/ssh restart</command>
</screen>
  </sect3>
  <sect3 id="external-db-auth" status="review">
	<title>Autenticazione utenti su database esterno</title>
	<para>La maggior parte delle reti aziendali richiedono un servizio di autenticazione e di controllo degli accessi centralizzato per tutte le risorse di sistema. Se il server è stato configurato per gestire l'autenticazione attraverso database esterni, assicurarsi di disabilitare gli account utente sia esternamente che internamente, in questo modo l'autenticazione locale di riserva non è più possibile.</para>
  </sect3>
  </sect2>
  </sect1>


   <sect1 id="console-security" status="review">
	<title>Sicurezza della console</title>
	<para>Come con qualsiasi sistema di protezione che viene usato per proteggere il proprio server. è molto difficile difendersi dai rischi imprevisti, causati da qualcuno con accesso fisico all'interno dell'ambiente di lavoro, come furti di dischi fissi, mancanza di corrente e via dicendo. Perciò, è necessario considerare la sicurezza della console come un componente della sicurezza totale del sistema. Una porta bloccata può fermare un malintenzionato o può rallentare un ladro esperto, ed è quindi utile prendere delle precauzioni anche a livello della console.</para>
	<para>Le seguenti istruzioni consentiranno di proteggere il proprio server da problemi che potrebbero portare serie conseguenze.</para>

   <sect2 id="disable-ctrl-alt-delete" status="review">
	<title>Disabilitare il Ctrl+Alt+Canc</title>
	<para>Qualsiasi persona con accesso fisico alla tastiera può semplicemente premere <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Canc</keycap></keycombo> per riavviare il server senza eseguire l'accesso. Qualcuno può sempre scollegare la presa della corrente, ma per lo meno è da evitare l'uso di questa combinazione di tasti su un server in produzione. In questo modo un malintenzionato è costretto a utilizzare altre strategie per riavviare un server e consente di non riavviarlo accidentalmente.</para>
		<itemizedlist>
	  	<listitem>
		<para>Per disabilitare il riavvio con la combinazione di tasti <keycombo><keycap>Ctrl</keycap><keycap>Alt</keycap><keycap>Canc</keycap></keycombo>, commentare le seguenti righe nel file <filename>/etc/event.d/control-alt-delete</filename>.</para>
<programlisting>
#exec /sbin/shutdown -r now "Premuto Control-Alt-Canc"
</programlisting>
		</listitem>
		</itemizedlist>
   </sect2>
   <sect2 id="grub-password-security" status="review">
	<title>Sicurezza della password di GRUB</title>
	<para>Il boot loader predefinito di Ubuntu, GNU GRUB, è dotato di grande flessibilità e di opzioni di recupero molto utili. Per esempio, quando vengono installate delle nuove immagini di kernel, queste vengono automaticamente aggiunte alle scelte del boot nel menù di <application>grub</application>. Come impostazione predefinita, vengono inserite delle voci per ogni kernel con delle opzioni alternative che permettono di avviare il sistema in modalità di recupero, sono le voci marcate come "(recovery mode)". La modalità di recupero avvia semplicemente il kernel in modalità singolo utente (init 1), permettendo all'amministratore di operare su un terminale senza la necessità di inserire una password.</para>
	<para>Pertanto, è molto importante prevenire che le voci del menù di <application>grub</application> vengano modificate da chiunque, consentendo di eseguire le seguenti azioni pericolose:</para> 
		<itemizedlist>
	  	<listitem>
	  	<para>Passare delle opzioni specifiche al kernel da caricare.</para>
	  	</listitem>
		<listitem>
		<para>Avviare il server in modalità singolo utente.</para>
		</listitem>
		</itemizedlist>
	<para>È possibile bloccare queste azioni aggiungendo una password all'interno del file di configurazione di GRUB (<filename>/boot/grub/menu.lst</filename>) che verrà richiesta per sbloccare l'accesso alla funzioni avanzate di GRUB.</para>
		<itemizedlist>
	  	<listitem>
	  	<para>Per aggiungere una password a <application>grub</application>, è necessario generare un hash md5 della password usando l'utilità <application>grub-md5-crypt</application>:</para>
<screen>
<command>grub-md5-crypt</command>
</screen>
		<para>Il comando chiederà di inserire una password e successivamente ne mostrerà l'hash, come mostrato di seguito:</para>
<screen>
<computeroutput>Password: <userinput>(inseririre una nuova password)</userinput>
Retype password: <userinput>(ripetere la password)</userinput>
$1$s3YiK$M3lxAbqA6JLm2FbDWnClQ0</computeroutput>
</screen>
	  	</listitem>
	  	<listitem>
		<para>Aggiungere il valore hash al file <filename>/boot/grub/menu.lst</filename> in questo modo:</para>
<programlisting>password --md5 $1$s3YiK$M3lxAbqA6JLm2FbDWnClQ0</programlisting>
	  	</listitem>
	  	<listitem>
	  	<para>Per attivare la richiesta della password per avviare il sistema in modalità singolo utente, modificare il valore della variabile <varname>lockalternative</varname> nel file <filename>/boot/grub/menu.lst</filename> a <varname>true</varname>, come mostrato in questo esempio:</para>
<programlisting># lockalternative=true</programlisting>
		</listitem>
		</itemizedlist>
	<note>
	<para>Questo metodo non è comunque efficace se si riesce a effettuare il boot da un dispositivo esterno. Un utente malintenzionato, in questo modo, potrebbe facilmente modificare il sistema affinché esegua il boot utilizzando un kernel modificato, montare e copiare il contenuto dei volumi fisici o anche distruggere i dati presenti sul disco. È consigliato utilizzare altre contromisure per prevenire questi tipi di attacchi.</para>
	</note>
   </sect2>
   </sect1>

	<sect1 id="firewall" status="review">
	  <title>Firewall</title>
        <sect2 id="firewall-introduction" status="review">
          <title>Introduzione</title>
          <para>Il kernel Linux include il sottosistema <emphasis>Netfilter</emphasis> usato per manipolare o decidere la sorte del traffico di rete diretto all'interno o attraverso un server. Tutte le moderne soluzioni firewall per Linux si basano su questo sistema di filtraggio dei pacchetti.</para>
            <para>Il sistema di filtraggio dei pacchetti del kernel non è di grande utilità per gli amministratori senza un'interfaccia nello spazio utente per gestirlo. Questo è il compito di iptables. Quando un pacchetto raggiunge il proprio server,  esso è gestito affidato al sottosistema Netfilter per l'accettazione, la manipolazione oppure il rifiuto secondo quanto stabilito da regole fornite al sottosistema dallo spazio utente attraverso iptables. Quindi, iptables è tutto ciò che è necessario per gestire il proprio firewall, a patto che si abbia la dimestichezza necessaria; sono comunque disponibili molte altre applicazioni per semplificare tale attività.</para>
        </sect2>
          <sect2 id="firewall-ufw" status="review">
	    <title>ufw - Firewall non complicato</title>  
	    <para>L'applicazione predefinita in Ubuntu per la configurazione di un firewall è <application>ufw</application>. Sviluppato per semplificare la configurazione di iptables, <application>ufw</application> offre un modo semplice per creare un firewall basato su protocolli IPv4 e IPv6.</para>
	    <para><application>ufw</application>, in modo predefinito, è inizialmente disabilitato. Dal manuale di <application>ufw</application> si legge:</para>
	    <para>
<quote>ufw is not intended to provide complete firewall functionality via its command interface, but instead provides an easy way to add or remove simple rules. It is currently mainly used for host-based firewalls
(ufw non ha lo scopo di implementare tutte le funzionalità di un firewall tramite la sua interfaccia di comandi, ma invece cerca di facilitare l'aggiunta o la rimozione di semplici regole. È usato principalmente per dei firewall host-based)</quote>
	    </para>
	    <para>Seguono degli esempi sull'uso di <application>ufw</application>:</para> 
	    <itemizedlist>
              <listitem>
                <para>Per prima cosa, è necessario abilitare <application>ufw</application>. In un terminale digitare:</para>
<screen>
<command>sudo ufw enable</command>
</screen>
	      </listitem>
              <listitem>
                <para>Per aprire una porta (in questo caso la porta di SSH):</para>
<screen>
<command>sudo ufw allow 22</command>
</screen>
	      </listitem>
              <listitem>
                <para>Le regole possono anche essere aggiunte usando un formato <emphasis>a numeri</emphasis>:</para>
<screen>
<command>sudo ufw insert 1 allow 80</command>
</screen>
	      </listitem>
              <listitem>
                <para>Analogamente, per chiudere una porta aperta:</para>
<screen>
<command>sudo ufw deny 22</command>
</screen>
	      </listitem>
              <listitem>
                <para>Per eliminare una regola, usare «delete» seguito dalla regola:</para>
<screen>
<command>sudo ufw delete deny 22</command>
</screen>
	      </listitem>
              <listitem>
                <para>È anche possibile consentire l'accesso da host o da reti specifici a una porta. Il seguente esempio consente accesso SSH dall'host 192.168.0.2 a qualsiasi indirizzo IP su questo host:</para>
<screen>
<command>sudo ufw allow proto tcp from 192.168.0.2 to any port 22</command>
</screen>
	        <para>Sostituire 192.168.0.2 con 192.168.0.0/24 per consentire accesso SSH da tutta la sotto-rete.</para>
	      </listitem>
              <listitem>

                <para>Aggiungendo l'opzione <emphasis>--dry-run</emphasis> a un comando <emphasis>ufw</emphasis> è possibile visualizzare il risultato delle regole, ma senza applicarle. Per esempio, questo è quello che verrebbe applicato nel caso venisse aperta la porta HTTP:</para>

<screen>
<command>sudo ufw --dry-run allow http</command>
</screen>

<screen>
<computeroutput>*filter
:ufw-user-input - [0:0]
:ufw-user-output - [0:0]
:ufw-user-forward - [0:0]
:ufw-user-limit - [0:0]
:ufw-user-limit-accept - [0:0]
### RULES ###

### tuple ### allow tcp 80 0.0.0.0/0 any 0.0.0.0/0
-A ufw-user-input -p tcp --dport 80 -j ACCEPT

### END RULES ###
-A ufw-user-input -j RETURN
-A ufw-user-output -j RETURN
-A ufw-user-forward -j RETURN
-A ufw-user-limit -m limit --limit 3/minute -j LOG --log-prefix "[UFW LIMIT]: "
-A ufw-user-limit -j REJECT
-A ufw-user-limit-accept -j ACCEPT
COMMIT
Rules updated</computeroutput>
</screen>

              </listitem>
              <listitem>
                <para>È possibile disabilitare <application>ufw</application> con il comando:</para>
<screen>
<command>sudo ufw disable</command>
</screen>
	      </listitem>
              <listitem>
                <para>Per visualizzare lo stato del firewall usare:</para>
<screen>
<command>sudo ufw status</command>
</screen>
	      </listitem>
              <listitem>
                <para>Per informazioni più dettagliate usare:</para>
<screen>
<command>sudo ufw status verbose</command>
</screen>
	      </listitem>
              <listitem>
                <para>Per visualizzare il formato <emphasis>a numeri</emphasis>:</para>
<screen>
<command>sudo ufw status numbered</command>
</screen>
	      </listitem>
	    </itemizedlist>
	    <note>
	      <para>Se la porta che si vuole aprire o chiudere è definita in <filename>/etc/services</filename>, è possibile usare il nome della porta al posto del numero. In questo esempio si sostituisce <emphasis>22</emphasis> con <emphasis>ssh</emphasis>.</para>
	    </note>

  	    <para>Questa è una breve introduzione all'utilizzo di <application>ufw</application>. Per maggiori informazioni, consultare le pagine man di <application>ufw</application>.</para>

            <sect3 id="ufw-application-integration" status="review">
              <title>Integrazione delle applicazioni con ufw</title>

              <para>Le applicazioni che aprono delle porte possono includere un profilo <application>ufw</application> in cui vengono descritte le porte necessarie all'applicazione per funzionare correttamente. I profili vengono salvati in <filename role="directory">/etc/ufw/applications.d</filename> e possono essere modificati se le porte predefinite sono cambiate.</para>

              <itemizedlist>
                <listitem>

                  <para>Per visualizzare quali applicazioni hanno un profilo installato, in un terminale digitare:</para>

<screen>
<command>sudo ufw app list</command>
</screen>

                </listitem>
                <listitem>

                  <para>Usare un profilo di un'applicazione è simile al consentire il traffico attraverso una porta:</para>

<screen>
<command>sudo ufw allow Samba</command>
</screen>

                </listitem>
                <listitem>

                  <para>È disponibile anche una sintassi più estesa:</para>

<screen>
<command>ufw allow from 192.168.0.0/24 to any app Samba</command>
</screen>

                  <para>Sostituire <emphasis>Samba</emphasis> e <emphasis>192.168.0.0/24</emphasis> con il profilo dell'applicazione da usare e l'intervallo di indirizzi della propria rete.</para>

                  <note>
                    <para>Non è necessario specificare il <emphasis>protocollo</emphasis> per l'applicazione, dato che queste informazioni sono contenute nel profilo. Notare che il nome dell'<emphasis>applicazione</emphasis> sostituisce il numero della <emphasis>porta</emphasis>.</para>
                  </note>

                </listitem>
                <listitem>

                  <para>Per visualizzare i dettagli riguardo quali porte, protocolli, ecc... sono definiti per un'applicazione, digitare:</para>

<screen>
<command>sudo ufw app info Samba</command>
</screen>

                </listitem>
              </itemizedlist>

              <para>Non tutte le applicazioni che richiedono l'apertura di una porta hanno un profilo <application>ufw</application>, ma se è stato creato un profilo per un'applicazione e lo si vuole includere nel pacchetto, segnalare un bug su <ulink url="https://launchpad.net/">Launchpad</ulink>.</para>

            </sect3>
	  </sect2>
        <sect2 id="ip-masquerading" status="review">
          <title>IP masquerading</title>
            <para>Il compito dell'IP masquerading è di consentire a quei computer della rete forniti di indirizzi IP privati e non instradabili, di accedere a Internet tramite il computer che opera il masquerading. Il traffico che va dalla rete privata verso Internet deve essere manipolato per ottenere risposte che siano re-instradabili al computer che ne ha fatto richiesta. Per ottenere questo risultato, il kernel deve modificare l'indirizzo IP <emphasis>sorgente</emphasis> di ciascun pacchetto affinché tali risposte vengano re-instradate a esso invece che all'indirizzo IP privato che ha fatto la richiesta, procedura impossibile da eseguire su Internet. Linux fa uso del <emphasis>tracciamento della connessione</emphasis> (conntrack) per tenere traccia di quale connessione appartenga a quale computer e di conseguenza per re-instradare ciascun pacchetto di risposta. Il traffico in uscita dalla rete privata viene quindi "mascherato" per simulare l'uscita dalla macchina gateway Ubuntu. Nella documentazione Microsoft questo processo è indicato come condivisione delle connessioni internet (Internet Connection Sharing).</para>
	    <sect3 id="ip-masquerade-ufw" status="review">
	      <title>Masquerading con ufw</title>
	      <para>L'IP masquerading può essere ottenuto utilizzando regole <application>ufw</application> personalizzate. Questo è possibile dato che il backend attuale per <application>ufw</application> è <application>iptables-restore</application> con i file delle regole posizionati in <filename>/etc/ufw/*.rules</filename>. Questi file possono essere usati per aggiungere vecchie regole di iptables usate senza <application>ufw</application> e regole maggiormente legate al gateway o al bridge.</para>
	      <para>Le regole sono divise in due file diversi, regole da eseguire prima delle regole a riga di comando di <application>ufw</application> e regole da eseguire dopo <application>ufw</application>.</para>
	      <itemizedlist>
	        <listitem>
		  <para>Per prima cosa, è necessario abilitare l'inoltro dei pacchetti modificando due file di configurazione. In <filename>/etc/default/ufw</filename> modificare <emphasis>DEFAULT_FORWARD_POLICY</emphasis> in <quote>ACCEPT</quote>:</para>
<programlisting>
DEFAULT_FORWARD_POLICY="ACCEPT"
</programlisting>
		  <para>Quindi modificare il file <filename>/etc/ufw/sysctl.conf</filename> de-commentando:</para>
<programlisting>
net.ipv4.ip_forward=1
</programlisting>
		  <para>Similmente, per abilitare l'inoltro con IPv6 de-commentare:</para>
<programlisting>
net.ipv6.conf.default.forwarding=1
</programlisting>
		</listitem>
	        <listitem>
		  <para>Ora verranno aggiunte delle regole al file <filename>/etc/ufw/before.rules</filename>. Le regole predefinite configurano solamente la tabella <emphasis>filter</emphasis> e per abilitare il masquerading è necessario configurare la tabella <emphasis>nat</emphasis>. Aggiungere all'inizio del file, subito dopo i commenti dell'intestazione, quanto segue:</para>
<programlisting>
# regole tabella nat
*nat
:POSTROUTING ACCEPT [0:0]

# Inoltro traffico da eth1 attraverso eth0
-A POSTROUTING -s 192.168.0.0/24 -o eth0 -j MASQUERADE

# non cancellare la riga 'COMMIT' o queste tabelle di regole non saranno elaborate
COMMIT
</programlisting>
	          <para>I commenti non sono necessari, ma è buona pratica documentare le proprie configurazioni. Inoltre, quando si modificano i file <emphasis>rules</emphasis> in <filename class="directory">/etc/ufw</filename>, assicurarsi che queste righe siano sempre le ultime in ogni tabella modificata:</para>

<programlisting>
# non eliminare la riga 'COMMIT' o queste tabelle di regole non saranno elaborate
COMMIT
</programlisting>

                  <para>Per ogni <emphasis>tabella</emphasis> è necessario un <emphasis>COMMIT</emphasis>. In questi esempi sono mostrate solamente le tabelle <emphasis>nat</emphasis> e <emphasis>filter</emphasis>, ma è possibile aggiungere regole per le tabelle <emphasis>raw</emphasis> e <emphasis>mangle</emphasis>.</para>

                  <note>
                   <para>Nell'esempio precedente, sostituire <emphasis>eth0</emphasis>, <emphasis>eth1</emphasis> e <emphasis>192.168.0.0/24</emphasis> con le interfacce appropriate e con l'intervallo di indirizzi corretto.</para>
                  </note>

		</listitem>
	        <listitem>
		  <para>Infine, disattivare e riattivare <application>ufw</application> per applicare le modifiche:</para>
<programlisting>
<command>sudo ufw disable &amp;&amp; sudo ufw enable</command>
</programlisting>
		</listitem>
	      </itemizedlist>
	      <para>L'IP masquerading ora dovrebbe essere abilitato. È possibile aggiungere regole FORWARD aggiuntive al file <filename>/etc/ufw/before.rules</filename>. È utile che queste regole addizionali vengano aggiunte alla catena <emphasis>ufw-before-forward</emphasis>.</para>
	  </sect3>
	    <sect3 id="ip-masquerading-iptables" status="review">
	    <title>Masquerading con iptables</title>
	    <para>È possibile anche utilizzare <application>iptables</application> per abilitare il masquerading.</para>
	    <itemizedlist>
	      <listitem>
  	        <para>Similmente a <application>ufw</application>, il primo passo per abilitare l'inoltro di pacchetti con IPv4 è quello di modificare il file <filename>/etc/sysctl.conf</filename> e de-commentare la seguente riga:</para>
<programlisting>
net.ipv4.ip_forward=1
</programlisting>
	        <para>Per abilitare l'inoltro con IPv6, de-commetare:</para>
<programlisting>
net.ipv6.conf.default.forwarding=1
</programlisting>
 	      </listitem>
	        <listitem>
		  <para>Quindi, eseguire il comando <application>sysctl</application> per abilitare le nuove impostazioni nel file di configurazione:</para>
<screen>
<command>sudo sysctl -p</command>
</screen>
		</listitem>
	      <listitem>
	        <para>L'IP masquerading può essere ottenuto con una sola regola di iptables, che può cambiare leggermente in base alla configurazione della propria rete:</para>
<screen>
sudo iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE
</screen>
	        <para>Il comando precedente assume che lo spazio di indirizzi privato sia 192.168.0.0/16 e che il dispositivo collegato a Internet sia ppp0. La sintassi del comando è la seguente:</para>
		<itemizedlist>
		  <listitem><para>-t nat: regola viene inserita nella tabella nat</para></listitem>
		  <listitem><para>-A POSTROUTING: la regola viene accodata (-A) alla catena POSTROUTING</para></listitem>
  		  <listitem><para>-s 192.168.0.0/16: la regola si applica al traffico originato dallo spazio di indirizzi specificato</para></listitem>
  		  <listitem><para>-o ppp0: la regola si applica al traffico instradato attraverso l'interfaccia di rete specificata</para></listitem>
  		  <listitem>
                    <para>-j MASQUERADE: il traffico che soddisfa questa regola viene "saltato" (-j sta per jump) alla destinazione MASQUERADE per essere manipolato come descritto in precedenza</para>
                  </listitem>
	        </itemizedlist>
	      </listitem>
	      <listitem>
		<para>Inoltre, ogni catena nella tabella "filter" (la tabella predefinita e dove avvengono la maggior parte dei filtri sui pacchetti) ha una <emphasis>politica</emphasis> predefinita di ACCEPT, ma se si sta creando un firewall in aggiunta a un dispositivo gateway, è possibile aver impostato le politiche DROP e REJECT, nel cui caso il traffico "masqueraded" deve essere consentito attraverso la catena FORWARD affinché la regola precedente possa funzionare:</para>
<screen>
sudo iptables -A FORWARD -s 192.168.0.0/16 -o ppp0 -j ACCEPT
sudo iptables -A FORWARD -d 192.168.0.0/16 -m state --state ESTABLISHED,RELATED -i ppp0 -j ACCEPT
</screen>
		<para>I precedenti comandi consentiranno a tutte le connessioni della propria rete locale accesso a Internet e a tutto il traffico relativo a queste connessioni di ritornare ai computer che lo hanno originato.</para>
	      </listitem>
	      <listitem>
		<para>Per fare in modo che il masquerading sia abilitato al riavvio, modificare il file <filename>/etc/rc.local</filename> e aggiungere qualsiasi dei comandi utilizzati precedentemente. Per esempio, aggiungere il primo comando senza filtro:</para>
<screen>
iptables -t nat -A POSTROUTING -s 192.168.0.0/16 -o ppp0 -j MASQUERADE
</screen>
	      </listitem>
	    </itemizedlist>
	    </sect3>
        </sect2>
        <sect2 id="firewall-logs" status="review">
          <title>Registri</title>
            <para>I registri del firewall sono molto utili per riconoscere gli attacchi, migliorare le regole del firewall e per verificare attività inusuali nella propria rete. È necessario includere regole di registrazione per fare in modo che vengano eseguite le registrazioni e queste devono essere inserite prima di qualsiasi regola terminante applicabile (un regola con un obiettivo che decide il destino di un pacchetto, come ACCEPT, DROP o REJECT).</para>
	     <para>Se si sta usando <application>ufw</application> è possibile attivare la registrazione con il seguente comando:</para>
<screen>
<command>sudo ufw logging on</command>
</screen>
	     <para>Per disabilitare la registrazione in <application>ufw</application>, sostituire, nel comando precedente, <emphasis role="italic">on</emphasis> con <emphasis role="italic">off</emphasis>.</para>
	     <para>Se è in uso <application>iptables</application> al posto di <application>ufw</application>, digitare:</para>
<screen>
sudo iptables -A INPUT -m state --state NEW -p tcp --dport 80 -j LOG --log-prefix "NEW_HTTP_CONN: "
</screen>
	     <para>Una richiesta sulla porta 80 dal computer locale, genererebbe, in dmesg, una traccia simile:</para>
			<para>
			  <programlisting>[4304885.870000] NUOV_CONN_HTTP: IN=lo OUT= MAC=00:00:00:00:00:00:00:00:00:00:00:00:08:00 SRC=127.0.0.1 DST=127.0.0.1 LEN=60 TOS=0x00 PREC=0x00 TTL=64 ID=58288 DF PROTO=TCP SPT=53981 DPT=80 WINDOW=32767 RES=0x00 SYN URGP=0</programlisting>
			</para>
			<para>Il registro precedente appare anche nei file <filename>/var/log/messages</filename>, <filename>/var/log/syslog</filename> e <filename>/var/log/kern.log</filename>. Questo comportamento può essere cambiato, modificando in modo appropriato il file <filename>/etc/syslog.conf</filename> oppure installando e configurando <application>ulogd</application> e facendo uso della destinazione ULOG al posto di LOG. Il demone <application>ulogd</application> è un server nello spazio utente in ascolto per le istruzioni di registro del kernel specifiche dei firewall; è possibile salvare i registri su qualsiasi file o perfino in un database come <application>PostgreSQL</application> o <application>MySQL</application>. Per dare un significato ai registri del firewall è possibile utilizzare delle applicazioni di analisi dei reigistri come <application>fwanalog</application>, <application> fwlogwatch</application> o <application>lire</application>.</para>
        </sect2>	
        <sect2 id="other-firewall-tools" status="review">
          <title>Altri strumenti</title>
            <para>Esistono diversi strumenti per "costruire" un firewall completo senza alcuna conoscenza di iptables. Per chi preferisce un'interfaccia grafica:</para>
	    <itemizedlist>
	      <listitem>
		<para><ulink url="http://www.fs-security.com/">Firestarter</ulink> è molto usato e facile da utilizzare.</para>
	      </listitem>
	      <listitem>
		<para><ulink url="http://www.fwbuilder.org/">fwbuilder</ulink> è molto potente e ha un aspetto che può risultare familiare agli amministratori che hanno utilizzato un firewall commerciale come <application>Checkpoint FireWall-1</application>.</para>
	      </listitem>
	    </itemizedlist>
	    <para>Per chi preferisce uno strumento a riga di comando con file di configurazione in semplice testo:</para>
	    <itemizedlist>
	      <listitem>
		<para><ulink url="http://www.shorewall.net/">Shorewall</ulink> è una soluzione molto potente per configurare un firewall di livello avanzato per qualsiasi rete.</para>
	      </listitem>
	      <listitem>
		<para><ulink url="http://www.linuxkungfu.org/">ipkungfu</ulink> dovrebbe fornire un firewall funzionante "out of the box", senza alcuna configurazione e consente di configurare firewall avanzati modificando semplici file di configurazione ben documentati.</para>
	      </listitem>
	      <listitem>
		<para><ulink url="http://fireflier.sourceforge.net/">fireflier</ulink> è progettato per essere un'applicazione firewall per il desktop. È costituito da un server (fireflier-server), da un client grafico (GTK o QT) e si comporta come diverse applicazioni firewall interattive per Windows.</para>
	      </listitem>
	    </itemizedlist>
        </sect2>
	<sect2 id="firewall-references" status="review">
	  <title>Riferimenti</title>
	  <itemizedlist>
	    <listitem>
	      <para>La pagina wiki relativa a <ulink url="https://wiki.ubuntu.com/UbuntuFirewall">Ubuntu Firewall</ulink> contiene informazioni sullo sviluppo di <application>ufw</application>.</para>
	    </listitem> 
	    <listitem>
	      <para>Inoltre, la pagina di manuale di <application>ufw</application> contiene molte informazioni utili: <command>man ufw</command>.</para>
	    </listitem> 
	    <listitem>
	      <para>Per maggiori informazioni sull'uso di <application>iptables</application>, consultare <ulink url="http://www.netfilter.org/documentation/HOWTO/packet-filtering-HOWTO.html">packet-filtering-HOWTO</ulink>.</para>
	    </listitem> 
	    <listitem>
	      <para>Il <ulink url="http://www.netfilter.org/documentation/HOWTO/NAT-HOWTO.html">nat-HOWTO</ulink> contiene ulteriori dettagli sul masquerading.</para>
	    </listitem> 
	  </itemizedlist>
	</sect2>
	</sect1>
	<sect1 id="apparmor" status="review">
	  <title>AppArmor</title>
	  <para><application>AppArmor</application> è un'implementazione del «Linux Security Module» per il controllo degli accessi vincolante basato sul nome. AppArmor racchiude individualmente i programmi in un insieme di file e capacità posix 1003.1e draft.</para>
	  <para><application>AppArmor</application> è installato e caricato in modo predefinito e utilizza i <emphasis>profili</emphasis> di un'applicazione per determinare quali file e permessi siano necessari all'applicazione. Alcuni pacchetti installano i propri profili e ulteriori profili possono essere trovati nel pacchetto <application>apparmor-profiles</application>.</para>
	  <para>Per installare il pacchetto <application>apparmor-profiles</application>, in un terminale digitare:</para>
<screen>
<command>sudo apt-get install apparmor-profiles</command>
</screen>
	  <para>I profili di AppArmor dispongono di due modalità di esecuzione:</para>
	  <itemizedlist>
	    <listitem>
	      <para>Apprendimento (complaining/learning): le violazioni del profilo sono consentite e vengono registrate. Utile per verificare e sviluppare nuovi profili.</para>
	    </listitem>
	    <listitem>
	      <para>Esecutiva (enforced/confined): obbliga a rispettare la politica del profilo e registra le violazioni.</para>
	    </listitem>
	  </itemizedlist>
	  <sect2 id="apparmor-usage" status="review">
	    <title>Utilizzare AppArmor</title>
	    <para>Il pacchetto <application>apparmor-utils</application> contiene utilità a riga di comando che è possibile usare per modificare la modalità di esecuzione di <application>AppArmor</application>, trovare lo stato di un profilo, creare nuovi profili, ecc...</para>
	    <itemizedlist>
	      <listitem>
	    	<para><application>apparmor_status</application> è utilizzata per visualizzare lo stato attuale dei profili AppArmor.</para>
<screen>
<command>sudo apparmor_status</command>
</screen>
	      </listitem>
	      <listitem>
	        <para><application>aa-complain</application> posiziona un profilo nella modalità <emphasis>apprendimento</emphasis>.</para>
<screen>
<command>sudo aa-complain /percorso/al/binario</command>
</screen>
	      </listitem>
	      <listitem>
	        <para><application>aa-enforce</application> posiziona un profilo nella modalità <emphasis>esecutiva</emphasis>.</para>
<screen>
<command>sudo aa-enforce /percorso/al/bianrio</command>
</screen>
	      </listitem>
	      <listitem>
	    	<para>Nella directory <filename>/etc/apparmor.d</filename> sono archiviati tutti i profili di AppArmor ed è possibile, da qui, modificare la <emphasis>modalità</emphasis> di tutti i profili.</para>
	    	<para>Usare il seguente comando per impostare tutti i profili nella modalità apprendimento:</para>
<screen>
<command>sudo aa-complain /etc/apparmor.d/*</command>
</screen>
	    <para>Per impostare tutti i profili nella modalità esecutiva:</para>
<screen>
<command>sudo aa-enforce /etc/apparmor.d/*</command>
</screen>
	      </listitem>
	      <listitem>
	        <para><application>apparmor_parser</application> è utilizzata per caricare un profilo all'interno del kernel. Può essere usata anche per ricaricare profili attraverso l'opzione <emphasis>-r</emphasis>. Per caricare un profilo:</para>
<screen>
<command>cat /etc/apparmor.d/profile.name | sudo apparmor_parser -a</command>
</screen>
		<para>Per ricaricare un profilo:</para>
<screen>
<command>cat /etc/apparmor.d/profile.name | sudo apparmor_parser -r</command>
</screen>
	      </listitem>
	      <listitem>
	   	<para><filename>/etc/init.d/apparmor</filename> può essere usato per <emphasis>ricaricare</emphasis> tutti i profili:</para>
<screen>
<command>sudo /etc/init.d/apparmor reload</command>
</screen>
	      </listitem>
	      <listitem>
	    	<para>La directory <filename>/etc/apparmor.d/disable</filename> può essere usata con l'opzione <application>apparmor_parser -R</application> per <emphasis>disabilitare</emphasis> un profilo.</para>
<screen>
<command>sudo ln -s /etc/apparmor.d/profile.name /etc/apparmor.d/disable/</command>
<command>sudo apparmor_parser -R /etc/apparmor.d/profile.name</command>
</screen>
	        <para>Per <emphasis>riabilitare</emphasis> un profilo disabilitato, rimuovere il collegamento simbolico al profilo in <filename>/etc/apparmor.d/disable/</filename>, quindi caricare il profilo usando l'opzione <emphasis>-a</emphasis>.</para>
<screen>
<command>sudo rm /etc/apparmor.d/disable/profile.name</command>
<command>cat /etc/apparmor.d/profile.name | sudo apparmor_parser -a</command>
</screen>
	      </listitem>
	      <listitem>
	    	<para>È possibile disabilitare <application>AppArmor</application> e scaricare il modulo del kernel attraverso i seguenti comandi:</para>
<screen>
<command>sudo /etc/init.d/apparmor stop</command>
<command>sudo update-rc.d -f apparmor remove</command>
</screen>
	      </listitem>
	      <listitem>
	        <para>Per riabilitare <application>AppArmor</application>:</para>
<screen>
<command>sudo /etc/init.d/apparmor start</command>
<command>sudo update-rc.d apparmor defaults</command>
</screen>
	      </listitem>
	    </itemizedlist>
	    <note>
	      <para>Sostituire <emphasis>profile.name</emphasis> con il nome del profilo da modificare e sostituire anche <filename>/percorso/eseguibile/</filename> con il percorso all'eseguibile. Per esempio, per il comando <application>ping</application>, usare <filename>/bin/ping</filename></para>
	    </note>
	  </sect2>
	  <sect2 id="apparmor-profiles" status="review">
	    <title>Profili</title>
	    <para>I profili di <application>AppArmor</application> sono dei semplici file di testo posizionati in <filename>/etc/apparmor.d/</filename>. Questi file vengono nominati con il percorso completo all'eseguibile del profilo, sostituendo «/» con «.». Per esempio, <filename>/etc/apparmor.d/bin.ping</filename> è il profilo AppArmor del comando <filename>/bin/ping</filename>.</para>
	    <para>Esistono due principali tipologie di regole usate nei profili:</para>
	    <itemizedlist>
	      <listitem>
	        <para><emphasis>Voci di percorso</emphasis>: specificano a quali file nel file system un'applicazione può accedere.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>Voci di capacità</emphasis>: determinano quali privilegi un processo può utilizzare.</para>
	      </listitem>
	    </itemizedlist>
	    <para>Per un esempio, consultare <filename>/etc/apparmor.d/bin.ping</filename>:</para>
<programlisting>
#include &lt;tunables/global&gt;
/bin/ping flags=(complain) {
  #include &lt;abstractions/base&gt;
  #include &lt;abstractions/consoles&gt;
  #include &lt;abstractions/nameservice&gt;

  capability net_raw,
  capability setuid,
  network inet raw,
  
  /bin/ping mixr,
  /etc/modules.conf r,
}
</programlisting>
	    <itemizedlist>
	      <listitem>
	        <para><emphasis>#include &lt;tunables/global&gt;</emphasis>: asserzioni di inclusione da altri file. Consente di usare un file comune con le asserzioni di inclusione per molteplici applicazioni.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>/bin/ping flags=(complain)</emphasis>: percorso al programma con profilo, impostandone la modalità ad <emphasis>apprendimento</emphasis>.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>capability net_raw,</emphasis>: consente all'applicazione di accedere alla capacità CAP_NET_RAW Posix.1e.</para>
	      </listitem>
	      <listitem>
	        <para><emphasis>/bin/ping mixr,</emphasis>: consente all'applicazione accesso in lettura e in esecuzione al file.</para>
	      </listitem>
            </itemizedlist>
	    <note>
	      <para>Dopo aver modificato un profilo, è necessario ricaricarlo. Per maggiori informazioni, consultare <xref linkend="apparmor-usage"/>.</para>
	    </note>
	    <sect3 id="apparmor-profiles-new" status="review">
	      <title>Creare un profilo</title>
	      <itemizedlist>
		<listitem>
	          <para><emphasis>Progettare un piano di verifica</emphasis>: cercare di pensare a come l'applicazione dovrebbe essere eseguita. Il piano di verifica dovrebbe essere diviso in tanti piccoli casi d'uso, ognuno dei quali dovrebbe avere una breve descrizione e un elenco dei passi da compiere.</para>
		  <para>Alcuni casi standard da verificare sono:</para>
	          <itemizedlist>
		    <listitem>		
		      <para>Avvio del programma.</para>
		    </listitem>
		    <listitem>		
		      <para>Arresto del programma.</para>
		    </listitem>
		    <listitem>		
		      <para>Ricaricamento del programma.</para>
		    </listitem>
		    <listitem>		
		      <para>Verifica di tutti i comandi supportati dallo script init.</para>
		    </listitem>
		  </itemizedlist>
		</listitem>
	        <listitem>
	          <para><emphasis>Generare il nuovo profilo</emphasis>: usare <application>aa-genprof</application> per generare un nuovo profilo. Da un terminale:</para>
<screen>
<command>sudo aa-genprof eseguibile</command>
</screen>
		    <para>Per esempio:</para>
<screen>
<command>sudo aa-genprof slapd</command>
</screen>
		</listitem>
		<listitem>
		  <para>Affinché il proprio nuovo profilo venga incluso nel pacchetto <application>apparmor-profiles</application>, segnalare un bug su <emphasis>Launchpad</emphasis> riguardo il pacchetto <ulink url="https://bugs.launchpad.net/ubuntu/+source/apparmor/+filebug">AppArmor</ulink>:</para>
		  <itemizedlist>
		    <listitem>
		      <para>Includere la pianificazione e le casistiche del test.</para>
		    </listitem>
		    <listitem>
		      <para>Allegare il nuovo profilo al bug.</para>
		    </listitem>
		  </itemizedlist>
		</listitem>
	      </itemizedlist>
	    </sect3>
	    <sect3 id="apparmor-profiles-update" status="review">
	      <title>Aggiornare i profili</title>
	      <para>Quando il programma si comporta stranamente, messaggi di audit vengono inviati ai file di registro. Il programma <application>aa-logprof</application> può essere usato per analizzare i file di registro per i messaggi di audit di <application>AppArmor</application>, per controllarli e per aggiornare i profili. Da un terminale:</para>
<screen>
<command>sudo aa-logprof</command>
</screen>
	    </sect3>
	  </sect2>	   
	  <sect2 id="apparmor-references" status="review">
	    <title>Riferimenti</title>
	    <itemizedlist>
	      <listitem>
	        <para>Per le opzioni avanzate di configurazione, consultare la <ulink url="http://www.novell.com/documentation/apparmor/apparmor201_sp10_admin/index.html?page=/documentation/apparmor/apparmor201_sp10_admin/data/book_apparmor_admin.html">AppArmor Administration Guide</ulink></para>
	      </listitem>
	    </itemizedlist>
	    <itemizedlist>
	      <listitem>
	        <para>Per maggiori informazioni su come usare AppArmor con altri rilasci di Ubuntu, consultare la <ulink url="http://wiki.ubuntu-it.org/Sicurezza/AppArmor">documentazione della comunità italiana</ulink>.</para>
	      </listitem>
	    </itemizedlist>
	    <itemizedlist>
	      <listitem>
	        <para>La pagina <ulink url="http://en.opensuse.org/AppArmor">OpenSUSE AppArmor</ulink> è un'altra introduzione ad AppArmor.</para>
	      </listitem>
	    </itemizedlist>
	    <itemizedlist>
	      <listitem>
	  	<para>Un buon posto per chiedere assistenza riguardo <application>AppArmor</application>, e per partecipare nella comunità di Ubuntu Server, è il canale IRC <emphasis>#ubuntu-server</emphasis> su <ulink url="http://freenode.net">freenode</ulink>.</para>
	      </listitem>
	    </itemizedlist>
	  </sect2>
	</sect1>

        <sect1 id="certificates-and-security" status="review">
          <title>Certificati</title>
            <para>Una delle più comuni forme di crittografia odierna è la crittografia a <emphasis>chiave pubblica</emphasis>. Questo tipo di crittografia utilizza una <emphasis>chiave pubblica</emphasis> e una <emphasis>chiave privata</emphasis>. Il sistema funziona <emphasis>cifrando</emphasis> le informazioni usando la chiave pubblica che possono solo essere <emphasis>decifrate</emphasis> con la chiave privata.</para>
            <para>L'utilizzo più comune della crittografia a chiave pubblica è nella cifratura del traffico delle applicazioni attraverso una connessione SSL (Secure Socket Layer) o TLS (Transport Layer Security), per esempio configurando Apache affinché fornisca <emphasis>HTTPS</emphasis>, il protocollo HTTP via SSL. Questo consente di cifrare il traffico utilizzando un protocollo che non fornisce nativamente una cifratura.</para>
            <para>Un <emphasis>certificato</emphasis> è un metodo di distribuzione di una <emphasis>chiave pubblica</emphasis> e di altre informazioni riguardo un server e l'organizzazione che ne è responsabile. I certificati possono essere firmati digitalmente a un'<emphasis>Autorità di Certificazione</emphasis> o CA. Una CA è un'entità fidata che conferma la veridicità delle informazioni contenute nel certificato.</para>
        <sect2 id="types-of-certificates" status="review">
          <title>Tipologie dei certificati</title>
            <para>Per configurare un server sicuro affinché usi la crittografia a chiave pubblica, nella maggior parte dei casi, è necessario inviare la richiesta del certificato (compresa la chiave pubblica), una prova di esistenza della propria società e il pagamento a una CA. La CA verifica la richiesta e la propria identità e quindi invia un certificato per il proprio server. In alternativa, è possibile creare il proprio certificato <emphasis>auto-firmato</emphasis>.</para>
            <note>
              <para>I certificati auto-firmati non dovrebbero essere usati in ambienti di produzione.</para>
            </note>
            <para>Continuando l'esempio di HTTPS, un certificato CA firmato dispone di caratteristiche che un certificato auto-firmato non ha:</para>

            <itemizedlist>
            <listitem>
            <para>I browser, solitamente, riconoscono automaticamente il certificato e consentono l'attivazione di una connessione sicura senza chiedere nulla all'utente.</para>
            </listitem>
            <listitem>
            <para>Quando una CA emette un certificato, garantisce l'identità dell'organizzazione che fornisce la pagina web al browser.</para>
            </listitem>
            </itemizedlist>
	
            <para>La maggior parte dei browser web, e dei computer che supportano SSL, dispongono di un elenco di CA i cui certificati sono accettati automaticamente. Se un browser incontra un certificato la cui CA non è presente nell'elenco, il browser chiede all'utente di accettare o rifiutare la connessione. Inoltre, altre applicazioni possono generare un messaggio di errore quando viene usato un certificato auto-firmato.</para>
            <para>Il processo per ottenere un certificato da una CA è molto semplice. Un piccolo promemoria:</para>

            <orderedlist>
            <listitem>
               <para>Creare un coppia di chiavi pubblica e privata.</para>
            </listitem>
            <listitem>
                 <para>Creare una richiesta per un certificato basato su chiave pubblica. La richiesta del certificato contiene informazioni riguardo il server a la società che lo ospita.</para>
            </listitem>
            <listitem>
                 <para>Inviare la richiesta, con una fotocopia di un documento di identità, a una CA. Non è possibile consigliare quale autorità di certificazione scegliere. La decisione potrebbe essere basata su esperienze passate, esperienze di amici o colleghi o per un fattore economico.</para>

                    <para>Una volta scelta la CA, è necessario seguire le istruzioni fornite dal CA per ottenere il certificato.</para>
            </listitem>
            <listitem>
               <para>Una volta che la CA ha verificato l'identità del richiedente, invierà un certificato digitale.</para>
            </listitem>
            <listitem>
              <para>Installare questo certificato sul proprio server sicuro e configurare le applicazioni appropriate affinché usino il certificato.</para>
            </listitem>
            </orderedlist>

        </sect2>
        <sect2 id="generating-a-csr" status="review">
          <title>Generare una CSR (Certificate Signing Request)</title>

          <para>Sia che si stia ottenendo un certificato da una CA sia che si auto-firmi il proprio, il primo passo consiste nel generare una chiave di cifratura.</para>

          <para>Se il certificato verrà usato da servizi come Apache, Postfix, Dovect, ecc..., è solitamente indicato usare una chiave priva di passphrase.</para>

          <para>Questa sezione indica come generare una chiave dotata di passphrase e una priva di passphrase. La chiave priva di passphrase verrà impiegata per generare un certificato che può essere usato da diversi servizi.</para>

          <warning>
            <para>Avere in esecuzione i servizi senza una passphrase è conveniente poiché non vi è la necessità di digitare la passphrase a ogni avvio del servizio, ma non è molto sicuro in quanto se la chiave viene compromessa, verrà compromesso anche il server.</para>
          </warning>

          <para>Per generare le <emphasis>chiavi</emphasis> per la CSR (Certificate Signing Request), eseguire in un terminale il seguente comando:</para>

<screen>
<command>openssl genrsa -des3 -out server.key 1024</command>
</screen>

<programlisting>
Generating RSA private key, 1024 bit long modulus
.....................++++++
.................++++++
unable to write 'random state'
e is 65537 (0x10001)
Enter pass phrase for server.key:
</programlisting>

        <para>È ora necessario inserire una passphrase. Per una maggiore sicurezza, dovrebbe contenere almeno 8 caratteri. La lunghezza minima con l'opzione «-des3» è di 4 caratteri. Dovrebbe includere numeri o segni di punteggiatura e non dovrebbe essere una parola reperibile in un vocabolario. Ricordarsi che una passphrase differenzia tra minuscole e maiuscole.</para>

        <para>Digitare nuovamente la passphrase per la verifica. Una volta digitata correttamente, la chiave per il server viene generata e archiviata nel file <filename>server.key</filename>.</para>
      
        <para>Creare la chiave insicura, quella priva di passphrase, e scambiare i nomi delle chiavi:</para>

<screen>
<command>openssl rsa -in server.key -out server.key.insecure</command>
<command>mv server.key server.key.secure</command>
<command>mv server.key.insecure server.key</command>
</screen>

        <para>La chiave insicura è ora chiamata <filename>server.key</filename> ed è possibile usare questo file per generare la CSR senza passphrase.</para>

        <para>Per creare il CSR, eseguire il seguente comando:</para>

<screen>
<command>openssl req -new -key server.key -out server.csr</command>
</screen>

        <para>Viene chiesto di inserire la passphrase. Se viene inserita la passphrase corretta, viene chiesto di inserire il nome della società, nome del sito, email ecc... Una volta inseriti tutti questi dettagli, la CSR viene creata e archiviata nel file <filename>server.csr</filename>.</para>
	<para>È ora possibile inviare il file della CSR alla CA che lo utilizzerà per creare il certificato finale. È comunque possibile creare un certificato auto-firmato utilizzando questa CSR.</para>
        
	</sect2>
        <sect2 id="creating-a-self-signed-certificate" status="review">
          <title>Creare un certificato auto-firmato</title>
            <para>Per creare un certificato auto-firmato, eseguire da un terminale il seguente comando:</para>
<screen>
<command>openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt</command>
</screen>

            <para>Il comando precedente chiederà la passphrase. Una volta digitata correttamente, il certificato viene creato e sarà disponibile nel file <filename>server.crt</filename>.</para>
        <warning>
        <para>Se il server deve essere utilizzato in ambito commerciale, è necessario un certificato emesso da una CA. Non è raccomandato utilizzare un certificato auto-firmato.</para>
        </warning>
        </sect2>
        <sect2 id="installing-the-certificate" status="review">
          <title>Installare il certificato</title>

            <para>È possibile installare il file <filename>server.key</filename> e quello del certificato <filename>server.crt</filename>, o il file del certificato fornito dalla CA, eseguendo, in un terminale, i seguenti comandi:</para>
<screen>
<command>sudo cp server.crt /etc/ssl/certs</command>
<command>sudo cp server.key /etc/ssl/private</command>
</screen>
        <para>Ora basta configurare le applicazioni che possono usare la crittografia a chiave pubblica affinché utilizzino i file del <emphasis>certificato</emphasis> e della <emphasis>chiave</emphasis>. Per esempio, <application>Apache</application> può fornire HTTPS, <application>Dovecot</application> può fornire IMAPS e POP3S ecc...</para>
        </sect2>
        <sect2 id="certificate-authority" status="review">
          <title>Autorità di Certificazione</title>

          <para>Se i servizi all'interno della propria rete richiedono più di un certificato auto-firmato, potrebbe essere utile impostare una <emphasis>Autorità di Certificazione</emphasis> personale. Usando certificati firmati dalla propria CA, consente ai vari servizi che usano tali certificati di fidarsi di altri servizi che fanno uso di certificati emessi dalla stessa CA.</para>

          <procedure>
            <step>
  
              <para>Per prima cosa, creare le directory che conterranno il certificato della CA e i file relativi</para>    

<screen>
<command>sudo mkdir /etc/ssl/CA</command>
<command>sudo mkdir /etc/ssl/newcerts</command>
</screen>

            </step>
            <step>
  
              <para>La CA necessita di alcuni altri file per funzionare correttamente: uno per tenere traccia dell'ultimo numero seriale usato (ogni certificato deve avere un numero univoco) e l'altro per registrare quali certificati sono stati emessi:</para>    

<screen>
<command>sudo sh -c "echo '01' &gt; /etc/ssl/CA/serial"</command>
<command>sudo touch /etc/ssl/CA/index.txt</command>
</screen>

            </step>
            <step>
  
              <para>Il terzo file è il file di configurazione della CA. Benché non strettamente necessario, è molto utile quando vengono emessi certificati multipli. Aprire il file <filename>/etc/ssl/openssl.cnf</filename> e nella sezione <emphasis>[ CA_default ]</emphasis> modificare:</para>    

<programlisting>
dir             = /etc/ssl/             # Dove viene salvato tutto
database        = $dir/CA/index.txt     # File indice del database
certificate     = $dir/certs/cacert.pem # Il certificato della CA
serial          = $dir/CA/serial        # Il numero seriale corrente
private_key     = $dir/private/cakey.pem# La chiave privata
</programlisting>    

            </step>
            <step>
  
              <para>Creare il certificato auto-firmato principale:</para>    

<screen>
<command>openssl req -new -x509 -extensions v3_ca -keyout cakey.pem -out cacert.pem -days 3650</command>
</screen>

              <para>Viene chiesto di inserire i dettagli del certificato.</para>

            </step>
            <step>
  
              <para>Installare il certificato principale e la chiave:</para>    

<screen>
<command>sudo mv cakey.pem /etc/ssl/private/</command>
<command>sudo mv cacert.pem /etc/ssl/certs/</command>
</screen>

            </step>
            <step>
  
              <para>È ora possibile firmare i certificati. La prima cosa necessaria è una CSR (Certificate Signing Request), consultare <xref linkend="generating-a-csr"/>. Una volta ottenuta, digitare quanto segue per generare un certificato firmato dalla CA:</para>    

<screen>
<command>sudo openssl ca -in server.csr -config /etc/ssl/openssl.cnf</command>
</screen>

              <para>Inserita la passoword della chiave CA, viene chiesto di firmare il certificato e di generare quello nuovo. Dovrebbe quindi essere visibile l'output della generazione del certificato stesso.</para>

            </step>
            <step>
  
              <para>Dovrebbe essere presente un nuovo file, <filename>/etc/ssl/newcerts/01.pem</filename>, contenente il medesimo output. Copiare tutto ciò che è compreso tra <emphasis>-----BEGIN CERTIFICATE-----</emphasis> e <emphasis>----END CERTIFICATE-----</emphasis> e incollarlo in un file chiamato come il nome host del server in cui verrà installato. Per esempio: <filename>mail.example.it.crt</filename>.</para>    

              <para>Tutti i certificati successivi saranno chiamati <filename>02.pem</filename>, <filename>03.pem</filename>, ecc...</para>

              <note>
                <para>Sostituire <emphasis>mail.example.it.crt</emphasis> con un nome descrittivo appropriato al proprio caso.</para>
              </note>

            </step>
            <step>
  
              <para>In fine, copiare il nuovo certificato nell'host e configurare le applicazioni al suo uso. La posizione predefinita per l'installazione dei certificati è <filename role="directory">/etc/ssl/certs</filename>, consentendo così a molteplici servizi di usare lo stesso certificato senza complicare inutilmente i permessi.</para>    

              <para>Per le applicazioni che possono essere configurate all'uso di un certificato di una CA, è necessario copiare il file <filename>/etc/ssl/certs/cacert.pem</filename> nella directory <filename role="directory">/etc/ssl/certs/</filename> di ogni server.</para>

            </step>
          </procedure>

        </sect2>
        <sect2 id="certificate-references" status="review">
          <title>Riferimenti</title>
          <itemizedlist>
            <listitem>
              <para>Per ulteriori informazioni sull'utilizzo della crittografia, consultare lo <ulink url="http://tldp.org/HOWTO/SSL-Certificates-HOWTO/index.html">SSL Certificates HOWTO</ulink>.</para>
            </listitem>
            <listitem>
              <para>Il sito <ulink url="http://www.pki-page.org/">The PKI Page</ulink> contiene un elenco di autorità di certificazione.</para>
            </listitem>
            <listitem>
              <para>La pagina Wikipedia <ulink url="http://it.wikipedia.org/wiki/HTTPS">HTTPS</ulink> dispone di ulteriori informazioni riguardo HTTPS.</para>
            </listitem>
            <listitem>
              <para>Per maggiori informazioni riguardo <emphasis>OpenSSL</emphasis>, consultare il <ulink url="http://www.openssl.org/">sito web di OpenSSL</ulink>.</para>
            </listitem>
            <listitem>
              <para>Inoltre, il libro <ulink url="http://oreilly.com/catalog/9780596002701/">Network Security with OpenSSL</ulink> di O'Reilly è un ottimo punto di riferimento.</para>
            </listitem>
          </itemizedlist>
        </sect2>
        </sect1>
        <sect1 id="ecryptfs" status="review">
          <title>eCryptfs</title>
          
          <para><emphasis>eCryptfs</emphasis> è un file system crittografico POSIX-conforme per Linux.  Disponendosi al di sopra del livello del file system normale, <emphasis>eCryptfs</emphasis> è in grado di proteggere i file indipendentemente dal file system sottostante, dal tipo di partizione, ecc...</para>

          <para>Durante la fase di installazione è disponibile un'opzione per cifrare l'intera partizione <filename role="directory">/home</filename> in grado di configurare tutto il necessario per cifrare e montare la partizione.</para>

          <para>Questa sezione spiega come usare eCryptfs per cifrare <filename role="directory">/srv</filename>.</para>

          <sect2 id="ecryptfs-usage" status="review">
            <title>Usare eCryptfs</title>

            <para>Per prima cosa, installare i pacchetti necessari. In un terminale digitare:</para>

<screen>
<command>sudo apt-get install ecryptfs-utils</command>
</screen>

            <para>Montare la partizione da cifrare:</para>

<screen>
<command>sudo mount -t ecryptfs /srv /srv</command>
</screen>

            <para>Vengono chiesti alcuni dettagli su come <application>ecryptfs</application> dovrebbe cifrare i dati.</para>
         
            <para>Per verificare che i file in <filename>/srv</filename> siano veramente cifrati, copiare la directory <filename>/etc/default</filename> in <filename>/srv</filename>:</para>

<screen>
<command>sudo cp -r /etc/default /srv</command>
</screen>

            <para>Smontare <filename>/srv</filename> e cercare di visualizzare un file:</para>

<screen>
<command>sudo umount /srv</command>
<command>cat /srv/default/cron</command>
</screen>

            <para>Montare <filename>/srv</filename> utilizzando <application>ecryptfs</application> per poter visualizzare nuovamente i dati.</para>
     
          </sect2>
          <sect2 id="ecryptfs-automount" status="review">
            <title>Montare automaticamente le partizioni cifrate</title>
            
            <para>È possibile montare un file system <application>ecryptfs</application> in diversi modi all'avvio. Questo esempio fa uso di un file <filename>/root/.ecryptfsrc</filename> contenente le opzioni di mount e un file, salvato su una chiave USB, contenente la passphrase.</para>

            <para>Creare il file <filename>/root/.ecryptfsrc</filename> contenente:</para>

<programlisting>
key=passphrase:passphrase_passwd_file=/mnt/usb/passwd_file.txt
ecryptfs_sig=5826dd62cf81c615
ecryptfs_cipher=aes
ecryptfs_key_bytes=16
ecryptfs_passthrough=n
ecryptfs_enable_filename_crypto=n
</programlisting>

            <note>
              <para>Modificare il campo <emphasis>ecryptfs_sig</emphasis> con la firma presente in <filename>/root/.ecryptfs/sig-cache.txt</filename>.</para>
            </note>

            <para>Creare il file <filename>/mnt/usb/passwd_file.txt</filename> per la passphrase:</para>

<programlisting>
passphrase_passwd=[secrets]
</programlisting>

            <para>Aggiungere quanto necessario in <filename>/etc/fstab</filename>:</para>

<programlisting>
/dev/sdb1       /mnt/usb        ext3    ro      0 0
/srv /srv ecryptfs defaults 0 0
</programlisting>

            <para>Assicurarsi che il dispositivo USB venga montato prima della partizione cifrata.</para>

            <para>Infine, riavviare il computer e la partizione <filename>/srv</filename> dovrebbe essere montata tramite ecryptfs.</para>
            
          </sect2>
          <sect2 id="ecryptfs-other-utils" status="review">
            <title>Altre utilità</title>

            <para>Il pacchetto <application>ecryptfs-utils</application> contiene diverse utilità:</para>

            <itemizedlist>
              <listitem>
                <para><emphasis>ecryptfs-setup-private</emphasis>: crea una directory <filename>~/Private</filename> per contenere informazioni cifrate. Questa utilità può essere eseguita da utenti senza alcun tipo di privilegio all'interno del sistema per creare una piccola zona privata dove salvare dati.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-mount-private</emphasis> e <emphasis>ecryptfs-umount-private</emphasis>: monta e smonta la directory <filename>~/Private</filename> degli utenti.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-add-passphrase</emphasis>: aggiunge una nuova passphrase al portachiavi.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-manager</emphasis>: gestisce gli oggetti <application>eCryptfs</application> come le chiavi.</para>
              </listitem>
              <listitem>
                <para><emphasis>ecryptfs-stat</emphasis> consente di visualizzare le meta informazioni di <application>ecryptfs</application> relative a un file.</para>
              </listitem>
            </itemizedlist>

          </sect2>
          <sect2 id="ecryptfs-references" status="review">
            <title>Riferimenti</title>
            
            <itemizedlist>
              <listitem>
                <para>Per maggiori informazioni riguardo eCryptfs, consultare la <ulink url="https://launchpad.net/ecryptfs">pagina del progetto su Launchpad</ulink></para>
              </listitem>
              <listitem>
                <para>È disponibile anche un articolo di <ulink url="http://www.linuxjournal.com/article/9400">Linux Journal</ulink> riguardo eCryptfs.</para>
              </listitem>
              <listitem>
                <para>Inoltre, per le ulteriori opzioni di <application>ecryptfs</application>, consultare la relativa <ulink url="http://manpages.ubuntu.com/manpages/jaunty/en/man7/ecryptfs.7.html">pagina man</ulink>.</para>
              </listitem>
            </itemizedlist>

          </sect2>
        </sect1>
    </chapter>
