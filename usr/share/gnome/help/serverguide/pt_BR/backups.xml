<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.3//EN" "http://www.oasis-open.org/docbook/xml/4.3/docbookx.dtd" [
<!ENTITY % globalent SYSTEM "../../libs/global.ent">
<!-- NAMES --><!ENTITY canonical-name "Canonical Ltd.">
<!ENTITY project-name "Ubuntu Documentation Project">
<!ENTITY ubuntu "<phrase>Ubuntu</phrase>">
<!ENTITY sg-title "Server Guide">
<!-- VERSIONS --><!ENTITY distro-version "Jaunty Jackalope">
<!ENTITY distro-rev "9.04">
<!ENTITY distro-release-date "April 2009">
<!ENTITY distro-short-codename "jaunty">
<!ENTITY distro-apt-cd-name "Ubuntu 9.04_Jaunty_Jackalope">
<!ENTITY linux-kernel-version "2.6.27">
<!ENTITY gcc-version "4.3.1">
<!ENTITY glibc-version "2.8">
<!ENTITY python-version "2.5">
<!ENTITY glossary SYSTEM "../common/C/glossary.xml">
<!-- LEGAL URLs --><!ENTITY legalnotice SYSTEM "../libs/C/legalnotice.xml">
<!ENTITY gpl-url '<ulink url="http://www.gnu.org/licenses/gpl.html">GNU General Public License</ulink>'>
<!ENTITY cc "http://creativecommons.org/">
<!ENTITY cc-attrib '<ulink url="http://creativecommons.org/licenses/by-sa/2.5/">Attribution-ShareAlike 2.5</ulink>'>
<!ENTITY cc-fulldeed-url "http://creativecommons.org/licenses/by-sa/2.5/legalcode/">
<!ENTITY fdl-url '<ulink url="http://www.gnu.org/copyleft/fdl.html">GNU Free Documentation License</ulink>'>
<!ENTITY cc-disclaimer-url "http://creativecommons.org/licenses/disclaimer-popup?lang=en">
<!-- CANONICAL URL RESOURCES --><!ENTITY canonical-url "http://www.canonical.com">
<!-- OTHER UBUNTU RELATED RESOURCES --><!ENTITY upstart-url "http://upstart.ubuntu.com">
<!-- UBUNTU IRC INFORMATION --><!ENTITY irc-network "Freenode">
<!ENTITY irc-server "irc.ubuntu.com">
<!ENTITY ubuntu-irc "irc.ubuntu.com channel #ubuntu">
<!ENTITY kubuntu-irc "irc.ubuntu.com channel #kubuntu">
<!ENTITY xubuntu-irc "irc.ubuntu.com channel #xubuntu">
<!ENTITY edubuntu-irc "irc.ubuntu.com channel #edubuntu">
<!-- UBUNTU URL RESOURCES --><!ENTITY ubuntu-packages "http://packages.ubuntu.com">
<!ENTITY ubuntu-web "http://www.ubuntu.com">
<!ENTITY ubuntu-main "http://www.ubuntu.com">
<!ENTITY ubuntu-download "http://www.ubuntu.com/download">
<!ENTITY ubuntu-forums "http://www.ubuntu.com/community/forums">
<!ENTITY ubuntu-components "http://www.ubuntu.com/ubuntu/components">
<!ENTITY ubuntu-lists "http://lists.ubuntu.com">
<!ENTITY ubuntu-wiki "http://wiki.ubuntu.com">
<!ENTITY ubuntu-bugzilla "https://launchpad.net/distros/ubuntu/+bugs">
<!ENTITY ubuntu-doc-bugs "https://launchpad.net/products/ubuntu-doc/+bugs">
<!ENTITY ubuntu-support "http://www.ubuntu.com/support">
<!ENTITY ubuntu-paidsupport "http://www.ubuntu.com/support/paid">
<!ENTITY ubuntu-freesupport "http://www.ubuntu.com/support/free">
<!ENTITY ubuntu-comments "http://www.ubuntuforums.org/showthread.php?p=21787">
<!ENTITY ubuntu-documentation "http://help.ubuntu.com">
<!ENTITY ubuntu-documentation-repos "https://docteam.ubuntu.com/repos/trunk">
<!ENTITY ubuntu-doc-team "https://wiki.ubuntu.com/DocumentationTeam">
<!ENTITY ubuntu-doc-list "http://lists.ubuntu.com/mailman/listinfo/ubuntu-doc">
<!ENTITY ubuntu-shipit "http://shipit.ubuntu.com">
<!ENTITY ubuntu-launchpad "https://launchpad.ubuntu.com">
<!ENTITY ubuntu-rosetta "https://launchpad.ubuntu.com/rosetta">
<!ENTITY ubuntu-planet "http://planet.ubuntu.com">
<!ENTITY ubuntu-philosophy "http://www.ubuntu.com/ubuntu/philosophy">
<!ENTITY ubuntu-participate "http://www.ubuntu.com/community/participate/">
<!ENTITY ubuntu-marketplace "http://www.ubuntu.com/support/marketplace">
<!ENTITY ubuntu-hwdb "http://hwdb.ubuntu.com">
<!-- UBUNTU WIKI RESOURCES --><!ENTITY wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY restricted-formats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-RestrictedFormats "https://help.ubuntu.com/community/RestrictedFormats">
<!ENTITY wiki-XChatHowto "https://help.ubuntu.com/community/XChatHowto">
<!ENTITY wiki-RootSudo "https://help.ubuntu.com/community/RootSudo">
<!ENTITY wiki-HowToGetHelp "https://help.ubuntu.com/community/HowToGetHelp">
<!ENTITY transcode "https://help.ubuntu.com/community/DVDRippingandEncoding">
<!ENTITY wiki-Wine "https://help.ubuntu.com/community/Wine">
<!ENTITY wiki-Cedega "https://help.ubuntu.com/community/Cedega">
<!ENTITY wiki-Nano "https://help.ubuntu.com/community/NanoHowto">
<!ENTITY wiki-locoteams "https://wiki.ubuntu.com/LoCoTeamList">
<!ENTITY wiki-BasicCommands "https://help.ubuntu.com/community/BasicCommands">
<!ENTITY wiki-filepermissions "https://help.ubuntu.com/community/FilePermissions">
<!-- KUBUNTU URL RESOURCES --><!ENTITY kubuntu-web "http://www.kubuntu.org">
<!ENTITY kubuntu-main "http://www.kubuntu.org">
<!ENTITY kubuntu-download "http://releases.ubuntu.com/kubuntu/">
<!ENTITY kubuntu-packages "http://packages.ubuntu.com/edgy/">
<!ENTITY kubuntu-cdpackages-nodefault "http://people.ubuntu.com/~cjwatson/seeds/kubuntu-edgy/ship">
<!ENTITY kubuntu-lists "http://lists.ubuntu.com/archives/kubuntu-users/">
<!ENTITY kubuntu-lists-users "http://lists.ubuntu.com/mailman/listinfo/kubuntu-users/">
<!ENTITY kubuntu-lists-devel "http://lists.ubuntu.com/mailman/listinfo/kubuntu-devel/">
<!ENTITY kubuntu-mirrors "http://distrowatch.com/kubuntu">
<!ENTITY kubuntu-forums "http://kubuntuforums.net">
<!ENTITY kubuntu-wiki "https://wiki.kubuntu.org">
<!ENTITY kubuntu-documentation-site "http://www.kubuntu.org/documentation.php">
<!ENTITY kubuntu-wiki-UserDocumentation "https://help.ubuntu.com/community/UserDocumentation">
<!ENTITY kubuntu-support "http://www.kubuntu.org/support.php">
<!-- XUBUNTU URL RESOURCES --><!ENTITY xubuntu-web "http://www.xubuntu.org">
<!ENTITY xubuntu-main "http://www.xubuntu.org">
<!ENTITY xubuntu-web-help "http://www.xubuntu.org/help">
<!-- DEBIAN RESOURCES --><!ENTITY debian-apt "http://www.debian.org/doc/user-manuals#apt-howto">
<!-- EXTERNAL URL RESOURCES --><!ENTITY linmodem "http://www.linmodems.org/">
<!ENTITY gnome "http://www.gnome.org/">
<!ENTITY linuxorg "http://www.linux.org/">
<!ENTITY ooo "http://www.openoffice.org/">
<!ENTITY kde "http://www.kde.org/">
<!ENTITY lugww "http://lugww.counter.li.org/">
<!ENTITY ubuntu-watch "http://distrowatch.com/ubuntu/">
<!ENTITY realplayer-download "http://www.real.com/linux/">
<!ENTITY nvu-download "http://www.nvu.com/download.html">
<!ENTITY sunjava-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY xorg "http://www.x.org">
<!ENTITY dyndns "http://www.dyndns.org">
<!ENTITY shoutcast "http://www.shoutcast.com/">
<!ENTITY freedomtoaster "http://www.freedomtoaster.org/">
<!ENTITY xfce "http://www.xfce.org/">
<!-- ubuntu-screenshots TODO --><!ENTITY kubuntu-screenshots "http://shots.osdir.com/">
<!ENTITY mozilla "http://www.mozilla.org/">
<!ENTITY mozilla-firefox "http://www.mozilla.org/products/firefox/">
<!ENTITY gnu "http://www.gnu.org/">
<!ENTITY gnu-philosophy "http://www.gnu.org/philosophy/">
<!ENTITY win4lin "http://www.win4lin.com">
<!ENTITY codeweavers "http://www.codeweavers.com">
<!ENTITY kernel "http://www.kernel.org">
<!ENTITY google "http://www.google.com">
<!ENTITY kdelook " http://www.kde-look.org">
<!ENTITY lulu-store "http://www.lulu.com/ubuntu-doc">
<!-- this entity controls the url for addons--><!ENTITY java-download "http://java.sun.com/j2se/1.5.0/download.jsp">
<!ENTITY skype-deb "skype_1.2.0.17-1_i386.deb">
<!ENTITY skype-download "http://www.skype.com/go/getskype-linux-deb">
<!ENTITY scanmodem-gz "scanModem.gz">
<!ENTITY scanmodem-url "http://linmodems.technion.ac.il/packages/scanModem.gz">
<!ENTITY ext2fs-url "http://www.fs-driver.org/index.html">
<!ENTITY mvb-tar "mvb_1.6.tgz">
<!ENTITY mvb-url "http://www.xscd.com/pub/mvb/&mvb-tar;">
<!-- TLDP --><!ENTITY ldp-pre-install-check "http://tldp.org/HOWTO/Pre-Installation-Checklist/">
<!-- LANGUAGES (sorted by two letter code)--><!ENTITY Afar "aa">
<!ENTITY Abkhazian "ab">
<!ENTITY Afrikaans "af">
<!ENTITY Amharic "af">
<!ENTITY Arabic "ar">
<!ENTITY Assamese "as">
<!ENTITY Aymara "ay">
<!ENTITY Azerbaijani "az">
<!ENTITY Bashkir "ba">
<!ENTITY Byelorussian "be">
<!ENTITY Bulgarian "bg">
<!ENTITY Bihari "bh">
<!ENTITY Bislama "bi">
<!ENTITY Bangla "bn">
<!ENTITY Bengali "bn">
<!ENTITY Tibetan "bo">
<!ENTITY Breton "br">
<!ENTITY Catalan "ca">
<!ENTITY Corsican "co">
<!ENTITY Czech "cs">
<!ENTITY Welsh "cy">
<!ENTITY Danish "da">
<!ENTITY German "de">
<!ENTITY Bhutani "dz">
<!ENTITY Greek "el">
<!-- <!ENTITY EnglishAmerican 'en'> --><!ENTITY EnglishAmerican "C">
<!ENTITY Esperanto "eo">
<!ENTITY Spanish "es">
<!ENTITY Estonian "et">
<!ENTITY Basque "eu">
<!ENTITY Persian "fa">
<!ENTITY Finnish "fi">
<!ENTITY Fiji "fj">
<!ENTITY Faeroese "fo">
<!ENTITY French "fr">
<!ENTITY Frisian "fy">
<!ENTITY Irish "ga">
<!ENTITY Gaelic "gd">
<!ENTITY ScotsGaelic "gd">
<!ENTITY Galician "gl">
<!ENTITY Guarani "gn">
<!ENTITY Gujarati "gu">
<!ENTITY Hausa "ha">
<!ENTITY Hindi "hi">
<!ENTITY Croatian "hr">
<!ENTITY Hungarian "hu">
<!ENTITY Armenian "hy">
<!ENTITY Interlingua "ia">
<!ENTITY Interlingue "ie">
<!ENTITY Inupiak "ik">
<!ENTITY Indonesian "in">
<!ENTITY Icelandic "is">
<!ENTITY Italian "it">
<!ENTITY Hebrew "iw">
<!ENTITY Japanese "ja">
<!ENTITY Yiddish "ji">
<!ENTITY Javanese "jw">
<!ENTITY Georgian "ka">
<!ENTITY Kazakh "kk">
<!ENTITY Greenlandic "kl">
<!ENTITY Cambodian "km">
<!ENTITY Kannada "kn">
<!ENTITY Korean "ko">
<!ENTITY Kashmiri "ks">
<!ENTITY Kurdish "ku">
<!ENTITY Kirghiz "ky">
<!ENTITY Latin "la">
<!ENTITY Lingala "ln">
<!ENTITY Laothian "lo">
<!ENTITY Lithuanian "lt">
<!ENTITY Latvian "lv">
<!ENTITY Lettish "lv">
<!ENTITY Malagasy "mg">
<!ENTITY Maori "mi">
<!ENTITY Macedonian "mk">
<!ENTITY Malayalam "ml">
<!ENTITY Mongolian "mn">
<!ENTITY Moldavian "mo">
<!ENTITY Marathi "mr">
<!ENTITY Malay "ms">
<!ENTITY Maltese "mt">
<!ENTITY Burmese "my">
<!ENTITY Nauru "na">
<!ENTITY Nepali "ne">
<!ENTITY Dutch "nl">
<!ENTITY Norwegian "no">
<!ENTITY Occitan "oc">
<!ENTITY Afan "om">
<!ENTITY Oromo "om">
<!ENTITY Oriya "or">
<!ENTITY Punjabi "pa">
<!ENTITY Polish "pl">
<!ENTITY Pushto "ps">
<!ENTITY Pashto "ps">
<!ENTITY Portuguese "pt">
<!ENTITY Quechua "qu">
<!ENTITY Rhaeto-Romance "rm">
<!ENTITY Kirundi "rn">
<!ENTITY Romanian "ro">
<!ENTITY Russian "ru">
<!ENTITY Kinyarwanda "rw">
<!ENTITY Sanskrit "sa">
<!ENTITY Sindhi "sd">
<!ENTITY Sangro "sg">
<!ENTITY Serbo-Croatian "sh">
<!ENTITY Singhalese "si">
<!ENTITY Slovak "sk">
<!ENTITY Slovenian "sl">
<!ENTITY Samoan "sm">
<!ENTITY Shona "sn">
<!ENTITY Somali "so">
<!ENTITY Albanian "sq">
<!ENTITY Serbian "sr">
<!ENTITY Siswati "ss">
<!ENTITY Sesotho "st">
<!ENTITY Sudanese "su">
<!ENTITY Swedish "sv">
<!ENTITY Swahili "sw">
<!ENTITY Tamil "ta">
<!ENTITY Tegulu "te">
<!ENTITY Tajik "tg">
<!ENTITY Thai "th">
<!ENTITY Tigrinya "ti">
<!ENTITY Turkmen "tk">
<!ENTITY Tagalog "tl">
<!ENTITY Setswana "tn">
<!ENTITY Tonga "to">
<!ENTITY Turkish "tr">
<!ENTITY Tsonga "ts">
<!ENTITY Tatar "tt">
<!ENTITY Twi "tw">
<!ENTITY Ukrainian "uk">
<!ENTITY Urdu "ur">
<!ENTITY Uzbek "uz">
<!ENTITY Vietnamese "vi">
<!ENTITY Volapuk "vo">
<!ENTITY Wolof "wo">
<!ENTITY Xhosa "xh">
<!ENTITY Yoruba "yo">
<!ENTITY Chinese "zh">
<!ENTITY Zulu "zu">
<!ENTITY % gnome-menus-C SYSTEM "../../libs/gnome-menus-C.ent">
<!-- MENUS --><!-- Please keep entries alphabetical, it makes them much easier to find & use --><!ENTITY about-me "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>About-me</guimenuitem></menuchoice>">
<!ENTITY accessories "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem></menuchoice>">
<!ENTITY acro-read "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Acrobat Reader</guimenuitem></menuchoice>">
<!ENTITY administration "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem></menuchoice>">
<!ENTITY aisleriot "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>AisleRiot Solitaire</guimenuitem></menuchoice>">
<!ENTITY amule "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY anjuta-ide "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Anjuta IDE</guimenuitem></menuchoice>">
<!ENTITY archive-man "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Archive Manager</guimenuitem></menuchoice>">
<!ENTITY assistive-technology-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Assistive Technology Support</guimenuitem></menuchoice>">
<!ENTITY audacity "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Audacity</guimenuitem></menuchoice>">
<!ENTITY azureus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Azureus</guimenuitem></menuchoice>">
<!ENTITY baobab "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Disk Usage Analyzer</guimenuitem></menuchoice>">
<!ENTITY bittorrent "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Bittorrent</guimenuitem></menuchoice>">
<!ENTITY blender3d "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Blender 3d modeller</guimenuitem></menuchoice>">
<!ENTITY bluefish "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Programming</guimenuitem><guimenuitem>Bluefish Editor</guimenuitem></menuchoice>">
<!ENTITY boot "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Boot</guimenuitem></menuchoice>">
<!ENTITY brasero "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Brasero Disc Burning</guimenuitem></menuchoice>">
<!ENTITY bum "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Boot-up Manager</guimenuitem></menuchoice>">
<!ENTITY bzrgtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Olive bazaar Branch Manager</guimenuitem></menuchoice>">
<!ENTITY calculator "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Calculator</guimenuitem></menuchoice>">
<!ENTITY character-map "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Character Map</guimenuitem></menuchoice>">
<!ENTITY compizconfig "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>CompizConfig Settings Manager</guimenuitem></menuchoice>">
<!ENTITY computer "<menuchoice><guimenu>Places</guimenu><guimenuitem>Computer</guimenuitem></menuchoice>">
<!ENTITY connecttoserver "<menuchoice><guimenu>Places</guimenu><guimenuitem>Connect to Server...</guimenuitem></menuchoice>">
<!ENTITY cowbell "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>Cowbell Music Organizer</guimenuitem>	</menuchoice>">
<!ENTITY chromium "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Chromium</guisubmenu></menuchoice>">
<!ENTITY computer-janitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guisubmenu>System Janitor</guisubmenu></menuchoice>">
<!ENTITY desktop-background "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Desktop Background</guimenuitem></menuchoice>">
<!ENTITY desktop-effects "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Appearance</guimenuitem><guimenuitem>Visual Effects</guimenuitem></menuchoice>">
<!ENTITY desktop-preferences "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem></menuchoice>">
<!ENTITY devhelp "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>Devhelp</guimenuitem></menuchoice>">
<!ENTITY device-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Hardware Information</guimenuitem></menuchoice>">
<!ENTITY dictionary "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Dictionary</guimenuitem></menuchoice>">
<!ENTITY disks "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Disks</guimenuitem></menuchoice>">
<!ENTITY downloader-x "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Downloader for X</guimenuitem></menuchoice>">
<!ENTITY eclipse-ide "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Eclipse IDE</guimenuitem></menuchoice>">
<!ENTITY ekiga "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Internet</guimenuitem><guimenuitem>Ekiga Softphone</guimenuitem></menuchoice>">
<!ENTITY efax-gtk "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Office</guisubmenu><guimenuitem>Efax-gtk</guimenuitem></menuchoice>">
<!ENTITY etherape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Etherape</guimenuitem></menuchoice>">
<!ENTITY evolution-mail "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Evolution Mail</guimenuitem></menuchoice>">
<!ENTITY file-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>File Management</guimenuitem></menuchoice>">
<!ENTITY firefox "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Internet</guisubmenu><guimenuitem>Firefox Web Browser</guimenuitem></menuchoice>">
<!ENTITY firestarter-firewall-tool "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Firestarter</guimenuitem></menuchoice>">
<!ENTITY five-or-more "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Five or More</guimenuitem></menuchoice>">
<!ENTITY font "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Font</guimenuitem></menuchoice>">
<!ENTITY f-spot "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>F-Spot Photo Manager</guimenuitem></menuchoice>">
<!ENTITY frozen-bubble "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Frozen Bubble</guisubmenu></menuchoice> to play <application>Frozen Bubble</application>">
<!ENTITY gambas "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>Gambas</guimenuitem></menuchoice>">
<!ENTITY games "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Games</guimenuitem></menuchoice>">
<!ENTITY gdesklets "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>gDesklets</guimenuitem></menuchoice>">
<!ENTITY gftp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>gFTP</guimenuitem></menuchoice>">
<!ENTITY gimp "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>GIMP Image Editor</guimenuitem></menuchoice>">
<!ENTITY gnome-app-install "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Add/Remove...</guimenuitem></menuchoice>">
<!ENTITY gnome-config-editor "<screen><command>gconf-editor</command></screen>">
<!ENTITY gnome-sound-recorder "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Sound Recorder</guimenuitem></menuchoice>">
<!ENTITY gparted "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration </guisubmenu><guimenuitem>Gnome Partition Editor</guimenuitem></menuchoice>">
<!ENTITY graphics "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem></menuchoice>">
<!ENTITY gthumb "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>gThumb Image Viewer</guimenuitem></menuchoice>">
<!ENTITY gtkpod "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Sound &amp; Video</guisubmenu><guimenuitem>gtkpod</guimenuitem></menuchoice>">
<!ENTITY gnucash "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>GnuCash Finance Management</guimenuitem></menuchoice>">
<!ENTITY gxine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>gxine</guimenuitem></menuchoice>">
<!ENTITY home-folder "<menuchoice><guimenu>Places</guimenu><guimenuitem>Home Folder</guimenuitem></menuchoice>">
<!ENTITY homebank "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>HomeBank</guimenuitem></menuchoice>">
<!ENTITY hubackup "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Backup</guimenuitem></menuchoice>">
<!ENTITY hurestore "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>Home User Restore</guimenuitem></menuchoice>">
<!ENTITY inkscape "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>Inkscape SVG Vector Illustrator</guimenuitem></menuchoice>">
<!ENTITY internet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem></menuchoice>">
<!ENTITY kdevelop "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Programming</guisubmenu><guimenuitem>KDevelop</guimenuitem></menuchoice>">
<!ENTITY keyboard "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard</guimenuitem></menuchoice>">
<!ENTITY keyboard-shortcuts "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Keyboard Shortcuts</guimenuitem></menuchoice>">
<!ENTITY language-support "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Language Support</guimenuitem></menuchoice>">
<!ENTITY liferea "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Liferea Feed Reader</guimenuitem></menuchoice>">
<!ENTITY limewire "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>LimeWire</guimenuitem></menuchoice>">
<!ENTITY lockscreen "<menuchoice><guimenu>System</guimenu><guimenuitem>Lock Screen</guimenuitem></menuchoice>">
<!ENTITY login-screen-setup "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Login Window</guimenuitem></menuchoice>">
<!ENTITY mahjongg "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Games</guimenuitem><guimenuitem>Mahjongg</guimenuitem></menuchoice>">
<!ENTITY menu-editor "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Accessories</guisubmenu><guimenuitem>Applications Menu Editor</guimenuitem></menuchoice>">
<!ENTITY menus-and-toolbars "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Menus &amp; Toolbars</guimenuitem></menuchoice>">
<!ENTITY monodevelop "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDevelop</guimenuitem></menuchoice>">
<!ENTITY monodoc "<menuchoice><guimenuitem>Applications</guimenuitem><guimenuitem>Programming</guimenuitem><guimenuitem>MonoDoc</guimenuitem></menuchoice>">
<!ENTITY mouse "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Mouse</guimenuitem></menuchoice>">
<!ENTITY mtink "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>mtink</guimenuitem></menuchoice>">
<!ENTITY music "<menuchoice><guimenu>Places</guimenu><guimenuitem>Music</guimenuitem></menuchoice>">
<!ENTITY multimedia-systems-selector "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Multimedia Systems Selector</guimenuitem></menuchoice>">
<!ENTITY ndisgtk "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Windows Wireless Drivers</guimenuitem></menuchoice>">
<!ENTITY network-proxy "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Network Proxy</guimenuitem></menuchoice>">
<!ENTITY network-tools "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network Tools</guimenuitem></menuchoice>">
<!ENTITY networking "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY network-servers "<menuchoice><guimenu>Places</guimenu><guimenuitem>Network</guimenuitem></menuchoice>">
<!ENTITY neverball "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverball</guisubmenu></menuchoice>">
<!ENTITY neverputt "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Neverputt</guisubmenu></menuchoice>">
<!ENTITY nexuiz "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Nexuiz</guisubmenu></menuchoice>">
<!ENTITY open-office "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem></menuchoice>">
<!ENTITY openoffice-base "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Database</guimenuitem></menuchoice>">
<!ENTITY openoffice-draw "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>OpenOffice.org Draw</guimenuitem></menuchoice>">
<!ENTITY openoffice-presentation "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Presentation</guimenuitem></menuchoice>">
<!ENTITY openoffice-spreadsheet "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Spreadsheet</guimenuitem></menuchoice>">
<!ENTITY openoffice-writer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>OpenOffice.org Word Processor</guimenuitem></menuchoice>">
<!ENTITY palmos-devices "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>PalmOS Devices</guimenuitem></menuchoice>">
<!ENTITY pan "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pan Newsreader</guimenuitem></menuchoice>">
<!ENTITY photoprint "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>PhotoPrint</guimenuitem></menuchoice>">
<!ENTITY pidgin "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Pidgin Internet Messenger</guimenuitem></menuchoice>">
<!ENTITY power-management "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Power Management</guimenuitem></menuchoice>">
<!ENTITY ppracer "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Planet Penguin Racer</guisubmenu></menuchoice>">
<!ENTITY preferences "<menuchoice><guimenu>System</guimenu><guisubmenu>Preferences</guisubmenu></menuchoice>">
<!ENTITY preferred-applications "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Preferred Applications</guimenuitem></menuchoice>">
<!ENTITY print "<menuchoice><guimenu>File</guimenu><guimenuitem>Print</guimenuitem></menuchoice>">
<!ENTITY printing "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Printing</guimenuitem></menuchoice>">
<!ENTITY qtparted "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem><guimenuitem>QTParted</guimenuitem></menuchoice>">
<!ENTITY remote-desktop "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Remote Desktop</guimenuitem></menuchoice>">
<!ENTITY removable-drives-and-media "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Removable Drives and Media</guimenuitem></menuchoice>">
<!ENTITY realplayer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>RealPlayer 11</guimenuitem></menuchoice>">
<!ENTITY restricted-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Hardware Drivers</guimenuitem></menuchoice>">
<!ENTITY rhythmbox "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Rhythmbox Music Player</guimenuitem></menuchoice>">
<!ENTITY route-planner "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>aMule</guimenuitem></menuchoice>">
<!ENTITY scorched3d "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guimenuitem>Scorched 3D</guimenuitem></menuchoice>">
<!ENTITY screen-resolution "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screen Resolution</guimenuitem></menuchoice>">
<!ENTITY screensaver "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Screensaver</guimenuitem></menuchoice>">
<!ENTITY scribus "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Office</guimenuitem><guimenuitem>Scribus</guimenuitem></menuchoice>">
<!ENTITY serpentine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Serpentine Audio CD Creator</guimenuitem></menuchoice>">
<!ENTITY services "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Services</guimenuitem></menuchoice>">
<!ENTITY sessions "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sessions</guimenuitem></menuchoice>">
<!ENTITY shared-folders "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Shared Folders</guimenuitem></menuchoice>">
<!ENTITY skype "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Skype</guimenuitem></menuchoice>">
<!ENTITY software-properties "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY software-sources "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Software Sources</guimenuitem></menuchoice>">
<!ENTITY sound "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Sound</guimenuitem></menuchoice>">
<!ENTITY soundandvideo "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem></menuchoice>">
<!ENTITY soundjuicer "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Audio CD Extractor</guimenuitem></menuchoice>">
<!ENTITY supertux "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>SuperTux</guisubmenu></menuchoice>">
<!ENTITY shutdown "<menuchoice><guimenu>System</guimenu><guimenuitem>Shut Down...</guimenuitem></menuchoice>">
<!ENTITY synaptic "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Synaptic Package Manager</guimenuitem></menuchoice>">
<!ENTITY system-monitor "<menuchoice><guimenu>System</guimenu><guisubmenu>Administration</guisubmenu><guimenuitem>System Monitor</guimenuitem></menuchoice>">
<!ENTITY systemtools "<menuchoice><guimenu>Applications</guimenu><guimenuitem>System Tools</guimenuitem></menuchoice>">
<!ENTITY terminal "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Terminal</guimenuitem></menuchoice>">
<!ENTITY text-editor "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Accessories</guimenuitem><guimenuitem>Text Editor</guimenuitem></menuchoice>">
<!ENTITY theme "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Theme</guimenuitem></menuchoice>">
<!ENTITY thunderbird "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Mozilla Thunderbird Mail/News</guimenuitem></menuchoice>">
<!ENTITY time-date "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Time and Date</guimenuitem></menuchoice>">
<!ENTITY totem "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>Movie Player</guimenuitem></menuchoice>">
<!ENTITY touchpad "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Touchpad</guimenuitem></menuchoice>">
<!ENTITY tremulous "<menuchoice><guimenu>Applications</guimenu><guisubmenu>Games</guisubmenu><guisubmenu>Tremulous</guisubmenu></menuchoice>">
<!ENTITY ubuntu-update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Ubuntu Update Manager</guimenuitem></menuchoice>">
<!ENTITY update-manager "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Update Manager</guimenuitem></menuchoice>">
<!ENTITY users "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY users-groups "<menuchoice><guimenu>System</guimenu><guimenuitem>Administration</guimenuitem><guimenuitem>Users and Groups</guimenuitem></menuchoice>">
<!ENTITY windows "<menuchoice><guimenu>System</guimenu><guimenuitem>Preferences</guimenuitem><guimenuitem>Windows</guimenuitem></menuchoice>">
<!ENTITY wireshark "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Wireshark</guimenuitem></menuchoice>">
<!ENTITY xchat-gnome "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Internet</guimenuitem><guimenuitem>Xchat-GNOME IRC Chat</guimenuitem></menuchoice>">
<!ENTITY xine "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>xine</guimenuitem></menuchoice>">
<!ENTITY xmms "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Sound &amp; Video</guimenuitem><guimenuitem>XMMS</guimenuitem></menuchoice>">
<!ENTITY xsane "<menuchoice><guimenu>Applications</guimenu><guimenuitem>Graphics</guimenuitem><guimenuitem>XSane Image Scanner</guimenuitem></menuchoice>">
<!ENTITY % xinclude SYSTEM "../../libs/xinclude.mod">
<!ELEMENT xi:include (xi:fallback)?>
<!ATTLIST xi:include xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ATTLIST xi:include href CDATA #REQUIRED>
<!ATTLIST xi:include parse (xml | text) "xml">
<!ATTLIST xi:include xpointer CDATA #IMPLIED>
<!ATTLIST xi:include encoding CDATA #IMPLIED>
<!ATTLIST xi:include accept CDATA #IMPLIED>
<!ATTLIST xi:include accept-charset CDATA #IMPLIED>
<!ATTLIST xi:include accept-language CDATA #IMPLIED>
<!ELEMENT xi:fallback ANY>
<!ATTLIST xi:fallback xmlns:xi CDATA #FIXED "http://www.w3.org/2001/XInclude">
<!ENTITY % local.preface.class "| xi:include">
<!ENTITY % local.part.class "| xi:include">
<!ENTITY % local.chapter.class "| xi:include">
<!ENTITY % local.divcomponent.mix "| xi:include">
<!ENTITY % local.para.char.mix "| xi:include">
<!ENTITY % local.info.class "| xi:include">
<!ENTITY % local.common.attrib "xmlns:xi            CDATA       #FIXED       'http://www.w3.org/2001/XInclude'">
<!ENTITY language "&EnglishAmerican;">
]>
<chapter id="backups" status="review">
  <title>Backups</title>
  <para>
  There are many ways to backup an Ubuntu installation.  The most important thing about backups is to develop a  
  <emphasis>backup plan</emphasis> consisting of what to backup, where to back it up to, and how to restore it. 
  </para>
  <para>As seções a seguir discutem várias formas de como realizar estas tarefas.</para>
  <sect1 id="backup-shellscripts" status="review">
    <title>Scripts Shell</title>
    <para>Umas das formas mais simples de fazer um backup de um sisterma é utilizando um <emphasis>shell script</emphasis>. Por exemplo, um script pode ser usado para configurar quais diretórios serão incluídos no backup, e passar esses diretórios como argumento para o utilitário <application>tar</application> criando um único arquivo de armazenamento. Este arquivo pode então ser movido ou copiado para outro local. Ele também pode ser criado em um sistema de arquivos remoto, como um ponto de montagem NFS.</para>
    <para>O comando <application>tar</application> cria um único arquivo o qual contém outros arquivos ou diretórios. <application>tar</application> também pode filtrar arquivos através de utilitários de compressão, reduzindo o tamanho do arquivo gerado.</para>

    <sect2 id="backup-shellscript" status="review">
      <title>Shell Script Simples</title>
      <para>O shell script a seguir utiliza o <application>tar</application> para criar um arquivo em um sistema de arquivos NFS montado remotamente. O nome do arquivo é determinado usando outros utilitários de linha de comando.</para>
<programlisting>
#!/bin/sh
####################################
#
# Script de backup em NFS.
#
####################################

# Fazer backup do que? 
backup_files="/home /var/spool/mail /etc /root /boot /opt"

# Para onde enviar o backup?
dest="/mnt/backup"

# Criar o nome do arquivo de backup.
day=$(date +%A)
hostname=$(hostname -s)
archive_file="$hostname-$day.tgz"

# Exibir a mensagem de início de backup.
echo "Fazendo backup de $backup_files em $dest/$archive_file"
date
echo

# Fazer backup usando tar.
tar czf $dest/$archive_file $backup_files

# Exibir a mensagem de final de backup.
echo
echo "Backup finalizado"
date

# Lista longa dos arquivos em $dest para verificar os tamanhos dos arquivos
ls -lh $dest
</programlisting>
      <itemizedlist>
        <listitem>           
          <para><emphasis>$backup_files:</emphasis> uma lista variável de quais diretórios você gostaria de incluir no backup. Ela deve ser alterada para atender as suas necessidades.</para>
        </listitem>
        <listitem>           
          <para><emphasis>$day:</emphasis> uma variável que armazena o dia da semana (Segunda, Terça, Quarta, etc). Ela é usada para criar um arquivo para cada dia da semana, criando assim um histórico de backups de sete dias. Existem outras formas de se fazer isso, incluindo algumas maneiras que fazem uso do comando <application>date</application>.</para>
        </listitem>
        <listitem>           
          <para><emphasis>$hostname:</emphasis> variável que contém o nome da máquina <emphasis>simplificado</emphasis> do sistema. Usando o nome da máquina no nome do arquivo te dá a possibilidade de armazenar backups diários de múltiplos sistemas em um mesmo diretório.</para>
        </listitem>
        <listitem>           
          <para><emphasis>$archive_file:</emphasis> o nome completo do arquivo.</para>
        </listitem>
        <listitem>           
          <para><emphasis>$dest:</emphasis> destino do arquivo. O diretório de destino precisa ser criado, e neste caso <emphasis>montado</emphasis> antes do script de backup ser executado. Veja <xref linkend="network-file-system"/> detalhes de como usar o <emphasis>NFS</emphasis>.</para>
        </listitem>
        <listitem>           
          <para><emphasis>status messages:</emphasis> mensagens opcionais impressa no console usando o comando <application>echo</application>.</para>
        </listitem>
        <listitem>           
          <para><emphasis>tar czf $dest/$archive_file $backup_files:</emphasis> o comando <application>tar</application> usado para criar o arquivo.</para>
  	  <itemizedlist>
            <listitem>           
              <para><emphasis>c:</emphasis> cria um arquivo</para>
            </listitem>
            <listitem>           
              <para><emphasis>z:</emphasis> comprime o arquivo usando o utilitário <application>gzip</application>.</para>
            </listitem>
            <listitem>           
              <para><emphasis>f:</emphasis> usa o arquivo de armazenamento. Caso contrário o <application>tar</application> utilizará o STDOUT como saída.</para>
            </listitem>
          </itemizedlist>
        </listitem>
        <listitem>           
          <para><emphasis>ls -lh $dest:</emphasis> sentença opcional que imprime uma <emphasis>-l</emphasis> listagem completa em um <emphasis>-h</emphasis> formato compreensível por humanos do diretório de destino. Isso é útil para uma checagem rápida do tamanho do arquivo gerado. Esta checagem não deve substituir a checagem do arquivo.</para>
        </listitem>
      </itemizedlist>
      <para>Este é um exemplo simples de um shell script de backup. Existe uma grande quantidade de opções que podem ser incluídas nos scripts de backup. Veja <xref linkend="backup-shellscript-references"/> para links e recursos que provêem informações mais detalhadas do shell script.</para>
    </sect2>

    <sect2 id="backup-executing-shellscript" status="review">
      <title>Executando o Script</title>
      <sect3 id="backup-script-execute-shell" status="review">
        <title>Executando de um Terminal</title>
        <para>A maneira mais simples de executar o script de backup acima é copiar e colar o conteúdo em um arquivo. <filename>backup.sh</filename> por exemplo. Então a partir de um terminal:</para>
<screen>
<command>sudo bash backup.sh</command>
</screen>
        <para>Esta é uma excelente maneira de testar o script para ter certeza que tudo ocorreu como esperado.</para>
      </sect3>
      <sect3 id="backup-script-execute-cron" status="review">
        <title>Executando com o cron</title>
        <para>O utilitário <application>cron</application> pode ser usado para execução automatizada de scripts. O daemon do <application>cron</application> permite execução de scripts, ou comandos, em uma data e hora especificada.</para>
        <para>O <application>cron</application> é configurado através de entradas em um arquivo <filename>crontab</filename>. Arquivos <filename>crontab</filename> são separados em campos:</para>
<programlisting>
# m h dom mon dow   command
</programlisting>
        <itemizedlist>
          <listitem>
            <para><emphasis>m:</emphasis> minutos em que o comando será executado entre 0 e 59.</para>
          </listitem>
          <listitem>
            <para><emphasis>h:</emphasis> hora em que o comando será executado entre 0 e 23.</para>
          </listitem>
          <listitem>
            <para><emphasis>dom:</emphasis> dia do mês que o comando será executado.</para>
          </listitem>
          <listitem>
            <para><emphasis>mon:</emphasis> o mês, o comando executa entre 1 e 12.</para>
          </listitem>
          <listitem>
            <para><emphasis>dow:</emphasis> o dia da semana, o comando executa entre 0 e 7. Domingo, podem ser especificados usando 0 ou 7, ambos os valores são válidos.</para>
          </listitem>
          <listitem>
            <para><emphasis>command:</emphasis> o comando a ser executado.</para>
          </listitem>
        </itemizedlist>
        <para>Para adicionar ou alterar entradas no arquivo <filename>crontab</filename> o comando <application>crontab -e</application> deve ser usado. Da mesma forma, o conteúdo do arquivo <filename>crontab</filename> pode ser visto usando o comando <application>crontab -l</application>.</para>
        <para>Para executar o script <application>backup.sh</application> listado acima utilizando o <application>cron</application>. Entre o seguinte em um terminal:</para>
<screen>
<command>sudo crontab -e</command>
</screen>
        <note>
	  <para>Usando <application>sudo</application> com o comando <application>crontab -e</application> edita o crontab do usuário <emphasis>root</emphasis>. Isto é necessário se você estiver fazendo backup dos diretórios que apenas o usuário root possui acesso.</para>
        </note>
        <para>Adicione a seguinte entrada ao arquivo <filename>crontab</filename>:</para>
<programlisting>
# m h dom mon dow   command
0 0 * * * bash /usr/local/bin/backup.sh
</programlisting>
        <para>O script <application>backup.sh</application> será executado todo dia às 12:00 am.</para>
        <note>
          <para>O script <application>backup.sh</application> precisará ser copiado para o diretório <filename>/usr/local/bin/</filename> para que possa ser executado apropriadamente. O script pode residir em qualquer lugar do sistema de arquivo simplesmente alterando a localização do script apropriadamente.</para>
        </note>
        <para>Para opções mais detalhadas do <application>crontab</application> veja <xref linkend="backup-shellscript-references"/>.</para>
      </sect3>
    </sect2>
    <sect2 id="backup-shellscript-archive-testing" status="review">
      <title>Restaurando do Arquivo</title>
      <para>Uma vez que o arquivo tenha sido criado é importante testar o arquivo. O arquivo pode ser testar listando os arquivos que ele contém, mas o melhor teste é <emphasis>rrestaurar</emphasis> um arquivo do arquivo.</para>
      <itemizedlist>
        <listitem>
          <para>Para ver uma listagem do conteúdo do arquivo. A partir de um terminal:</para>
<screen>
<command>tar -tzvf /mnt/backup/host-Monday.tgz</command>
</screen>
        </listitem>
        <listitem>
          <para>Para extrair um arquivo de um arquivo de armazenamento para outro diretório, digite:</para>
<screen>
<command>tar -xzvf /mnt/backup/host-Monday.tgz -C /tmp etc/hosts</command>
</screen>
          <para>O argumento <emphasis>-C</emphasis> do <application>tar</application> redireciona os arquivos extraídos para um diretório específico. O exemplo acima irá extrair o arquivo <filename>/etc/hosts</filename> para <filename>/tmp/etc/hosts</filename>. O <application>tar</application> recria a estrutura de diretórios contida no arquivo de armazenamento.</para>
          <para>Observe também que a <emphasis>"/"</emphasis> final foi retirada do caminho do arquivo a ser restaurado.</para>  
        </listitem>
        <listitem>
          <para>Para restaurar todos os arquivos, digite o seguinte:</para>
<screen>
<command>cd /</command>
<command>sudo tar -xzvf /mnt/backup/host-Monday.tgz</command>
</screen>
        </listitem>
      </itemizedlist>
      <note>
        <para>Isto irá sobrescrever os arquivos existentes no sistema de arquivos.</para>
      </note>
    </sect2>
    <sect2 id="backup-shellscript-references" status="review">
      <title>Referências</title>
      <itemizedlist>
        <listitem>
          <para>Para maiores informações de shell scripting veja <ulink url="http://tldp.org/LDP/abs/html/">Guia Avançado de Bash-Scripting</ulink></para>
        </listitem>
        <listitem>
          <para>O livro <ulink url="http://safari.samspublishing.com/0672323583">Teach Yourself Shell Programming in 24 Hours</ulink> está disponível online e é uma grande fonte online para programação em shell script.</para>
        </listitem>
        <listitem>
          <para>A <ulink url="https://help.ubuntu.com/community/CronHowto">CronHowto Wiki Page</ulink> contém detalhes sobre as opções avançadas do <application>cron</application>.</para>
        </listitem>
        <listitem>
          <para>Veja o <ulink url="http://www.gnu.org/software/tar/manual/index.html">GNU tar Manual</ulink> para conhecer outras opções do <application>tar</application>.</para>
        </listitem>
        <listitem>
          <para>O artigo do Wikipedia <ulink url="http://en.wikipedia.org/wiki/Backup_rotation_scheme">Backup Rotation Scheme</ulink></para>
        </listitem>
        <listitem>
        <para>O shell script utiliza <application>tar</application> para criar o arquivo, porém, existem vários outros utilitários em linha de comando que podem ser utilizados. Por xemplo:</para>
          <itemizedlist>
            <listitem>
              <para><ulink url="http://www.gnu.org/software/cpio/">cpio</ulink>: utilizado para copiar  de arquivos e para arquivos.</para>
            </listitem>
            <listitem>
              <para><ulink url="http://www.gnu.org/software/coreutils/">dd</ulink>: parte do pacote <application>coreutils</application>. Um utilitário de baixo nível que pode copiar dados de um formato para outro</para>
            </listitem>
            <listitem>
              <para><ulink url="http://www.rsnapshot.org/">rsnapshot</ulink>: um utilitário de sistema de arquivos utilizado para copiar um sistema de arquivo completo.</para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </sect2>
  </sect1>
  <sect1 id="backups-shellscripts-rotation" status="review">
    <title>Rotação de Arquivo</title>
    <para>O shell script na seção <xref linkend="backup-shellscripts"/> permite somente sete arquivos diferentes. Para um servidor cujos os dados não mudem frequentemente este pode ser o suficiente. Se o servidor tiver uma grande quantidade de dados um esquema mais robusto de rotação deve ser usado.</para>
    <sect2 id="backups-nfs-rotation" status="review">
      <title>Rotacionando Arquivos NFS</title>
      <para>Nesta seção o shell script será um pouco modificado para implementar um esquema de rotação grandfather-father-son (mensalmente-semanalmente-diáriamente):</para>
      <itemizedlist>
        <listitem>
          <para>Para rotação você fara um backup <emphasis>diário</emphasis> de Domingo à Sexta.</para>
        </listitem>
        <listitem>
          <para>No sábado um backup <emphasis>semanal</emphasis> é feito com quatro backups semanais por mês.</para>
        </listitem>
        <listitem>
          <para>O backup <emphasis>mensal</emphasis> é feito no primeira rotação do mes apó dois backups mensal baseado em se o mês é par ou impar.</para>
        </listitem>
      </itemizedlist>
      <para>Aqui está o novo script</para>
<programlisting>
#!/bin/bash
####################################
#
# Script para backup em NFS
# rotação avô-pai-filho.
#
####################################

# Fazer backup do que?
backup_files="/home /var/spool/mail /etc /root /boot /opt"

# Para onde enviar o backup?
dest="/mnt/backup"

# Definir variáveis para nome de arquivo de backup.
day=$(date +%A)
hostname=$(hostname -s)

# Descobrir qual é semana do mês (1-4).
day_num=$(date +%d)
if (( $day_num &lt;= 7 )); then
        week_file="$hostname-week1.tgz"
elif (( $day_num &gt; 7 &amp;&amp; $day_num &lt;= 14 )); then
        week_file="$hostname-week2.tgz"
elif (( $day_num &gt; 14 &amp;&amp; $day_num &lt;= 21 )); then
        week_file="$hostname-week3.tgz"
elif (( $day_num &gt; 21 &amp;&amp; $day_num &lt; 32 )); then
        week_file="$hostname-week4.tgz"
fi

# Descobrir se o mês é ímpar ou par.
month_num=$(date +%m)
month=$(expr $month_num % 2)
if [ $month -eq 0 ]; then
        month_file="$hostname-month2.tgz"
else
        month_file="$hostname-month1.tgz"
fi

# Criar o arquivo já com o nome definido.
if [ $day_num == 1 ]; then
	archive_file=$month_file
elif [ $day != "Sábado" ]; then
        archive_file="$hostname-$day.tgz"
else 
	archive_file=$week_file
fi

# Exibir a mensagem de início de backup.
echo "Fazendo backup de $backup_files em $dest/$archive_file"
date
echo

# Fazer backup dos arquivos usando tar.
tar czf $dest/$archive_file $backup_files

# Exibir a mensagem de final de backup.
echo
echo "Backup finalizado"
date

# Lista longa dos arquivos em $dest para verificar os tamanhos dos arquivos.
ls -lh $dest/
</programlisting>
      <para>O script pode ser executado usando os mesmos métodos como descrito em <xref linkend="backup-executing-shellscript"/>.</para>
      <para>É boa prática ter uma mídia de cópia de segurança fora do local em caso de desastre. No shell script, exemplo de mídia de cópia de segurança é outro servidor fornecendo um compartilhamento NFS. Muito provavelmente, ter o servidor NFS em outro local não seria prático. Dependendo da velocidade de conexão, pode ser uma opção para copiar o arquivo numa conexão WAN para um servidor noutro local.</para>
      <para>Outra opção é copiar o arquivo de  backup para um disco rígido externo que pode ser armazenado em outro ambiente. Uma vez que o preço de discos rígidos continuam a cair pode ser um custo efetivo utilizar dois drives para cada nível de arquivo. Isto irá permitir que você tenha um drive externo anexado ao servidor de backup e outro em outra localizaçao.</para>
    </sect2>
    <sect2 id="backup-shellscript-tapedrive" status="review">
      <title>Drives de fita</title>
      <para>Um drive de fita adicionado ao servidor pode ser usada em vez de um compartilhamento NFS. Usar um drive de fita simplifica a rotação do arquivo, e a tirando a mídia para fora do local também.</para>
      <para>Quando estiver usando um drive de fita as partes do nome de arquivo do script não são necessários porque a data é emitida diretamente ao dispositivo da fita. Isto é realizado utilizando o <application>mt</application>, uma utilitário de controle de fita magnética que faz parte do pacote <application>cpio</application>.</para>
      <para>Este é o shell script modificado para utilização do drive de fita:</para>
<programlisting>
#!/bin/bash
####################################
#
# Script para backup em unidade de fita.
#
####################################

# Fazer backup do que?
backup_files="/home /var/spool/mail /etc /root /boot /opt"

# Para onde enviar o backup?
dest="/dev/st0"

# Exibir a mensagem de início de backup.
echo "Fazendo backup de $backup_files em $dest"
date
echo

# Tenha certeza de que a fita está rebobinada.
mt -f $dest rewind

# Fazer backup dos arquivos usando o tar.
tar czf $dest $backup_files

# Rebobinar e ejetar a fita.
mt -f $dest rewoffl

# Exibir a mensagem de final de backup.
echo
echo "Backup finalizado"
date
</programlisting>
      <note>
        <para>O nome de dispositivo padrão para um drive de fita SCSI é <filename>/dev/st0</filename>. Use o caminho de dispositivo adequado para o seu sistema.</para>
      </note>
      <para>Restaurar de um drive de fita é basicamente o mesmo que restaurar de um arquivo. Simplesmente rebobine a fita e use o caminho do dispositivo no lugar do caminho do arquivo. Por exemplo para restaurar o arquivo <filename>/etc/hosts</filename> para <filename>/tmp/etc/hosts</filename>:</para>
<screen>
<command>mt -f /dev/st0 rewind</command>
<command>tar -xzf /dev/st0 -C /tmp etc/hosts</command>
</screen>
    </sect2>
  </sect1>
  <sect1 id="bacula" status="review">
    <title>Bacula</title>
    <para><application>Bacula</application> é um programa que possibilita fazer backup, restaura e verificar dados através da sua rede. Existem clientes do Bacula para Linux, Windows e Mac OSX. Tornando-o uma solução independente da plataforma e disponível para todo tipo de rede.</para> 
    <sect2 id="bacula-overview" status="review">
      <title>Visão geral</title>
      <para><application>Bacula</application>é composto de vários componentes e serviços usado para genrenciar quais arquivos a serem feito bakcupa e onde serão armazenados:</para>
      <itemizedlist>
        <listitem>
          <para><application>Bacula Director:</application> um serviço que controla backup, restauração, verificação, e operações de arquivo.</para>
        </listitem>
        <listitem>
          <para><application>Bacula Console:</application> uma aplicação que permite a comunicação com o Director. Existem três versões do Console:</para>
	  <itemizedlist>
            <listitem><para>Versão de linha de comando baseada em texto</para></listitem>
            <listitem><para>Interface Gráfica de Usuário (GUI) baseada no Gnome GTK+.</para></listitem>
            <listitem><para>Interface GUI wxWidgets.</para></listitem>
          </itemizedlist>
        </listitem>
        <listitem>
          <para><application>Bacula File:</application> também conhecido como o programa <application>Cliente do Bacula</application>. Esta aplicação é instalada nas máquinas que serão feito backup, e é responsável pelos dados requisitados pelo Director.</para>
        </listitem>
        <listitem>
          <para><application>Bacula Storage:</application> o programa que executa o armazenamento e recuperação dos dados para a mídia física.</para>
        </listitem>
        <listitem>
          <para><application>Bacula Catalog:</application> é responsável por manter os arquivos de índice e banco de dados de volumes para todos os arquivos feito backups, possiblitando a localização rápida e restauração dos arquivos arquivados. O Catalog suporta três diferentes tipos de bancos de dados, MySQL, PostgreSQL, e SQLite.</para>
        </listitem>
        <listitem>
          <para>O <application>Monitor do Bacular:</application> permite a monitoração do Director, daemons de arquivos, e deamons de Storage. Atualmente o Monitor só está disponível como uma aplicação GTK+ GUI.</para>
        </listitem>
      </itemizedlist>
      <para>Estes serviços e aplicações podem ser executados em múltiplos clientes e servidores, ou podem ser instalado em uma máquina se estiver fazendo o backup de um único disco ou volume.</para>
    </sect2>
    <sect2 id="bacula-installation" status="review">
      <title>Instalação</title>
      <para>Existem muitos pacotes contendo os diferentes componentes do <application>Bacula</application>. Para instalar o Bacula, no terminal digite:</para>
<screen>
<command>sudo apt-get install bacula</command>
</screen>
      <para>Por padrão, ao instalar o pacote <application>bacula</application> ele irá utilizar o banco de dados <application>MySQL</application> para o Catalog. Se você quizer usar o SQLite ou PostgreSQL, para o Catalog, instale <application>bacula-director-sqlite3</application> ou <application>bacula-director-pgsql</application> respectivamente.</para>
      <para>Durante o processo de instalação você sera solicitado para fornecer credenciais para o <emphasis>administrador</emphasis> do banco de dados e o <emphasis>proprietario</emphasis> do banco de dados do <emphasis>bacula</emphasis>. O administrador do banco de dados precisa ter os direitos apropriados para criar um banco de dados, para mais informações veja o <xref linkend="mysql"/>.</para>
    </sect2>
    <sect2 id="bacula-configuration" status="review">
      <title>Configuração</title>
      <para>O arquivos de configuração do <application>Bacula</application> são formatados baseados em <emphasis>recursos</emphasis> compreendido por <emphasis>diretivas</emphasis> cercados por chaves <quote>{}</quote>. Cada componente do Bacula tem um arquivo individual no diretório <filename role="directory">/etc/bacula</filename>.</para>
      <para>Os vários componentes do <application>Baculadevem autorizar-se entre eles. Isto password. Por exemplo. a senha do recurso Storage no arquivo /etc/bacula/bacula-dir.conf deve coincidir com a senha do recurso Director no arquivo /etc/bacula/bacula-sd.conf.</application></para>
      <para>Por padrão a tarefa de backup chamada <emphasis>Client1</emphasis> é configurada para arquivar o <application>Bacula</application> Catalog. Se você planeja utilizar um servidor para fazer backup de mais de um cliente você deve mudar o nome desta tarefa para algo mais descritivo. Para mudar o nome edite <filename>/etc/bacula/bacula-dir.conf</filename>:</para>
<programlisting>
#
# Define the main nightly save backup job
#   By default, this job will back up to disk in 
Job {
  Name = "ServidorDeBackup"
  JobDefs = "TarefaPadrao"
  Write Bootstrap = "/var/lib/bacula/Client1.bsr"
}
</programlisting>
      <note>
        <para>O exemplo acima alterar o nome da tarefa para <emphasis>BackupServer</emphasis> correspondendo ao nome da máquina. Substitua <quote>BackupServer</quote> com o nome aprópriado da máquina, ou com outro nome descritivo.</para>
      </note>
      <para>O <emphasis>Console</emphasis> pode ser usado para consultar o <emphasis>Director</emphasis> sobre tarefas, mas para usar o Console como usuário <emphasis>não-root</emphasis>, o usuário precisa fazer parte do grupo <emphasis>bacula</emphasis>. Para adicionar um usuário ao grupo bacula digite o seguinte no terminal:</para>
<screen>
<command>sudo adduser $username bacula</command>
</screen>
      <note>
        <para>Substitua <emphasis>$username</emphasis> com o nome do usuário atual. Também, se você estiver adicionando o usuário atual para o grupo você deve fazer o logout e login para que as novas permissões surtam efeito.</para>
      </note>
    </sect2>
    <sect2 id="bacula-localhost-backup" status="review">
      <title>Backup da Máquina Local</title>
      <para>Esta seção descreve como fazer o backup de diretórios específicos em uma única máquina para um drive de fita local.</para>
      <itemizedlist>
        <listitem>
          <para>Primeiro, o dispositivo <emphasis>Storage</emphasis> precisa ser configurado. Edite <filename>/etc/bacula/bacula-sd.conf</filename> e adicione:</para>
<programlisting>
Device {
  Name = "Tape Drive"
  Device Type = tape
  Media Type = DDS-4
  Archive Device = /dev/st0
  Hardware end of medium = No;
  AutomaticMount = yes;               # when device opened, read it
  AlwaysOpen = Yes;
  RemovableMedia = yes;
  RandomAccess = no;
  Alert Command = "sh -c 'tapeinfo -f %c | grep TapeAlert'"
}
</programlisting>
          <para>Este exemplo é para um drive de fita <emphasis>DDS-4</emphasis>. Ajuste o Tipo de Mídia e  Dispositivo de Arquivo que corresponda com o seu hardware.</para>
          <para>Você poderia igualmente remover o comentário de um dos outros exemplos no arquivo.</para>
        </listitem>
        <listitem>
          <para>Após a editar o <filename>/etc/bacula/bacula-sd.conf</filename> o daemon <application>Storage</application> terá de ser reiniciado:</para>
<screen>
<command>sudo /etc/init.d/bacula-sd restart</command>
</screen>
        </listitem>
        <listitem>
          <para>Agora adicione o recurso <emphasis>Storage</emphasis> no <filename>/etc/bacula/bacula-dir.conf</filename> para usar o novo Dispositivo:</para>
<programlisting>
# Definition of "Tape Drive" storage device
Storage {
  Name = TapeDrive
  # Do not use "localhost" here    
  Address = backupserver               # N.B. Use a fully qualified name here
  SDPort = 9103
  Password = "Cv70F6pf1t6pBopT4vQOnigDrR0v3LT3Cgkiyj"
  Device = "Tape Drive"
  Media Type = tape
}
</programlisting>
          <para>A diretiva <emphasis>Address</emphasis> precisa usar o Fully Qualified Domain Name (FQDN) do servidor. Altere <emphasis>backupserver</emphasis> para o nome atual da máquina.</para>
          <para>Também, assegure-se que a diretiva <emphasis>Password</emphasis> combine com a senha em <filename>/etc/bacula/bacula-sd.conf</filename>.</para>
        </listitem>
        <listitem>
          <para>Crie um novo  <emphasis>FileSet</emphasis>, que irá determinar quais diretórios irão conter no backup, adicionando:</para>
<programlisting>
# LocalhostBacup FileSet.
FileSet {
  Name = "LocalhostFiles"
  Include {
    Options {
      signature = MD5
      compression=GZIP
    }
    File = /etc
    File = /home
  }
}
</programlisting>
          <para>Este <emphasis>FileSet</emphasis> irá fazer o backup dos diretórios <filename role="directory">/etc</filename> e <filename role="directory">/home</filename>. A diretiva  <emphasis>Options</emphasis> do recurso  configuram o FileSet para criar uma assinatura MD5 para cada arquivo da cópia de segurança, e para comprimir os arquivos usando GZIP.</para>
        </listitem>
        <listitem>
          <para>A seguir, crie um novo <emphasis>Agendamento</emphasis> para a tarefa de backup:</para>
<programlisting>
# LocalhostBackup Schedule -- Daily.
Schedule {
  Name = "LocalhostDaily"
  Run = Full daily at 00:01
}
</programlisting>
          <para>A tarefa será executada todo dia as 00:01 ou 12:01 am. Existem várias outras opções de agendamento disponíveis.</para>
        </listitem>
        <listitem>
          <para>Finalmente crie a <emphasis>Tarefa</emphasis>:</para>
<programlisting>
# Localhost backup.
Job {
  Name = "LocalhostBackup"
  JobDefs = "DefaultJob"
  Enabled = yes
  Level = Full
  FileSet = "LocalhostFiles"
  Schedule = "LocalhostDaily"
  Storage = TapeDrive
  Write Bootstrap = "/var/lib/bacula/LocalhostBackup.bsr"
}  
</programlisting>
          <para>A tarefa irá fazer um backup <emphasis>Completo</emphasis> para o drive de fita diariamente.</para>
        </listitem>
        <listitem>
          <para>Cada fita usada precisará de um <emphasis>Rótulo</emphasis>. se a fita atual não tiver um rótulo  o <application>Bacula</application> enviará um email para que você saiba. Para rotular uma fita usando o <application>Console</application> digite o seguinte comando no terminal:</para>
<screen>
<command>bconsole</command>
</screen>
        </listitem>
        <listitem>
          <para>No console do Bacula digite:</para>
<screen>
<command>label</command>
</screen>
        </listitem>
        <listitem>
          <para>Será solicitado o recurso de <emphasis>Armazenamento</emphasis>:</para>
<screen>
<computeroutput>
Catálogo selecionado automáticamente: MeuCatalogo
Usando catálogo "MeuCatalog"
Os recursos de Armazenamento definidos são:
     1: Arquivo
     2: Drive de Fita
Selecione o recurso de Armazenamento (1-2):<userinput>2</userinput>
</computeroutput>
</screen>
        </listitem>
        <listitem>
          <para>Digite o nome do novo <emphasis>Volume</emphasis>:</para>
<screen>
<computeroutput>
Digite o novo nome do Volume: <userinput>Domingo</userinput>
Pools Definidas:
     1: Padrão
     2: Zerado</computeroutput>
</screen>
          <para>Substitua <emphasis>Domingo</emphasis> com o rótulo desejado.</para>
        </listitem>
        <listitem>
          <para>Agora, selecione o <emphasis>Pool</emphasis>:</para>
<screen>
<computeroutput>
Selecione o Pool (1-2): <userinput>1</userinput>
Conectando ao daemon de armazenamento do TapeDrive TapeDrive no backupserver:9103 ...
Enviando o comando label para o Volume "Domingo" Slot 0 ...
</computeroutput>
</screen>
        </listitem>
      </itemizedlist>
      <para>Parabéns, você tem agora o emphasis&gt;Bacula</para>
    </sect2>
    <sect2 id="bacula-resources" status="review">
      <title>Recursos</title>
      <itemizedlist>
        <listitem>
          <para>Para mais opções de configuração do <emphasis>Bacula</emphasis> veja o <ulink url="http://www.bacula.org/en/rel-manual/index.html">Manual do Usuário do Bacula</ulink></para>
        </listitem>
        <listitem>
          <para>A página do <ulink url="http://www.bacula.org/">Bacula</ulink> contém as últimas notícias e desenvolvimento do Bacula.</para>
        </listitem>
      </itemizedlist>
    </sect2> 
  </sect1>
</chapter>
